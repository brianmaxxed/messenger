module.exports=function(e){var t={};function s(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,s),r.l=!0,r.exports}return s.m=e,s.c=t,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(a,r,function(t){return e[t]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="./dist/public/",s(s.s=16)}([function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});s(1);class a{static addProp(e,t){if(e in a){const t=`Constant class c already has property '${e}' assigned`;throw new Error(t)}Object.defineProperty(a,e,{value:t,writable:!1})}}a.addProp("LEAN",!0),a.addProp("TRUE","true"),a.addProp("FALSE","false"),a.addProp("INDEX","index"),a.addProp("UNIQUE","unique"),a.addProp("SPARSE","sparse"),a.addProp("NESTED","NESTED"),a.addProp("PAGE_LIMIT",1e3),a.addProp("PER_PAGE_LIMIT",20),a.addProp("MULTI_PER_PAGE_LIMIT",10),a.addProp("SIGINT","SIGINT"),a.addProp("SIGTERM","SIGTERM"),a.addProp("EMPTY_STR",""),a.addProp("OFFLINE","offline"),a.addProp("DISABLED","disabled"),a.addProp("SOFT_DELETE","softDelete"),a.addProp("OPEN","open"),a.addProp("EXIT","exit"),a.addProp("CONNECTING","connecting"),a.addProp("CONNECTED","connected"),a.addProp("DISCONNECTION","disconnecting"),a.addProp("DISCONNECTED","disconnected"),a.addProp("CLOSE","close"),a.addProp("RECONNECT","reconnected"),a.addProp("ERROR","error"),a.addProp("FULLSETUP","fullsetup"),a.addProp("ALL","all"),a.addProp("BOOLEAN","boolean"),a.addProp("OBJECT","object"),a.addProp("STRING","string"),a.addProp("FUNCTION","function"),a.addProp("NUMBER","number"),a.addProp("UNDEFINED","undefined"),a.addProp("INSERT","insert"),a.addProp("UPDATE","update"),a.addProp("DELETE","delete"),Object.freeze(a),t.default=a},function(e,t,s){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(s(10));s(11).load({path:a.default.join(e,"../../.env"),sample:a.default.join(e,"../../.env.example")});const r={user:"brian",appName:"messengerBackend",debug:!1,debugLevel:"debug",debugDb:!1,debugExpress:!1,debugUnitTests:!1,stackTraceUnhandledErrors:!0,unitTestDbSuffix:"TEST_brian",host:"localhost",domain:process.env.DOMAIN,environment:"dev",port:"3000",mongo:{dbName:null,uri:null}};"test"==="dev".toLowerCase()&&process.env.TEST_ENV;r.mongo.dbName="authed",r.mongo.uri="mongodb+srv://authed1:authed1@devsizelrauth0-omvzv.mongodb.net",t.default=r}).call(this,"src/config")},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(s(15)),r=n(s(0));function n(e){return e&&e.__esModule?e:{default:e}}class o{}o.INTERNAL_ERROR={id:500,status:500,msg:"internal error."},o.SUCCESS={id:1,status:200,msg:a.default.OK},o.SUCCESSFUL_LOGIN={id:22,status:201,msg:"successfully logged in."},o.SUCCESSFUL_LOGOUT={id:22,status:205,msg:"successfully logged out."},o.SUCCESSFUL_UPDATE_WITH_TOKEN={id:22,status:298,msg:"successful update. new token returned."},o.SUCCESSFUL_UPDATE={id:22,status:299,msg:"successful update."},o.INVALID_PAGE={id:22,status:422,msg:"the page param must be an integer within 1 and 1000."},o.PASSWORD_VERIFIED={id:400,status:200,msg:"the password has been verified."},o.EMAIL_VERIFIED={id:400,status:422,msg:"the email has been verified."},o.EMAIL_ALREADY_VERIFIED={id:400,status:422,msg:"the email has already been verified."},o.UPDATE_COMPLETED={id:200,status:200,msg:"The updated has complete."},o.UPDATE_COMPLETED_WITH_LOGOUT={id:200,status:200,msg:"The updated has complete. user is logged out."},o.SIGNUP_COMPLETE={id:202,status:200,msg:"signup is complete. confirm email, and login with credentials."},o.SIGNUP_NOT_COMPLETE={id:999,status:470,msg:"signup is not complete. check your input fields and re-submit."},o.NO_EXTRA_FIELDS={id:200,status:445,msg:"do not include invalid fields."},o.REMEMBERED_LOGGED_IN_INVALID={id:200,status:446,msg:"rememberLoggedIn param must be boolean true or false."},o.MUST_AUTHENTICATE={id:400,status:421,msg:"please enter login credentials."},o.CONTACT_LIMIT_REACHED={id:400,status:421,msg:"you have reached the maximum contacts allowed."},o.SPECIFY_CONTACT_INDEX={id:400,status:421,msg:"you must specify a valid contact index."},o.SPECIFY_VERIFY_CODE={id:400,status:421,msg:"you must specify a valid verification code."},o.NO_VERIFY_CODE_IN_USE={id:400,status:421,msg:"invalid; please request a new verification code."},o.NOT_A_BOOLEAN={id:400,status:421,msg:"value must be true or false."},o.INVALID_VERIFY_CODE={id:400,status:421,msg:"invalid verification code."},o.EMAIL_VERIFIED={id:200,status:221,msg:"email has been verified."},o.OLD_EMAIL_REQUIRED={id:400,status:221,msg:"current email is required."},o.NEW_EMAIL_REQUIRED={id:400,status:421,msg:"new email is required."},o.EMAIL_NOT_FOUND={id:400,status:421,msg:"that email was not found."},o.OLD_EMAIL_NOT_FOUND={id:400,status:421,msg:"current email was not found."},o.NEW_EMAIL_IN_USE={id:400,status:421,msg:"new email is already in use."},o.SPECIFY_OLD_EMAIL={id:400,status:421,msg:"current email is required."},o.SPECIFY_NEW_EMAIL={id:400,status:421,msg:"new email is required."},o.SPECIFY_OLD_ALT_EMAIL={id:400,status:421,msg:"current alt email is required."},o.SPECIFY_NEW_ALT_EMAIL={id:400,status:421,msg:"new alt email is required."},o.CANT_DELETE_PRIMARY_CONTACT={id:400,status:421,msg:"cannot delete the primary contact."},o.PROFILE_NAME_IN_USE={id:400,status:421,msg:"you have already used that profile name."},o.SUBSCRIPTION_ID_IN_USE={id:400,status:421,msg:"you have already added that subscription."},o.SUBSCRIPTION_ID_NOT_FOUND={id:400,status:421,msg:"you do not have that subscription."},o.SERVICE_ID_IN_USE={id:400,status:421,msg:"you have already added that service."},o.SERVICE_ID_NOT_FOUND={id:400,status:421,msg:"you do not have that service."},o.SUBSCRIPTION_ALREADY_CANCELLED={id:400,status:421,msg:"subscription already cancelled."},o.SUBSCRIPTION_ALREADY_RESUMED={id:400,status:421,msg:"subscription already resumed."},o.SUBSCRIPTION_ALREADY_PAUSED={id:400,status:421,msg:"subscription already paused."},o.PROFILE_ID_NOT_FOUND={id:400,status:421,msg:"that profile id was not found."},o.PAYMENT_ID_NOT_FOUND={id:400,status:421,msg:"that payment id was not found."},o.INVALID_PROFILE_ID={id:400,status:421,msg:"that profile id is invalid"},o.PROFILE_LIMIT_REACHED={id:400,status:421,msg:"you have reached the maximum profiles allowed."},o.SPECIFY_PROFILE_INDEX={id:400,status:421,msg:"you must specify a valid profile index."},o.SPECIFY_NEW_USERNAME={id:400,status:421,msg:"you must specify a valid new username."},o.SPECIFY_PROFILE_ID={id:400,status:421,msg:"you must specify a valid profile id."},o.SPECIFY_DEVICE_ID={id:400,status:421,msg:"you must specify a valid device id."},o.SPECIFY_DEVICE_ID={id:400,status:421,msg:"you must specify a valid device id."},o.INVALID_DEVICE_ACTIVATION_CODE={id:400,status:421,msg:"invalid device activation code."},o.DEVICE_ALREADY_ACTIVATED={id:400,status:421,msg:"device already activated."},o.CANT_DELETE_PRIMARY_PROFILE={id:400,status:421,msg:"cannot delete the main profile."},o.SPECIFY_ONE_SETTING={id:400,status:421,msg:"you must specify one setting."},o.SPECIFY_ONE_INDEX={id:400,status:421,msg:"you must specify one valid index."},o.INVALID_SETTING_VALUE={id:400,status:421,msg:"invalid setting value."},o.INVALID_SETTING_STORE={id:400,status:421,msg:"invalid setting store."},o.SPECIFY_SETTINGS={id:400,status:421,msg:"you must specify settings."},o.INVALID_SETTINGS={id:400,status:421,msg:"invalid settings."},o.INVALID_SETTING={id:400,status:421,msg:"specified an invalid setting."},o.PROPERTY_NOT_WRITABLE={id:400,status:421,msg:"that setting is not writable"},o.PROPERTY_NOT_ENABLED={id:400,status:421,msg:"that setting is not enabled"},o.INVALID_PARAMETERS={id:400,status:421,msg:"payload contains invalid function parameters"},o.INVALID_SETTING_STORE_TYPE={id:400,status:421,msg:"that is not a valid setting store type."},o.PROPERTY_NOT_FOUND={id:400,status:421,msg:"that setting was not found."},o.INVALID_DEVICE_CREDENTIALS={id:400,status:418,msg:"invalid authentication credentials. no device found."},o.REQUIRED_EMAIL_OR_USERNAME={id:400,status:418,msg:"username or password is required, but not both."},o.DEVICE_REQUIRED={id:400,status:418,msg:"at least 1 valid device is required."},o.INVALID_USER={id:400,status:419,msg:"not authenticated. that is an invalid user."},o.INVALID_USERNAME={id:400,status:423,msg:"not authenticated. that is an invalid username. please login again."},o.NOT_AUTHENTICATED={id:400,status:400,msg:"not authenticated. please login first."},o.NOT_AUTHORIZED={id:400,status:401,msg:"not authenticated. please login first."},o.ALREADY_AUTHENTICATED={id:400,status:402,msg:"already authenticated. logout first."},o.PASSWORD_NOT_VERIFIED={id:400,status:302,msg:"the password is incorrect."},o.INVALID_AUTH_CREDENTIALS={id:400,status:410,msg:"invalid authentication credentials."},o.MUST_AGREE_TO_TERMS={id:400,status:414,msg:"you must agree to terms."},o.NEED_ALL_REQUIRED_FIELDS={id:400,status:411,msg:"please fill out all required fields."},o.FIELD_VALIDATION_ERRORS={id:400,status:449,msg:"field validation errors."},o.NEW_USERNAME_REQUIRED={id:400,status:499,msg:"the new username field is required."},o.PASSWORD_REQUIRED={id:400,status:499,msg:"the password is required."},o.NEW_PASSWORD_REQUIRED={id:400,status:499,msg:"the new password is required."},o.NEW_PASSWORD_CANNOT_BE_SAME={id:400,status:499,msg:"the new password cannot be the same as the old password."},o.OLD_PASSWORD_MUST_MATCH={id:400,status:499,msg:"the old password must match the current password."},o.OLD_PASSWORD_REQUIRED={id:400,status:499,msg:"the old password is required."},o.NEW_PASSWORD_FIELD_REQUIRED={id:400,status:499,msg:"the new password field is required."},o.USERNAME_ALREADY_EXISTS={id:400,status:498,msg:"that username already exists."},o.ACCOUNT_NOW_LOCKED={id:400,status:420,msg:"you have reached the maximum login attempts."+`your account is locked for ${r.default.LOCK_TIME/60} minutes.`},o.ACCOUNT_IS_LOCKED={id:400,status:420,msg:"this user is locked. See your email for the time it will be unlocked."},o.DISABLED_ACCOUNT={id:400,status:420,msg:"this account is disabled. contact support."},o.ACCOUNT_NOT_ACCESSIBLE={id:400,status:420,msg:"this account is not accessable. contact support."},o.INVALID_APP_ACCOUNT={id:400,status:499,msg:"invalid app account."},o.PROFANITY_REJECT_NAME={id:400,status:450,msg:"your name and username cannot contain profanity."},o.INVALID_INPUT={id:400,status:450,msg:"your name and username cannot contain profanity."},o.TESTING_ROUTE={id:200,status:298,msg:"testing route."},o.INVALID_ACCOUNT_ID={id:400,status:421,msg:"invalid account id."},Object.freeze(o),t.default=o},function(e,t){e.exports=require("lodash")},function(e,t){e.exports=require("mongoose")},function(e,t){e.exports=require("express")},function(e,t,s){"use strict";o(s(7));var a=o(s(3)),r=(o(s(35)),o(s(8)),o(s(0)),o(s(2))),n=(o(s(36)),o(s(1)));function o(e){return e&&e.__esModule?e:{default:e}}const i=e=>{const t={};if(!e)return t;const{id:s=0,status:r=500,msg:n="internal error"}=e;if(t.id=s,t.status=r,t.msg=n,a.default.get(e,"errors"))t.errors=e.errors;else{t.errors=[];const a={error:{id:s,status:r,msg:n}};e.extra&&(a.extra=e.extra),t.errors.push(a)}return t},u=(e,t,s)=>{const r=Object.assign({},e);return r&&(r.error&&(r.errors?r.errors.push({msg:r.error.msg,stack:r.error.stack}):r.errors=[{error:r.error}],delete r.error,a.default.has(r,"status")||(r.status=r.errors[0].status||500)),t.type("json"),t.status(r.status||500).send(r)),t.headersSent||s(),r};e.exports={mapToArray:e=>{const t=[];return e.forEach((e,s,a)=>{t.push(e)}),t},wrapErrorCode:e=>[{error:e}],hasOnlyOne:(e={},t=[])=>{const s=t.filter(t=>t in e).map(t=>({field:t,value:e[t]}));return 1===s.length?s:[]},processResults:u,statusObject:(e,t={})=>{const{id:s,status:a,msg:r}=e;return{id:s,status:a,msg:r,data:t}},errorObject:i,unhandledErrorObject:e=>("production"!==n.default.environment||n.default.stackTraceUnhandledErrors?console.log(e.stack):console.log(`${e.message} ${e.extra}`),"production"!==n.default.environment||n.default.debug?i(e):i(r.default.INTERNAL_ERROR)),formatTimeLeft:e=>{const t=e/60>1?e/60:1;return`${t} minute${1!==t?"s":""}`},asynced:async(e,t,s)=>{const[a,r,n]=s,o=await e[t](a);return u(o,r,n),o},asyncForEachLinear:async(e,t)=>{for(const s of e)await t(s)},asyncForEach:async(e,t)=>{await Promise.all(e.map(t))}}},function(e,t){e.exports=require("moment")},function(e,t){e.exports=require("uuid/v4")},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={user:"user"}},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("dotenv-safe")},function(e,t){e.exports=require("http")},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(s(29));class r{constructor(){this.models=r.all}static get all(){return{user:new a.default}}get all(){return Object.assign({},this.models)}}t.default=r},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(4),r=n(s(9));n(s(0));function n(e){return e&&e.__esModule?e:{default:e}}s(30)();const o=new a.Schema({userId:{type:String,required:!0},username:{type:String,minlength:2,maxlength:16},accountId:{type:String,required:!0},password:{type:String,required:!0,hideJSON:!0},mustChangePassword:{type:Boolean,hideJSON:!0},forcedLogout:{type:Boolean,hideJSON:!0},mustVerifyPassword:{type:Boolean,hideJSON:!0},image:{type:String},gravatarId:{type:String},agreementVersion:{type:Number,hideJSON:!0},offline:{type:Boolean},disabled:{type:Boolean},softDelete:{type:Boolean},archive:{type:Boolean}},{autoIndex:!1,timestamps:!0,collection:r.default.user});o.index({accountId:1,username:1},{unique:!0}),o.index({accountId:1,userId:1,"profiles.name":1},{unique:!0}),o.index({accountId:1,"profiles.profileId":1},{unique:!0}),o.index({accountId:1,"contacts.email":1},{unique:!0}),o.index({accountId:1,"contacts.altEmail":1},{unique:!0,partialFilterExpression:{"contacts.altEmail":{$type:"string"}}}),o.index({accountId:1,"devices.deviceId":1},{unique:!0,partialFilterExpression:{"contacts.deviceId":{$type:"string"}}}),o.index({paymentId:1},{unique:!0,partialFilterExpression:{"paymentMethods.paymentId":{$type:"string"}}}),o.pre("save",e=>{e()}),o.statics.findValidUser=async function(e={},t=!1,s={}){let a=null;try{a=await this.findOne(e,s).lean(t)}catch(e){console.log("Error: ",e.stack)}return!a||a.softDelete||a.archive?null:a},t.default=o},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class a{}a.OK="OK",t.default=a},function(e,t,s){"use strict";var a=i(s(17)),r=i(s(1)),n=i(s(0)),o=s(18);function i(e){return e&&e.__esModule?e:{default:e}}r.default.debug&&a.default.install({environment:n.default.NODE}),r.default.debug&&s(39),process.on("SIGTERM",()=>{console.log("SIGTERM"),(0,o.shutdown)()}),process.on("SIGINT",()=>{console.log("SIGINT"),(0,o.shutdown)()}),(0,o.startup)(),e.exports={app:o.app,server:o.server,startup:o.startup,shutdown:o.shutdown}},function(e,t){e.exports=require("source-map-support")},function(e,t,s){"use strict";g(s(3));var a=g(s(5)),r=g(s(4)),n=g(s(12)),o=g(s(19)),i=g(s(20)),u=g(s(21)),d=(g(s(22)),g(s(23))),l=(g(s(10)),g(s(24)),g(s(25))),c=g(s(26)),f=(g(s(27)),g(s(0))),E=g(s(28)),m=g(s(1)),_=g(s(37));function g(e){return e&&e.__esModule?e:{default:e}}s(11).config();let p=null;const I=(0,a.default)();I.use((0,d.default)()),I.disable("x-powered-by"),I.use((0,c.default)()),I.use((0,l.default)()),I.use((0,u.default)({origin:"*",credentials:!0,optionsSuccessStatus:200,allowedHeaders:["Content-Type","Authorization","Accept","Accept-Encoding"]})),I.use(o.default.urlencoded({extended:!1})),I.use((e,t,s)=>{o.default.json({verify(e,t,s,a){e.rawBody=s.toString()}})(e,t,e=>{if(e){const s=-1!==e.message.indexOf("JSON")?e.message:"internal error";t.status(500).send({error:{status:500,msg:s}}),console.log(f.default.ERROR,{status:e.status||500,message:e.msg,error:e})}else s()})}),I.use((0,i.default)()),I.set("trust proxy",!0),I.set(f.default.PORT,m.default.port),m.default.debug&&m.default.debugExpress&&console.log("Overriding 'Express' logger"),I.use(_.default),e.exports={app:I,httpServer:p,startup:async e=>{try{const t=e||I.get(f.default.PORT);E.default.setDebug(m.default.debug),await E.default.connect(),(p=n.default.createServer(I)).listen(t),console.log("listening at http://%s:%d",m.default.host,t)}catch(e){console.log("Error: ",e.stack)}return p},shutdown:async(e=!0)=>{console.log(`app '${m.default.appName}' terminating.`),console.log("closing server...");try{await p.close(),console.log("express server close."),await r.default.connection.close(),console.log("Mongoose default connection disconnected."),r.default.connection.removeAllListeners()}catch(e){console.log("Uncaught Shutdown Error:",e.stack)}return console.log("Finally exiting."),e&&process.exit(1),null}}},function(e,t){e.exports=require("body-parser")},function(e,t){e.exports=require("cookie-parser")},function(e,t){e.exports=require("cors")},function(e,t){e.exports=require("csurf")},function(e,t){e.exports=require("helmet")},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("compression")},function(e,t){e.exports=require("response-time")},function(e,t){e.exports=require("method-override")},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(s(4)),r=u(s(13)),n=u(s(1)),o=u(s(0)),i=u(s(6));function u(e){return e&&e.__esModule?e:{default:e}}const d={db:null,test:!1};t.default={get:()=>d.db,setAsTest:()=>{d.test=!0},setDebug:e=>{n.default.debugDb&&(a.default.connection.removeAllListeners(),a.default.set(o.default.DEBUG,!0),n.default.debug&&console.log(`starting in debug mode; env=${n.default.environment}`),[o.default.CONNECTING,o.default.CONNECTED,o.default.OPEN,o.default.DISCONNECTING,o.default.DISCONNECTED,o.default.CLOSE,o.default.RECONNECTED,o.default.ERROR,o.default.ALL,o.default.INDEX].forEach(e=>{a.default.connection.on(e,()=>{console.log(`Mongoose event ${e}`)})}))},connect:async(e,t)=>{const s=e||`${n.default.mongo.uri}`,r=t||`${n.default.mongo.dbName}`,o={dbName:r||n.default.mongo.dbName,reconnectTries:5,reconnectInterval:500,keepAlive:!0,config:{autoIndex:!1,background:!1}};n.default.debug&&(console.log(`mongo Uri: ${s}`),console.log(`mongo Db: ${r}`));try{const e=await a.default.connect(s,o);return d.db=e,d.db}catch(e){return console.log("Error: ",e.stack),null}},createIndexes:async()=>{try{const e=r.default.all;await i.default.asyncForEach(Object.keys(e),async t=>{e[t]&&e[t].Model&&(e[t].Model.collection&&(await e[t].Model.collection.getIndexes(),await e[t].Model.collection.dropIndexes()),await e[t].Model.createIndexes())})}catch(e){return console.log(e),i.default.unhandledErrorObject(e)}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});d(s(3));var a=d(s(4)),r=(d(s(7)),d(s(8)),d(s(14))),n=d(s(31)),o=(d(s(0)),d(s(2))),i=d(s(9)),u=d(s(6));d(s(1));function d(e){return e&&e.__esModule?e:{default:e}}class l extends n.default{static get Model(){return a.default.model(i.default.user,r.default)}get Model(){return l.Model}async ping(e={}){try{const e=await l.Model.find({},{username:1,_id:0}).limit(30).lean();return{status:o.default.SUCCESS.status,data:{message:e}}}catch(e){return u.default.unhandledErrorObject(e)}}}t.default=l},function(e,t){e.exports=require("mongoose-hidden")},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=f(s(3)),r=f(s(4)),n=(f(s(7)),f(s(8))),o=f(s(14)),i=(f(s(32)),f(s(0))),u=f(s(2)),d=f(s(9)),l=s(6),c=f(l);f(s(1));function f(e){return e&&e.__esModule?e:{default:e}}class E{static get Model(){return r.default.model(d.default.user,o.default)}get Model(){return r.default.model(d.default.user,o.default)}isAuthN(e){return a.default.isObject(e)&&"auth"in e&&!1===e.auth.expired&&!0===e.auth.verified}isAuthZ(e,t){return this.isAuthN(e)?"user"===t||u.default.NOT_AUTHORIZED:u.default.NOT_AUTHENTICATED}securePayload(e){const t=Object.assign({},e);return delete t.password,t}async setProperty(){}async getProperty(){}async findValidUser(e={},t=!1,s={}){return await this.Model.findValidUser(e,t,s)}async getFreshAuthedUserDetails(e,t=!1){return this.getAuthedUserDetails(e,i.default.REFRESH_FROM_DB,t)}async getAuthedUserDetails(e,t=!1,s=!1){if(!this.isAuthN(e))return{valid:!1,error:u.default.NOT_AUTHENTICATED};const a={valid:!0,auth:e.auth};if(t){const{accountId:t,sub:r}=e.auth.payload,n=await this.findValidUser({accountId:t,userId:r},s);if(!n)return Object.assign(a,{valid:!1,error:u.default.INVALID_USER});a.user=n}return a}async checkContactInfo(e,t={}){const s={valid:!1};if(!this.hasRequired(t,["email","firstName","lastName"]))return s.errors=(0,l.errorObject)(u.default.NEED_ALL_REQUIRED_FIELDS),s;const a=["email","altEmail","firstName","middleName","lastName","displayName","title","phone","timezone","birthdate","gender"];return Object.keys(t).filter(e=>!a.includes(e)).length>0?(s.errors=(0,l.errorObject)(u.default.NO_EXTRA_FIELDS),s):(s.valid=!0,s)}async updateUserDeviceDocument(e,t,s,a=!1){const r=Object.assign({},s);a&&(r.refreshToken=void 0);const n=await E.Model.findOne({accountId:e,userId:t}),o=n.devices.findIndex(e=>e.deviceId===r.deviceId);if(o<0)return null;delete r.deviceId,Object.keys(r).forEach(e=>{n.devices[o][e]=r[e]});await n.save()}verifyProfile(e,t,s){const a={valid:!1,fields:[],errors:[]};return a.valid=!0,a}validateRequiredFields(e){const t=[];return!!e||(t.push({error:{type:"empty fields object",msg:"empty fields object"}}),{errors:t})}async checkForRequiredFieldsNotInUse(e,t){try{const s=t;if(!t||!t.email||!t.username)return null;const r={accountId:e,$and:[{$or:[]}]};s.email&&(s.email=s.email.toLowerCase(),r.$and[0].$or.push({"contacts.email":s.email})),s.username&&r.$and[0].$or.push({username:s.username});const n={"contacts.email":1,username:1,_id:0},o=await this.Model.find(r,n).lean();if(o&&o.length>0){const e={status:400,errors:[]},t=a.default.flatten(o.map(e=>a.default.flatten(e.contacts).map(t=>({username:e.username,email:t.email}))));if(Object.keys(s).forEach(a=>{t.forEach(t=>{s[a]===t[a]&&e.errors.push({error:{msg:`that ${a} '${t[a]}' is already taken.`}})})}),e.errors.length>0)return e}return!0}catch(e){return c.default.unhandledErrorObject(e)}}checkProfileInfo(e){return{valid:!1,errors:null}}isUserLocked(e){return a.default.get(e,"lockedUntil",0)>Date.now()}async getSecureUserData(e){let t;if(e)t=e;else if(!(t=await this.Model.findValidUser({accountId:e.accountId,userId:e.userId},i.default.LEAN)))return null;return t.password=void 0,t.devices.forEach((e,s)=>{t.devices[s].refreshToken=void 0}),t}async getUniqueId(e,t,s){try{let a={id:null,cnt:0};do{a.id=(0,n.default)().toString().replace(/-/g,""),await e.Model.findOne({userId:t.userId,accountId:t.accountId,[s]:a.id},Object.assign({_id:0},{[s]:1}))&&a.cnt<10&&(a={id:null,count:a.cnt+1})}while(!a.id);return a.id}catch(e){console.log(e)}}}t.default=E},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a(s(5)),a(s(3)),a(s(0)),a(s(2)),a(s(33)),a(s(1));function a(e){return e&&e.__esModule?e:{default:e}}t.default=class{constructor(){this.M=null,this.query=null,this.seachLog="search_log",this.project={default:{credits:0,combined_credits:0,movie_credits:0,tv_credits:0,external_ids:0,production_companies:0,images:0,tagged_imaged:0,production_countries:0,reviews:0,videos:0,recommendations:0,similar:0,networks:0,adult:0,belongs_to_collection:0,spoken_languages:0,_id:0}}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e&&e.__esModule}(s(1));const a=s(34).MongoClient,r={db:null},n=()=>r.db;t.default={close:async()=>{try{r.db&&(await r.db.close(),r.db=null,r.mode=null)}catch(e){return console.log("Error: ",e.stack),e}return null},collection:e=>n().collection(e),connect:async e=>{if(r.db)return r.db;try{const t=await a.connect(e);return r.db=t,console.log(t),t}catch(e){return console.log("Error: ",e.stack),e}},get:n}},function(e,t){e.exports=require("mongodb")},function(e,t){e.exports=require("util")},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a(s(15)),a(s(0));function a(e){return e&&e.__esModule?e:{default:e}}class r{}r.INTERNAL_ERROR={id:500,status:500,msg:"internal error."},r.ENUM_PROP_NOT_FOUND={id:10001,status:400,msg:"enum property does not exist."},r.INVALID_FIELD_SOURCE_TYPE={id:10001,status:400,msg:"invalid source field type, use: params or body."},r.INVALID_VALIDATION_FIELD={id:10002,status:400,msg:"that validation field is not in the validation map."},r.TEST={id:1,status:1,msg:"test"},Object.freeze(r),t.default=r},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(s(5)),r=(o(s(12)),o(s(0)),o(s(2)),o(s(38))),n=o(s(13));function o(e){return e&&e.__esModule?e:{default:e}}const i=a.default.Router(),u=n.default.all;i.get("/api/v1/en/ping",(e,t,s)=>{t.status(200).send("pinged")}),i.use("/api/v1/en/user",r.default.routes(u.user)),i.use((e,t,s)=>{const a=new Error("Not Found");a.status=404,s(a)}),i.use((e,t,s,a)=>{const r=e.status?e.status:500;let n=`${r}: ${e.message}`;Array.isArray(n)||(n=[n]);const o={errors:n};e.data&&(o.errors=e.data),s.status(r).send(o)}),t.default=i},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(s(5)),r=(n(s(0)),n(s(2)),s(6));n(r);function n(e){return e&&e.__esModule?e:{default:e}}t.default=class{static routes(e){const t=a.default.Router();return t.get("/ping",async(...t)=>{await(0,r.asynced)(e,"ping",t)}),t}}},function(e,t,s){"use strict";var a=r(s(1));r(s(0));function r(e){return e&&e.__esModule?e:{default:e}}a.default.debug&&(process.on("unhandledRejection",(e,t)=>{console.log("unhandledRejection...");let s="";t&&(s=`Unhandled Rejection at: Promise${t}`),console.log("reason:",s,e)}),process.on("uncaughtException",e=>{console.log("Error: ",e.stack)}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbmZpZy9jb25zdHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbmZpZy9lbnYuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbmZpZy9zdGF0dXNDb2Rlcy5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJsb2Rhc2hcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtb25nb29zZVwiIiwid2VicGFjazovLy9leHRlcm5hbCBcImV4cHJlc3NcIiIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvaGVscGVyLmpzIiwid2VicGFjazovLy9leHRlcm5hbCBcIm1vbWVudFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcInV1aWQvdjRcIiIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL2NvbnN0cy9tb2RlbHMuanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwicGF0aFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcImRvdGVudi1zYWZlXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiaHR0cFwiIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvTW9kZWxzLmpzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvc2NoZW1hcy9Vc2VyU2NoZW1hLmpzIiwid2VicGFjazovLy8uL3NyYy9jb25maWcvbWVzc2FnZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZlci5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJzb3VyY2UtbWFwLXN1cHBvcnRcIiIsIndlYnBhY2s6Ly8vLi9zcmMvZXhwcmVzcy5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJib2R5LXBhcnNlclwiIiwid2VicGFjazovLy9leHRlcm5hbCBcImNvb2tpZS1wYXJzZXJcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJjb3JzXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiY3N1cmZcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJoZWxtZXRcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJmc1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcImNvbXByZXNzaW9uXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwicmVzcG9uc2UtdGltZVwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIm1ldGhvZC1vdmVycmlkZVwiIiwid2VicGFjazovLy8uL3NyYy9jb25maWcvbW9uZ29vc2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9Vc2VyLmpzIiwid2VicGFjazovLy9leHRlcm5hbCBcIm1vbmdvb3NlLWhpZGRlblwiIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvYmFzZS9Vc2VyQmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL2Jhc2UvQmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL2RiLmpzIiwid2VicGFjazovLy9leHRlcm5hbCBcIm1vbmdvZGJcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ1dGlsXCIiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbmZpZy9lcnJvckNvZGVzLmpzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sbGVycy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvVXNlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvcHJvY2Vzc0V2ZW50cy5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIltvYmplY3QgT2JqZWN0XSIsInByb3AiLCJtc2ciLCJFcnJvciIsIndyaXRhYmxlIiwiYWRkUHJvcCIsImZyZWV6ZSIsImxvYWQiLCJwYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsInNhbXBsZSIsImVudiIsInVzZXIiLCJhcHBOYW1lIiwiZGVidWciLCJkZWJ1Z0xldmVsIiwiZGVidWdEYiIsImRlYnVnRXhwcmVzcyIsImRlYnVnVW5pdFRlc3RzIiwic3RhY2tUcmFjZVVuaGFuZGxlZEVycm9ycyIsInVuaXRUZXN0RGJTdWZmaXgiLCJob3N0IiwiZG9tYWluIiwicHJvY2VzcyIsIkRPTUFJTiIsImVudmlyb25tZW50IiwicG9ydCIsIm1vbmdvIiwiZGJOYW1lIiwidXJpIiwidG9Mb3dlckNhc2UiLCJURVNUX0VOViIsInNjIiwiSU5URVJOQUxfRVJST1IiLCJpZCIsInN0YXR1cyIsIlNVQ0NFU1MiLCJPSyIsIlNVQ0NFU1NGVUxfTE9HSU4iLCJTVUNDRVNTRlVMX0xPR09VVCIsIlNVQ0NFU1NGVUxfVVBEQVRFX1dJVEhfVE9LRU4iLCJTVUNDRVNTRlVMX1VQREFURSIsIklOVkFMSURfUEFHRSIsIlBBU1NXT1JEX1ZFUklGSUVEIiwiRU1BSUxfVkVSSUZJRUQiLCJFTUFJTF9BTFJFQURZX1ZFUklGSUVEIiwiVVBEQVRFX0NPTVBMRVRFRCIsIlVQREFURV9DT01QTEVURURfV0lUSF9MT0dPVVQiLCJTSUdOVVBfQ09NUExFVEUiLCJTSUdOVVBfTk9UX0NPTVBMRVRFIiwiTk9fRVhUUkFfRklFTERTIiwiUkVNRU1CRVJFRF9MT0dHRURfSU5fSU5WQUxJRCIsIk1VU1RfQVVUSEVOVElDQVRFIiwiQ09OVEFDVF9MSU1JVF9SRUFDSEVEIiwiU1BFQ0lGWV9DT05UQUNUX0lOREVYIiwiU1BFQ0lGWV9WRVJJRllfQ09ERSIsIk5PX1ZFUklGWV9DT0RFX0lOX1VTRSIsIk5PVF9BX0JPT0xFQU4iLCJJTlZBTElEX1ZFUklGWV9DT0RFIiwiT0xEX0VNQUlMX1JFUVVJUkVEIiwiTkVXX0VNQUlMX1JFUVVJUkVEIiwiRU1BSUxfTk9UX0ZPVU5EIiwiT0xEX0VNQUlMX05PVF9GT1VORCIsIk5FV19FTUFJTF9JTl9VU0UiLCJTUEVDSUZZX09MRF9FTUFJTCIsIlNQRUNJRllfTkVXX0VNQUlMIiwiU1BFQ0lGWV9PTERfQUxUX0VNQUlMIiwiU1BFQ0lGWV9ORVdfQUxUX0VNQUlMIiwiQ0FOVF9ERUxFVEVfUFJJTUFSWV9DT05UQUNUIiwiUFJPRklMRV9OQU1FX0lOX1VTRSIsIlNVQlNDUklQVElPTl9JRF9JTl9VU0UiLCJTVUJTQ1JJUFRJT05fSURfTk9UX0ZPVU5EIiwiU0VSVklDRV9JRF9JTl9VU0UiLCJTRVJWSUNFX0lEX05PVF9GT1VORCIsIlNVQlNDUklQVElPTl9BTFJFQURZX0NBTkNFTExFRCIsIlNVQlNDUklQVElPTl9BTFJFQURZX1JFU1VNRUQiLCJTVUJTQ1JJUFRJT05fQUxSRUFEWV9QQVVTRUQiLCJQUk9GSUxFX0lEX05PVF9GT1VORCIsIlBBWU1FTlRfSURfTk9UX0ZPVU5EIiwiSU5WQUxJRF9QUk9GSUxFX0lEIiwiUFJPRklMRV9MSU1JVF9SRUFDSEVEIiwiU1BFQ0lGWV9QUk9GSUxFX0lOREVYIiwiU1BFQ0lGWV9ORVdfVVNFUk5BTUUiLCJTUEVDSUZZX1BST0ZJTEVfSUQiLCJTUEVDSUZZX0RFVklDRV9JRCIsIklOVkFMSURfREVWSUNFX0FDVElWQVRJT05fQ09ERSIsIkRFVklDRV9BTFJFQURZX0FDVElWQVRFRCIsIkNBTlRfREVMRVRFX1BSSU1BUllfUFJPRklMRSIsIlNQRUNJRllfT05FX1NFVFRJTkciLCJTUEVDSUZZX09ORV9JTkRFWCIsIklOVkFMSURfU0VUVElOR19WQUxVRSIsIklOVkFMSURfU0VUVElOR19TVE9SRSIsIlNQRUNJRllfU0VUVElOR1MiLCJJTlZBTElEX1NFVFRJTkdTIiwiSU5WQUxJRF9TRVRUSU5HIiwiUFJPUEVSVFlfTk9UX1dSSVRBQkxFIiwiUFJPUEVSVFlfTk9UX0VOQUJMRUQiLCJJTlZBTElEX1BBUkFNRVRFUlMiLCJJTlZBTElEX1NFVFRJTkdfU1RPUkVfVFlQRSIsIlBST1BFUlRZX05PVF9GT1VORCIsIklOVkFMSURfREVWSUNFX0NSRURFTlRJQUxTIiwiUkVRVUlSRURfRU1BSUxfT1JfVVNFUk5BTUUiLCJERVZJQ0VfUkVRVUlSRUQiLCJJTlZBTElEX1VTRVIiLCJJTlZBTElEX1VTRVJOQU1FIiwiTk9UX0FVVEhFTlRJQ0FURUQiLCJOT1RfQVVUSE9SSVpFRCIsIkFMUkVBRFlfQVVUSEVOVElDQVRFRCIsIlBBU1NXT1JEX05PVF9WRVJJRklFRCIsIklOVkFMSURfQVVUSF9DUkVERU5USUFMUyIsIk1VU1RfQUdSRUVfVE9fVEVSTVMiLCJORUVEX0FMTF9SRVFVSVJFRF9GSUVMRFMiLCJGSUVMRF9WQUxJREFUSU9OX0VSUk9SUyIsIk5FV19VU0VSTkFNRV9SRVFVSVJFRCIsIlBBU1NXT1JEX1JFUVVJUkVEIiwiTkVXX1BBU1NXT1JEX1JFUVVJUkVEIiwiTkVXX1BBU1NXT1JEX0NBTk5PVF9CRV9TQU1FIiwiT0xEX1BBU1NXT1JEX01VU1RfTUFUQ0giLCJPTERfUEFTU1dPUkRfUkVRVUlSRUQiLCJORVdfUEFTU1dPUkRfRklFTERfUkVRVUlSRUQiLCJVU0VSTkFNRV9BTFJFQURZX0VYSVNUUyIsIkFDQ09VTlRfTk9XX0xPQ0tFRCIsIkxPQ0tfVElNRSIsIkFDQ09VTlRfSVNfTE9DS0VEIiwiRElTQUJMRURfQUNDT1VOVCIsIkFDQ09VTlRfTk9UX0FDQ0VTU0lCTEUiLCJJTlZBTElEX0FQUF9BQ0NPVU5UIiwiUFJPRkFOSVRZX1JFSkVDVF9OQU1FIiwiSU5WQUxJRF9JTlBVVCIsIlRFU1RJTkdfUk9VVEUiLCJJTlZBTElEX0FDQ09VTlRfSUQiLCJyZXF1aXJlIiwiZXJyb3JPYmplY3QiLCJlcnJvciIsIm91dHB1dCIsIl8iLCJlcnJvcnMiLCJlIiwiZXh0cmEiLCJwdXNoIiwicHJvY2Vzc1Jlc3VsdHMiLCJwYXlsb2FkIiwicmVzIiwibmV4dCIsImFzc2lnbiIsInN0YWNrIiwiaGFzIiwidHlwZSIsInNlbmQiLCJoZWFkZXJzU2VudCIsIm1hcFRvQXJyYXkiLCJtYXAiLCJmb3JFYWNoIiwid3JhcEVycm9yQ29kZSIsImhhc09ubHlPbmUiLCJvYmoiLCJmaWVsZHMiLCJvdXQiLCJmaWx0ZXIiLCJmIiwiayIsImZpZWxkIiwibGVuZ3RoIiwic3RhdHVzT2JqZWN0IiwiZGF0YSIsInVuaGFuZGxlZEVycm9yT2JqZWN0IiwiY29uc29sZSIsImxvZyIsIm1lc3NhZ2UiLCJmb3JtYXRUaW1lTGVmdCIsInRpbWUiLCJtaW51dGVzIiwiYXN5bmNlZCIsImFzeW5jIiwiaW5zdCIsImZuIiwicGFyYW1zIiwicmVxIiwiYXN5bmNGb3JFYWNoTGluZWFyIiwiYXIiLCJhc3luY0ZvckVhY2giLCJQcm9taXNlIiwiYWxsIiwiTW9kZWxzIiwiY29uc3RydWN0b3IiLCJ0aGlzIiwibW9kZWxzIiwiVXNlciIsIl9tb25nb29zZSIsIlVzZXJTY2hlbWEiLCJTY2hlbWEiLCJ1c2VySWQiLCJTdHJpbmciLCJyZXF1aXJlZCIsInVzZXJuYW1lIiwibWlubGVuZ3RoIiwibWF4bGVuZ3RoIiwiYWNjb3VudElkIiwicGFzc3dvcmQiLCJoaWRlSlNPTiIsIm11c3RDaGFuZ2VQYXNzd29yZCIsIkJvb2xlYW4iLCJmb3JjZWRMb2dvdXQiLCJtdXN0VmVyaWZ5UGFzc3dvcmQiLCJpbWFnZSIsImdyYXZhdGFySWQiLCJhZ3JlZW1lbnRWZXJzaW9uIiwiTnVtYmVyIiwib2ZmbGluZSIsImRpc2FibGVkIiwic29mdERlbGV0ZSIsImFyY2hpdmUiLCJhdXRvSW5kZXgiLCJ0aW1lc3RhbXBzIiwiY29sbGVjdGlvbiIsImluZGV4IiwidW5pcXVlIiwicHJvZmlsZXMubmFtZSIsInByb2ZpbGVzLnByb2ZpbGVJZCIsImNvbnRhY3RzLmVtYWlsIiwiY29udGFjdHMuYWx0RW1haWwiLCJwYXJ0aWFsRmlsdGVyRXhwcmVzc2lvbiIsIiR0eXBlIiwiZGV2aWNlcy5kZXZpY2VJZCIsImNvbnRhY3RzLmRldmljZUlkIiwicGF5bWVudElkIiwicGF5bWVudE1ldGhvZHMucGF5bWVudElkIiwicHJlIiwic3RhdGljcyIsImZpbmRWYWxpZFVzZXIiLCJxdWVyeSIsImxlYW4iLCJwcm9qZWN0aW9uIiwiZmluZE9uZSIsIl9leHByZXNzIiwic291cmNlTWFwU3VwcG9ydCIsImluc3RhbGwiLCJOT0RFIiwib24iLCJzaHV0ZG93biIsInN0YXJ0dXAiLCJhcHAiLCJzZXJ2ZXIiLCJjb25maWciLCJodHRwU2VydmVyIiwiX2V4cHJlc3MyIiwiZGVmYXVsdCIsInVzZSIsIl9oZWxtZXQyIiwiZGlzYWJsZSIsIl9yZXNwb25zZVRpbWUyIiwiX2NvbXByZXNzaW9uMiIsIl9jb3JzMiIsIm9yaWdpbiIsImNyZWRlbnRpYWxzIiwib3B0aW9uc1N1Y2Nlc3NTdGF0dXMiLCJhbGxvd2VkSGVhZGVycyIsImJvZHlQYXJzZXIiLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJqc29uIiwidmVyaWZ5IiwiYnVmIiwiZW5jb2RpbmciLCJyYXdCb2R5IiwidG9TdHJpbmciLCJlcnIiLCJpbmRleE9mIiwiRVJST1IiLCJfY29va2llUGFyc2VyMiIsInNldCIsIlBPUlQiLCJjb250cm9sbGVycyIsIm92ZXJyaWRlUG9ydCIsInNldERlYnVnIiwiY29ubmVjdCIsImh0dHAiLCJjcmVhdGVTZXJ2ZXIiLCJsaXN0ZW4iLCJjYW5FeGl0IiwiY2xvc2UiLCJtb25nb29zZSIsImNvbm5lY3Rpb24iLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJleGl0Iiwic3RhdGUiLCJkYiIsInRlc3QiLCJzZXRBc1Rlc3QiLCJERUJVRyIsIkNPTk5FQ1RJTkciLCJDT05ORUNURUQiLCJPUEVOIiwiRElTQ09OTkVDVElORyIsIkRJU0NPTk5FQ1RFRCIsIkNMT1NFIiwiUkVDT05ORUNURUQiLCJBTEwiLCJJTkRFWCIsImV2ZW50IiwibW9uZ29VcmkiLCJvcHRzIiwicmVjb25uZWN0VHJpZXMiLCJyZWNvbm5lY3RJbnRlcnZhbCIsImtlZXBBbGl2ZSIsImJhY2tncm91bmQiLCJjb25uIiwiY3JlYXRlSW5kZXhlcyIsImgiLCJrZXlzIiwibW9kZWwiLCJNb2RlbCIsImdldEluZGV4ZXMiLCJkcm9wSW5kZXhlcyIsIlVzZXJCYXNlIiwidSIsImZpbmQiLCJfaWQiLCJsaW1pdCIsIl9oZWxwZXIiLCJpc0F1dGhOIiwiaXNPYmplY3QiLCJhdXRoIiwiZXhwaXJlZCIsInZlcmlmaWVkIiwiaXNBdXRoWiIsInJvbGUiLCJzZWN1cmVQYXlsb2FkIiwidXNlTGVhbiIsInByb2oiLCJnZXRBdXRoZWRVc2VyRGV0YWlscyIsIlJFRlJFU0hfRlJPTV9EQiIsInVzZURCIiwidmFsaWQiLCJzdWIiLCJjb250YWN0IiwiaGFzUmVxdWlyZWQiLCJ2YWxpZEZpZWxkcyIsImluY2x1ZGVzIiwiZGV2IiwiY2xlYXJSZWZyZXNoVG9rZW4iLCJkZXZpY2UiLCJyZWZyZXNoVG9rZW4iLCJ1bmRlZmluZWQiLCJpZHgiLCJkZXZpY2VzIiwiZmluZEluZGV4IiwiZGV2aWNlSWQiLCJpdGVtIiwic2F2ZSIsInZlcmlmeVByb2ZpbGUiLCJyZXN1bHRzIiwidmFsaWRhdGVSZXF1aXJlZEZpZWxkcyIsImxpc3QiLCJlbWFpbCIsIiRhbmQiLCIkb3IiLCJwcm9qZWN0IiwiaW5Vc2UiLCJyb3dzIiwiZmxhdHRlbiIsImNvbnRhY3RzIiwiY29uIiwicm93IiwiY2hlY2tQcm9maWxlSW5mbyIsInByb2ZpbGUiLCJpc1VzZXJMb2NrZWQiLCJEYXRlIiwibm93IiwiTEVBTiIsImRpIiwiY250IiwiX3YyIiwicmVwbGFjZSIsImNvdW50IiwiTSIsInNlYWNoTG9nIiwiY3JlZGl0cyIsImNvbWJpbmVkX2NyZWRpdHMiLCJtb3ZpZV9jcmVkaXRzIiwidHZfY3JlZGl0cyIsImV4dGVybmFsX2lkcyIsInByb2R1Y3Rpb25fY29tcGFuaWVzIiwiaW1hZ2VzIiwidGFnZ2VkX2ltYWdlZCIsInByb2R1Y3Rpb25fY291bnRyaWVzIiwicmV2aWV3cyIsInZpZGVvcyIsInJlY29tbWVuZGF0aW9ucyIsInNpbWlsYXIiLCJuZXR3b3JrcyIsImFkdWx0IiwiYmVsb25nc190b19jb2xsZWN0aW9uIiwic3Bva2VuX2xhbmd1YWdlcyIsIk1DIiwiTW9uZ29DbGllbnQiLCJ1cmwiLCJlYyIsIkVOVU1fUFJPUF9OT1RfRk9VTkQiLCJJTlZBTElEX0ZJRUxEX1NPVVJDRV9UWVBFIiwiSU5WQUxJRF9WQUxJREFUSU9OX0ZJRUxEIiwiVEVTVCIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJyb3V0ZXMiLCJBcnJheSIsImlzQXJyYXkiLCJyZXNwb25zZSIsInJlYXNvbiIsInByb20iXSwibWFwcGluZ3MiOiIyQkFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBMERBLE9BckRBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEdBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxhQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQXJCLEVBQUFxQixJQUNBLEVBQUFFLEVBQUEsT0FBQUYsRUFDQSxLQUFBRSxHQUFBLGlCQUFBRixRQUFBRyxXQUFBLE9BQUFILEVBQ0EsSUFBQUksRUFBQVgsT0FBQVksT0FBQSxNQUdBLEdBRkExQixFQUFBa0Is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WixLQUUzQ3lLLFFBQVFDLElBQUksVUFBV21QLEVBQU1ELEtBSS9CbFksUUFBUXVOLEdBQUcsb0JBQXNCckcsSUFFL0I2QixRQUFRQyxJQUFJLFVBQVc5QixFQUFFUSIsImZpbGUiOiJzZXJ2ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi4vZGlzdC9wdWJsaWMvXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxNik7XG4iLCJpbXBvcnQgeyBlbnZpcm9ubWVudCwgZG9tYWluIH0gZnJvbSAnLi4vY29uZmlnL2Vudic7XG5cbmNsYXNzIGMge1xuICBzdGF0aWMgYWRkUHJvcChwcm9wLCB2YWx1ZSkge1xuICAgIGlmICghKHByb3AgaW4gYykpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjLCBwcm9wLCB7IHZhbHVlLCB3cml0YWJsZTogZmFsc2UgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG1zZyA9IGBDb25zdGFudCBjbGFzcyBjIGFscmVhZHkgaGFzIHByb3BlcnR5ICcke3Byb3B9JyBhc3NpZ25lZGA7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICB9XG4gIH1cbn1cblxuYy5hZGRQcm9wKCdMRUFOJywgdHJ1ZSk7IC8vIG1vZGVsIGxlYW4gb3IgZnVsbCBtb25nb29zZSBvYmplY3QuXG5cbmMuYWRkUHJvcCgnVFJVRScsICd0cnVlJyk7XG5jLmFkZFByb3AoJ0ZBTFNFJywgJ2ZhbHNlJyk7XG5cbmMuYWRkUHJvcCgnSU5ERVgnLCAnaW5kZXgnKTtcbmMuYWRkUHJvcCgnVU5JUVVFJywgJ3VuaXF1ZScpO1xuYy5hZGRQcm9wKCdTUEFSU0UnLCAnc3BhcnNlJyk7XG5cbmMuYWRkUHJvcCgnTkVTVEVEJywgJ05FU1RFRCcpO1xuXG5jLmFkZFByb3AoJ1BBR0VfTElNSVQnLCAxMDAwKTtcbmMuYWRkUHJvcCgnUEVSX1BBR0VfTElNSVQnLCAyMCk7XG5jLmFkZFByb3AoJ01VTFRJX1BFUl9QQUdFX0xJTUlUJywgMTApO1xuXG5jLmFkZFByb3AoJ1NJR0lOVCcsICdTSUdJTlQnKTtcbmMuYWRkUHJvcCgnU0lHVEVSTScsICdTSUdURVJNJyk7XG5cbi8vIHVzZWZ1bCBzdHJpbmdzIChtb25nb29zZSBldmVudHMnLCBzdHJpbmdzJywgZXRjKVxuYy5hZGRQcm9wKCdFTVBUWV9TVFInLCAnJyk7XG5cbmMuYWRkUHJvcCgnT0ZGTElORScsICdvZmZsaW5lJyk7XG5jLmFkZFByb3AoJ0RJU0FCTEVEJywgJ2Rpc2FibGVkJyk7XG5jLmFkZFByb3AoJ1NPRlRfREVMRVRFJywgJ3NvZnREZWxldGUnKTtcblxuYy5hZGRQcm9wKCdPUEVOJywgJ29wZW4nKTtcbmMuYWRkUHJvcCgnRVhJVCcsICdleGl0Jyk7XG5jLmFkZFByb3AoJ0NPTk5FQ1RJTkcnLCAnY29ubmVjdGluZycpO1xuYy5hZGRQcm9wKCdDT05ORUNURUQnLCAnY29ubmVjdGVkJyk7XG5jLmFkZFByb3AoJ0RJU0NPTk5FQ1RJT04nLCAnZGlzY29ubmVjdGluZycpO1xuYy5hZGRQcm9wKCdESVNDT05ORUNURUQnLCAnZGlzY29ubmVjdGVkJyk7XG5jLmFkZFByb3AoJ0NMT1NFJywgJ2Nsb3NlJyk7XG5jLmFkZFByb3AoJ1JFQ09OTkVDVCcsICdyZWNvbm5lY3RlZCcpO1xuYy5hZGRQcm9wKCdFUlJPUicsICdlcnJvcicpO1xuYy5hZGRQcm9wKCdGVUxMU0VUVVAnLCAnZnVsbHNldHVwJyk7XG5jLmFkZFByb3AoJ0FMTCcsICdhbGwnKTtcblxuYy5hZGRQcm9wKCdCT09MRUFOJywgJ2Jvb2xlYW4nKTtcbmMuYWRkUHJvcCgnT0JKRUNUJywgJ29iamVjdCcpO1xuYy5hZGRQcm9wKCdTVFJJTkcnLCAnc3RyaW5nJyk7XG5jLmFkZFByb3AoJ0ZVTkNUSU9OJywgJ2Z1bmN0aW9uJyk7XG5jLmFkZFByb3AoJ05VTUJFUicsICdudW1iZXInKTtcbmMuYWRkUHJvcCgnVU5ERUZJTkVEJywgJ3VuZGVmaW5lZCcpO1xuXG5jLmFkZFByb3AoJ0lOU0VSVCcsICdpbnNlcnQnKTtcbmMuYWRkUHJvcCgnVVBEQVRFJywgJ3VwZGF0ZScpO1xuYy5hZGRQcm9wKCdERUxFVEUnLCAnZGVsZXRlJyk7XG5cbk9iamVjdC5mcmVlemUoYyk7XG5cbmV4cG9ydCBkZWZhdWx0IGM7XG4iLCJpbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcblxuLy8gaW1wb3J0IC5lbnYgdmFyaWFibGVzXG5yZXF1aXJlKCdkb3RlbnYtc2FmZScpLmxvYWQoe1xuICBwYXRoOiBwYXRoLmpvaW4oX19kaXJuYW1lLCAnLi4vLi4vLmVudicpLFxuICBzYW1wbGU6IHBhdGguam9pbihfX2Rpcm5hbWUsICcuLi8uLi8uZW52LmV4YW1wbGUnKSxcbn0pO1xuXG5jb25zdCBlbnYgPSB7XG4gIHVzZXI6IHByb2Nlc3MuZW52LlVTRVIsXG4gIGFwcE5hbWU6IHByb2Nlc3MuZW52LkFQUF9OQU1FLFxuICBkZWJ1ZzogcHJvY2Vzcy5lbnYuREVCVUcgPT09ICd0cnVlJyxcbiAgZGVidWdMZXZlbDogcHJvY2Vzcy5lbnYuREVCVUdfTEVWRUwsXG4gIGRlYnVnRGI6IHByb2Nlc3MuZW52LkRFQlVHX0RCID09PSAndHJ1ZScsXG4gIGRlYnVnRXhwcmVzczogcHJvY2Vzcy5lbnYuREVCVUdfRVhQUkVTUyA9PT0gJ3RydWUnLFxuICBkZWJ1Z1VuaXRUZXN0czogcHJvY2Vzcy5lbnYuREVCVUdfVU5JVF9URVNUUyA9PT0gJ3RydWUnLFxuICBzdGFja1RyYWNlVW5oYW5kbGVkRXJyb3JzOiBwcm9jZXNzLmVudi5TVEFDS1RSQUNFX1VOSEFORExFRF9FUlJPUlMgPT09ICd0cnVlJyxcbiAgdW5pdFRlc3REYlN1ZmZpeDogYCR7cHJvY2Vzcy5lbnYuVU5JVF9URVNUX0RCX1NVRkZJWH1fJHtwcm9jZXNzLmVudi5VU0VSfWAsXG4gIGhvc3Q6IHByb2Nlc3MuZW52LkhPU1QsXG4gIGRvbWFpbjogcHJvY2Vzcy5lbnYuRE9NQUlOLFxuICBlbnZpcm9ubWVudDogcHJvY2Vzcy5lbnYuTk9ERV9FTlYsXG4gIHBvcnQ6IHByb2Nlc3MuZW52LlBPUlQsXG4gIG1vbmdvOiB7XG4gICAgZGJOYW1lOiBudWxsLFxuICAgIHVyaTogbnVsbCxcbiAgfSxcbn07XG5cbmNvbnN0IGVudmlyb25tZW50ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYudG9Mb3dlckNhc2UoKSA9PT0gJ3Rlc3QnXG4gID8gcHJvY2Vzcy5lbnYuVEVTVF9FTlYgOiBwcm9jZXNzLmVudi5OT0RFX0VOVjtcblxuZW52Lm1vbmdvLmRiTmFtZSA9IHByb2Nlc3MuZW52Lk1PTkdPX0RFVl9EQjtcbmVudi5tb25nby51cmkgPSBwcm9jZXNzLmVudi5NT05HT19ERVZfVVJJO1xuXG5leHBvcnQgZGVmYXVsdCBlbnY7XG4iLCJpbXBvcnQgbSBmcm9tICcuL21lc3NhZ2VzJztcbmltcG9ydCBjIGZyb20gJy4vY29uc3RzJztcblxuY2xhc3Mgc2Mge31cblxuLy8gVE9ETzogbWFrZSBhbGwgaWRzIHVuaXF1ZSBhbmQgaW4gcmFuZ2VzLlxuLy8gVE9ETzogcGVyaGFwcyBhZGQgYSBjYXRlZ29yeT8gSSB0aGluayBjb2QgICAgICBleHBlY3QocmVzKS5lIGlzIGNhdGVnb3J5LlxuLy8gVE9ETzogSSB3YW50IHRoZXNlIGNvZGVzIGxvZ2dlZCwgc28gSSBjYW4gcmV2aWV3IHdoaWNoIG9uZXMgYXJlIGNhbGxlZCBtb3N0IG9mdGVuLlxuXG5zYy5JTlRFUk5BTF9FUlJPUiA9IHtcbiAgaWQ6IDUwMCxcbiAgc3RhdHVzOiA1MDAsXG4gIG1zZzogJ2ludGVybmFsIGVycm9yLicsXG59O1xuXG5zYy5TVUNDRVNTID0ge1xuICBpZDogMSxcbiAgc3RhdHVzOiAyMDAsXG4gIG1zZzogbS5PSyxcbn07XG5cbnNjLlNVQ0NFU1NGVUxfTE9HSU4gPSB7IGlkOiAyMiwgc3RhdHVzOiAyMDEsIG1zZzogJ3N1Y2Nlc3NmdWxseSBsb2dnZWQgaW4uJyB9O1xuc2MuU1VDQ0VTU0ZVTF9MT0dPVVQgPSB7IGlkOiAyMiwgc3RhdHVzOiAyMDUsIG1zZzogJ3N1Y2Nlc3NmdWxseSBsb2dnZWQgb3V0LicgfTtcbnNjLlNVQ0NFU1NGVUxfVVBEQVRFX1dJVEhfVE9LRU4gPSB7IGlkOiAyMiwgc3RhdHVzOiAyOTgsIG1zZzogJ3N1Y2Nlc3NmdWwgdXBkYXRlLiBuZXcgdG9rZW4gcmV0dXJuZWQuJyB9O1xuc2MuU1VDQ0VTU0ZVTF9VUERBVEUgPSB7IGlkOiAyMiwgc3RhdHVzOiAyOTksIG1zZzogJ3N1Y2Nlc3NmdWwgdXBkYXRlLicgfTtcbnNjLklOVkFMSURfUEFHRSA9IHsgaWQ6IDIyLCBzdGF0dXM6IDQyMiwgbXNnOiAndGhlIHBhZ2UgcGFyYW0gbXVzdCBiZSBhbiBpbnRlZ2VyIHdpdGhpbiAxIGFuZCAxMDAwLicgfTtcblxuc2MuUEFTU1dPUkRfVkVSSUZJRUQgPSB7XG4gIGlkOiA0MDAsXG4gIHN0YXR1czogMjAwLFxuICBtc2c6ICd0aGUgcGFzc3dvcmQgaGFzIGJlZW4gdmVyaWZpZWQuJyxcbn07XG5cbnNjLkVNQUlMX1ZFUklGSUVEID0ge1xuICBpZDogNDAwLFxuICBzdGF0dXM6IDQyMixcbiAgbXNnOiAndGhlIGVtYWlsIGhhcyBiZWVuIHZlcmlmaWVkLicsXG59O1xuXG5zYy5FTUFJTF9BTFJFQURZX1ZFUklGSUVEID0ge1xuICBpZDogNDAwLFxuICBzdGF0dXM6IDQyMixcbiAgbXNnOiAndGhlIGVtYWlsIGhhcyBhbHJlYWR5IGJlZW4gdmVyaWZpZWQuJyxcbn07XG5cbnNjLlVQREFURV9DT01QTEVURUQgPSB7XG4gIGlkOiAyMDAsXG4gIHN0YXR1czogMjAwLFxuICBtc2c6ICdUaGUgdXBkYXRlZCBoYXMgY29tcGxldGUuJyxcbn07XG5cbnNjLlVQREFURV9DT01QTEVURURfV0lUSF9MT0dPVVQgPSB7XG4gIGlkOiAyMDAsXG4gIHN0YXR1czogMjAwLFxuICBtc2c6ICdUaGUgdXBkYXRlZCBoYXMgY29tcGxldGUuIHVzZXIgaXMgbG9nZ2VkIG91dC4nLFxufTtcblxuc2MuU0lHTlVQX0NPTVBMRVRFID0ge1xuICBpZDogMjAyLFxuICBzdGF0dXM6IDIwMCxcbiAgbXNnOiAnc2lnbnVwIGlzIGNvbXBsZXRlLiBjb25maXJtIGVtYWlsLCBhbmQgbG9naW4gd2l0aCBjcmVkZW50aWFscy4nLFxufTtcblxuc2MuU0lHTlVQX05PVF9DT01QTEVURSA9IHtcbiAgaWQ6IDk5OSxcbiAgc3RhdHVzOiA0NzAsXG4gIG1zZzogJ3NpZ251cCBpcyBub3QgY29tcGxldGUuIGNoZWNrIHlvdXIgaW5wdXQgZmllbGRzIGFuZCByZS1zdWJtaXQuJyxcbn07XG5cbnNjLk5PX0VYVFJBX0ZJRUxEUyA9IHtcbiAgaWQ6IDIwMCxcbiAgc3RhdHVzOiA0NDUsXG4gIG1zZzogJ2RvIG5vdCBpbmNsdWRlIGludmFsaWQgZmllbGRzLicsXG59O1xuXG5zYy5SRU1FTUJFUkVEX0xPR0dFRF9JTl9JTlZBTElEID0ge1xuICBpZDogMjAwLFxuICBzdGF0dXM6IDQ0NixcbiAgbXNnOiAncmVtZW1iZXJMb2dnZWRJbiBwYXJhbSBtdXN0IGJlIGJvb2xlYW4gdHJ1ZSBvciBmYWxzZS4nLFxufTtcblxuc2MuTVVTVF9BVVRIRU5USUNBVEUgPSB7XG4gIGlkOiA0MDAsXG4gIHN0YXR1czogNDIxLFxuICBtc2c6ICdwbGVhc2UgZW50ZXIgbG9naW4gY3JlZGVudGlhbHMuJyxcbn07XG5cbnNjLkNPTlRBQ1RfTElNSVRfUkVBQ0hFRCA9IHtcbiAgaWQ6IDQwMCxcbiAgc3RhdHVzOiA0MjEsXG4gIG1zZzogJ3lvdSBoYXZlIHJlYWNoZWQgdGhlIG1heGltdW0gY29udGFjdHMgYWxsb3dlZC4nLFxufTtcblxuc2MuU1BFQ0lGWV9DT05UQUNUX0lOREVYID0ge1xuICBpZDogNDAwLFxuICBzdGF0dXM6IDQyMSxcbiAgbXNnOiAneW91IG11c3Qgc3BlY2lmeSBhIHZhbGlkIGNvbnRhY3QgaW5kZXguJyxcbn07XG5cbnNjLlNQRUNJRllfVkVSSUZZX0NPREUgPSB7XG4gIGlkOiA0MDAsXG4gIHN0YXR1czogNDIxLFxuICBtc2c6ICd5b3UgbXVzdCBzcGVjaWZ5IGEgdmFsaWQgdmVyaWZpY2F0aW9uIGNvZGUuJyxcbn07XG5cbnNjLk5PX1ZFUklGWV9DT0RFX0lOX1VTRSA9IHtcbiAgaWQ6IDQwMCxcbiAgc3RhdHVzOiA0MjEsXG4gIG1zZzogJ2ludmFsaWQ7IHBsZWFzZSByZXF1ZXN0IGEgbmV3IHZlcmlmaWNhdGlvbiBjb2RlLicsXG59O1xuXG5zYy5OT1RfQV9CT09MRUFOID0ge1xuICBpZDogNDAwLFxuICBzdGF0dXM6IDQyMSxcbiAgbXNnOiAndmFsdWUgbXVzdCBiZSB0cnVlIG9yIGZhbHNlLicsXG59O1xuXG5zYy5JTlZBTElEX1ZFUklGWV9DT0RFID0ge1xuICBpZDogNDAwLFxuICBzdGF0dXM6IDQyMSxcbiAgbXNnOiAnaW52YWxpZCB2ZXJpZmljYXRpb24gY29kZS4nLFxufTtcblxuc2MuRU1BSUxfVkVSSUZJRUQgPSB7XG4gIGlkOiAyMDAsXG4gIHN0YXR1czogMjIxLFxuICBtc2c6ICdlbWFpbCBoYXMgYmVlbiB2ZXJpZmllZC4nLFxufTtcblxuc2MuT0xEX0VNQUlMX1JFUVVJUkVEID0ge1xuICBpZDogNDAwLFxuICBzdGF0dXM6IDIyMSxcbiAgbXNnOiAnY3VycmVudCBlbWFpbCBpcyByZXF1aXJlZC4nLFxufTtcblxuc2MuTkVXX0VNQUlMX1JFUVVJUkVEID0ge1xuICBpZDogNDAwLFxuICBzdGF0dXM6IDQyMSxcbiAgbXNnOiAnbmV3IGVtYWlsIGlzIHJlcXVpcmVkLicsXG59O1xuXG5zYy5FTUFJTF9OT1RfRk9VTkQgPSB7XG4gIGlkOiA0MDAsXG4gIHN0YXR1czogNDIxLFxuICBtc2c6ICd0aGF0IGVtYWlsIHdhcyBub3QgZm91bmQuJyxcbn07XG5cbnNjLk9MRF9FTUFJTF9OT1RfRk9VTkQgPSB7XG4gIGlkOiA0MDAsXG4gIHN0YXR1czogNDIxLFxuICBtc2c6ICdjdXJyZW50IGVtYWlsIHdhcyBub3QgZm91bmQuJyxcbn07XG5cbnNjLk5FV19FTUFJTF9JTl9VU0UgPSB7XG4gIGlkOiA0MDAsXG4gIHN0YXR1czogNDIxLFxuICBtc2c6ICduZXcgZW1haWwgaXMgYWxyZWFkeSBpbiB1c2UuJyxcbn07XG5cbnNjLlNQRUNJRllfT0xEX0VNQUlMID0ge1xuICBpZDogNDAwLFxuICBzdGF0dXM6IDQyMSxcbiAgbXNnOiAnY3VycmVudCBlbWFpbCBpcyByZXF1aXJlZC4nLFxufTtcblxuc2MuU1BFQ0lGWV9ORVdfRU1BSUwgPSB7XG4gIGlkOiA0MDAsXG4gIHN0YXR1czogNDIxLFxuICBtc2c6ICduZXcgZW1haWwgaXMgcmVxdWlyZWQuJyxcbn07XG5cbnNjLlNQRUNJRllfT0xEX0FMVF9FTUFJTCA9IHtcbiAgaWQ6IDQwMCxcbiAgc3RhdHVzOiA0MjEsXG4gIG1zZzogJ2N1cnJlbnQgYWx0IGVtYWlsIGlzIHJlcXVpcmVkLicsXG59O1xuXG5zYy5TUEVDSUZZX05FV19BTFRfRU1BSUwgPSB7XG4gIGlkOiA0MDAsXG4gIHN0YXR1czogNDIxLFxuICBtc2c6ICduZXcgYWx0IGVtYWlsIGlzIHJlcXVpcmVkLicsXG59O1xuXG5zYy5DQU5UX0RFTEVURV9QUklNQVJZX0NPTlRBQ1QgPSB7XG4gIGlkOiA0MDAsXG4gIHN0YXR1czogNDIxLFxuICBtc2c6ICdjYW5ub3QgZGVsZXRlIHRoZSBwcmltYXJ5IGNvbnRhY3QuJyxcbn07XG5cbnNjLlBST0ZJTEVfTkFNRV9JTl9VU0UgPSB7XG4gIGlkOiA0MDAsXG4gIHN0YXR1czogNDIxLFxuICBtc2c6ICd5b3UgaGF2ZSBhbHJlYWR5IHVzZWQgdGhhdCBwcm9maWxlIG5hbWUuJyxcbn07XG5cbnNjLlNVQlNDUklQVElPTl9JRF9JTl9VU0UgPSB7XG4gIGlkOiA0MDAsXG4gIHN0YXR1czogNDIxLFxuICBtc2c6ICd5b3UgaGF2ZSBhbHJlYWR5IGFkZGVkIHRoYXQgc3Vic2NyaXB0aW9uLicsXG59O1xuXG5zYy5TVUJTQ1JJUFRJT05fSURfTk9UX0ZPVU5EID0ge1xuICBpZDogNDAwLFxuICBzdGF0dXM6IDQyMSxcbiAgbXNnOiAneW91IGRvIG5vdCBoYXZlIHRoYXQgc3Vic2NyaXB0aW9uLicsXG59O1xuXG5zYy5TRVJWSUNFX0lEX0lOX1VTRSA9IHtcbiAgaWQ6IDQwMCxcbiAgc3RhdHVzOiA0MjEsXG4gIG1zZzogJ3lvdSBoYXZlIGFscmVhZHkgYWRkZWQgdGhhdCBzZXJ2aWNlLicsXG59O1xuXG5zYy5TRVJWSUNFX0lEX05PVF9GT1VORCA9IHtcbiAgaWQ6IDQwMCxcbiAgc3RhdHVzOiA0MjEsXG4gIG1zZzogJ3lvdSBkbyBub3QgaGF2ZSB0aGF0IHNlcnZpY2UuJyxcbn07XG5cbnNjLlNVQlNDUklQVElPTl9BTFJFQURZX0NBTkNFTExFRCA9IHtcbiAgaWQ6IDQwMCxcbiAgc3RhdHVzOiA0MjEsXG4gIG1zZzogJ3N1YnNjcmlwdGlvbiBhbHJlYWR5IGNhbmNlbGxlZC4nLFxufTtcblxuc2MuU1VCU0NSSVBUSU9OX0FMUkVBRFlfUkVTVU1FRCA9IHtcbiAgaWQ6IDQwMCxcbiAgc3RhdHVzOiA0MjEsXG4gIG1zZzogJ3N1YnNjcmlwdGlvbiBhbHJlYWR5IHJlc3VtZWQuJyxcbn07XG5cbnNjLlNVQlNDUklQVElPTl9BTFJFQURZX1BBVVNFRCA9IHtcbiAgaWQ6IDQwMCxcbiAgc3RhdHVzOiA0MjEsXG4gIG1zZzogJ3N1YnNjcmlwdGlvbiBhbHJlYWR5IHBhdXNlZC4nLFxufTtcblxuc2MuUFJPRklMRV9JRF9OT1RfRk9VTkQgPSB7XG4gIGlkOiA0MDAsXG4gIHN0YXR1czogNDIxLFxuICBtc2c6ICd0aGF0IHByb2ZpbGUgaWQgd2FzIG5vdCBmb3VuZC4nLFxufTtcblxuc2MuUEFZTUVOVF9JRF9OT1RfRk9VTkQgPSB7XG4gIGlkOiA0MDAsXG4gIHN0YXR1czogNDIxLFxuICBtc2c6ICd0aGF0IHBheW1lbnQgaWQgd2FzIG5vdCBmb3VuZC4nLFxufTtcblxuc2MuSU5WQUxJRF9QUk9GSUxFX0lEID0ge1xuICBpZDogNDAwLFxuICBzdGF0dXM6IDQyMSxcbiAgbXNnOiAndGhhdCBwcm9maWxlIGlkIGlzIGludmFsaWQnLFxufTtcblxuc2MuUFJPRklMRV9MSU1JVF9SRUFDSEVEID0ge1xuICBpZDogNDAwLFxuICBzdGF0dXM6IDQyMSxcbiAgbXNnOiAneW91IGhhdmUgcmVhY2hlZCB0aGUgbWF4aW11bSBwcm9maWxlcyBhbGxvd2VkLicsXG59O1xuXG5zYy5TUEVDSUZZX1BST0ZJTEVfSU5ERVggPSB7XG4gIGlkOiA0MDAsXG4gIHN0YXR1czogNDIxLFxuICBtc2c6ICd5b3UgbXVzdCBzcGVjaWZ5IGEgdmFsaWQgcHJvZmlsZSBpbmRleC4nLFxufTtcblxuc2MuU1BFQ0lGWV9ORVdfVVNFUk5BTUUgPSB7XG4gIGlkOiA0MDAsXG4gIHN0YXR1czogNDIxLFxuICBtc2c6ICd5b3UgbXVzdCBzcGVjaWZ5IGEgdmFsaWQgbmV3IHVzZXJuYW1lLicsXG59O1xuXG5zYy5TUEVDSUZZX1BST0ZJTEVfSUQgPSB7XG4gIGlkOiA0MDAsXG4gIHN0YXR1czogNDIxLFxuICBtc2c6ICd5b3UgbXVzdCBzcGVjaWZ5IGEgdmFsaWQgcHJvZmlsZSBpZC4nLFxufTtcblxuc2MuU1BFQ0lGWV9ERVZJQ0VfSUQgPSB7XG4gIGlkOiA0MDAsXG4gIHN0YXR1czogNDIxLFxuICBtc2c6ICd5b3UgbXVzdCBzcGVjaWZ5IGEgdmFsaWQgZGV2aWNlIGlkLicsXG59O1xuXG5zYy5TUEVDSUZZX0RFVklDRV9JRCA9IHtcbiAgaWQ6IDQwMCxcbiAgc3RhdHVzOiA0MjEsXG4gIG1zZzogJ3lvdSBtdXN0IHNwZWNpZnkgYSB2YWxpZCBkZXZpY2UgaWQuJyxcbn07XG5cbnNjLklOVkFMSURfREVWSUNFX0FDVElWQVRJT05fQ09ERSA9IHtcbiAgaWQ6IDQwMCxcbiAgc3RhdHVzOiA0MjEsXG4gIG1zZzogJ2ludmFsaWQgZGV2aWNlIGFjdGl2YXRpb24gY29kZS4nLFxufTtcblxuc2MuREVWSUNFX0FMUkVBRFlfQUNUSVZBVEVEID0ge1xuICBpZDogNDAwLFxuICBzdGF0dXM6IDQyMSxcbiAgbXNnOiAnZGV2aWNlIGFscmVhZHkgYWN0aXZhdGVkLicsXG59O1xuXG5cbnNjLkNBTlRfREVMRVRFX1BSSU1BUllfUFJPRklMRSA9IHtcbiAgaWQ6IDQwMCxcbiAgc3RhdHVzOiA0MjEsXG4gIG1zZzogJ2Nhbm5vdCBkZWxldGUgdGhlIG1haW4gcHJvZmlsZS4nLFxufTtcblxuc2MuU1BFQ0lGWV9PTkVfU0VUVElORyA9IHtcbiAgaWQ6IDQwMCxcbiAgc3RhdHVzOiA0MjEsXG4gIG1zZzogJ3lvdSBtdXN0IHNwZWNpZnkgb25lIHNldHRpbmcuJyxcbn07XG5cbnNjLlNQRUNJRllfT05FX0lOREVYID0ge1xuICBpZDogNDAwLFxuICBzdGF0dXM6IDQyMSxcbiAgbXNnOiAneW91IG11c3Qgc3BlY2lmeSBvbmUgdmFsaWQgaW5kZXguJyxcbn07XG5cbnNjLklOVkFMSURfU0VUVElOR19WQUxVRSA9IHtcbiAgaWQ6IDQwMCxcbiAgc3RhdHVzOiA0MjEsXG4gIG1zZzogJ2ludmFsaWQgc2V0dGluZyB2YWx1ZS4nLFxufTtcblxuc2MuSU5WQUxJRF9TRVRUSU5HX1NUT1JFID0ge1xuICBpZDogNDAwLFxuICBzdGF0dXM6IDQyMSxcbiAgbXNnOiAnaW52YWxpZCBzZXR0aW5nIHN0b3JlLicsXG59O1xuXG5zYy5TUEVDSUZZX1NFVFRJTkdTID0ge1xuICBpZDogNDAwLFxuICBzdGF0dXM6IDQyMSxcbiAgbXNnOiAneW91IG11c3Qgc3BlY2lmeSBzZXR0aW5ncy4nLFxufTtcblxuc2MuSU5WQUxJRF9TRVRUSU5HUyA9IHtcbiAgaWQ6IDQwMCxcbiAgc3RhdHVzOiA0MjEsXG4gIG1zZzogJ2ludmFsaWQgc2V0dGluZ3MuJyxcbn07XG5cbnNjLklOVkFMSURfU0VUVElORyA9IHtcbiAgaWQ6IDQwMCxcbiAgc3RhdHVzOiA0MjEsXG4gIG1zZzogJ3NwZWNpZmllZCBhbiBpbnZhbGlkIHNldHRpbmcuJyxcbn07XG5cbnNjLlBST1BFUlRZX05PVF9XUklUQUJMRSA9IHtcbiAgaWQ6IDQwMCxcbiAgc3RhdHVzOiA0MjEsXG4gIG1zZzogJ3RoYXQgc2V0dGluZyBpcyBub3Qgd3JpdGFibGUnLFxufTtcblxuc2MuUFJPUEVSVFlfTk9UX0VOQUJMRUQgPSB7XG4gIGlkOiA0MDAsXG4gIHN0YXR1czogNDIxLFxuICBtc2c6ICd0aGF0IHNldHRpbmcgaXMgbm90IGVuYWJsZWQnLFxufTtcblxuc2MuSU5WQUxJRF9QQVJBTUVURVJTID0ge1xuICBpZDogNDAwLFxuICBzdGF0dXM6IDQyMSxcbiAgbXNnOiAncGF5bG9hZCBjb250YWlucyBpbnZhbGlkIGZ1bmN0aW9uIHBhcmFtZXRlcnMnLFxufTtcblxuc2MuSU5WQUxJRF9TRVRUSU5HX1NUT1JFX1RZUEUgPSB7XG4gIGlkOiA0MDAsXG4gIHN0YXR1czogNDIxLFxuICBtc2c6ICd0aGF0IGlzIG5vdCBhIHZhbGlkIHNldHRpbmcgc3RvcmUgdHlwZS4nLFxufTtcblxuc2MuUFJPUEVSVFlfTk9UX0ZPVU5EID0ge1xuICBpZDogNDAwLFxuICBzdGF0dXM6IDQyMSxcbiAgbXNnOiAndGhhdCBzZXR0aW5nIHdhcyBub3QgZm91bmQuJyxcbn07XG5cbnNjLklOVkFMSURfREVWSUNFX0NSRURFTlRJQUxTID0ge1xuICBpZDogNDAwLFxuICBzdGF0dXM6IDQxOCxcbiAgbXNnOiAnaW52YWxpZCBhdXRoZW50aWNhdGlvbiBjcmVkZW50aWFscy4gbm8gZGV2aWNlIGZvdW5kLicsXG59O1xuXG5zYy5SRVFVSVJFRF9FTUFJTF9PUl9VU0VSTkFNRSA9IHtcbiAgaWQ6IDQwMCxcbiAgc3RhdHVzOiA0MTgsXG4gIG1zZzogJ3VzZXJuYW1lIG9yIHBhc3N3b3JkIGlzIHJlcXVpcmVkLCBidXQgbm90IGJvdGguJyxcbn07XG5cbnNjLkRFVklDRV9SRVFVSVJFRCA9IHtcbiAgaWQ6IDQwMCxcbiAgc3RhdHVzOiA0MTgsXG4gIG1zZzogJ2F0IGxlYXN0IDEgdmFsaWQgZGV2aWNlIGlzIHJlcXVpcmVkLicsXG59O1xuXG5zYy5JTlZBTElEX1VTRVIgPSB7XG4gIGlkOiA0MDAsXG4gIHN0YXR1czogNDE5LFxuICBtc2c6ICdub3QgYXV0aGVudGljYXRlZC4gdGhhdCBpcyBhbiBpbnZhbGlkIHVzZXIuJyxcbn07XG5cbnNjLklOVkFMSURfVVNFUk5BTUUgPSB7XG4gIGlkOiA0MDAsXG4gIHN0YXR1czogNDIzLFxuICBtc2c6ICdub3QgYXV0aGVudGljYXRlZC4gdGhhdCBpcyBhbiBpbnZhbGlkIHVzZXJuYW1lLiBwbGVhc2UgbG9naW4gYWdhaW4uJyxcbn07XG5cbnNjLk5PVF9BVVRIRU5USUNBVEVEID0ge1xuICBpZDogNDAwLFxuICBzdGF0dXM6IDQwMCxcbiAgbXNnOiAnbm90IGF1dGhlbnRpY2F0ZWQuIHBsZWFzZSBsb2dpbiBmaXJzdC4nLFxufTtcblxuc2MuTk9UX0FVVEhPUklaRUQgPSB7XG4gIGlkOiA0MDAsXG4gIHN0YXR1czogNDAxLFxuICBtc2c6ICdub3QgYXV0aGVudGljYXRlZC4gcGxlYXNlIGxvZ2luIGZpcnN0LicsXG59O1xuXG5zYy5BTFJFQURZX0FVVEhFTlRJQ0FURUQgPSB7XG4gIGlkOiA0MDAsXG4gIHN0YXR1czogNDAyLFxuICBtc2c6ICdhbHJlYWR5IGF1dGhlbnRpY2F0ZWQuIGxvZ291dCBmaXJzdC4nLFxufTtcblxuc2MuUEFTU1dPUkRfTk9UX1ZFUklGSUVEID0ge1xuICBpZDogNDAwLFxuICBzdGF0dXM6IDMwMixcbiAgbXNnOiAndGhlIHBhc3N3b3JkIGlzIGluY29ycmVjdC4nLFxufTtcblxuXG5zYy5JTlZBTElEX0FVVEhfQ1JFREVOVElBTFMgPSB7XG4gIGlkOiA0MDAsXG4gIHN0YXR1czogNDEwLFxuICBtc2c6ICdpbnZhbGlkIGF1dGhlbnRpY2F0aW9uIGNyZWRlbnRpYWxzLicsXG59O1xuXG5zYy5NVVNUX0FHUkVFX1RPX1RFUk1TID0ge1xuICBpZDogNDAwLFxuICBzdGF0dXM6IDQxNCxcbiAgbXNnOiAneW91IG11c3QgYWdyZWUgdG8gdGVybXMuJyxcbn07XG5cbnNjLk5FRURfQUxMX1JFUVVJUkVEX0ZJRUxEUyA9IHtcbiAgaWQ6IDQwMCxcbiAgc3RhdHVzOiA0MTEsXG4gIG1zZzogJ3BsZWFzZSBmaWxsIG91dCBhbGwgcmVxdWlyZWQgZmllbGRzLicsXG59O1xuXG5zYy5GSUVMRF9WQUxJREFUSU9OX0VSUk9SUyA9IHtcbiAgaWQ6IDQwMCxcbiAgc3RhdHVzOiA0NDksXG4gIG1zZzogJ2ZpZWxkIHZhbGlkYXRpb24gZXJyb3JzLicsXG59O1xuXG5zYy5ORVdfVVNFUk5BTUVfUkVRVUlSRUQgPSB7XG4gIGlkOiA0MDAsXG4gIHN0YXR1czogNDk5LFxuICBtc2c6ICd0aGUgbmV3IHVzZXJuYW1lIGZpZWxkIGlzIHJlcXVpcmVkLicsXG59O1xuXG5zYy5QQVNTV09SRF9SRVFVSVJFRCA9IHtcbiAgaWQ6IDQwMCxcbiAgc3RhdHVzOiA0OTksXG4gIG1zZzogJ3RoZSBwYXNzd29yZCBpcyByZXF1aXJlZC4nLFxufTtcblxuc2MuTkVXX1BBU1NXT1JEX1JFUVVJUkVEID0ge1xuICBpZDogNDAwLFxuICBzdGF0dXM6IDQ5OSxcbiAgbXNnOiAndGhlIG5ldyBwYXNzd29yZCBpcyByZXF1aXJlZC4nLFxufTtcblxuc2MuTkVXX1BBU1NXT1JEX0NBTk5PVF9CRV9TQU1FID0ge1xuICBpZDogNDAwLFxuICBzdGF0dXM6IDQ5OSxcbiAgbXNnOiAndGhlIG5ldyBwYXNzd29yZCBjYW5ub3QgYmUgdGhlIHNhbWUgYXMgdGhlIG9sZCBwYXNzd29yZC4nLFxufTtcblxuc2MuT0xEX1BBU1NXT1JEX01VU1RfTUFUQ0ggPSB7XG4gIGlkOiA0MDAsXG4gIHN0YXR1czogNDk5LFxuICBtc2c6ICd0aGUgb2xkIHBhc3N3b3JkIG11c3QgbWF0Y2ggdGhlIGN1cnJlbnQgcGFzc3dvcmQuJyxcbn07XG5cbnNjLk9MRF9QQVNTV09SRF9SRVFVSVJFRCA9IHtcbiAgaWQ6IDQwMCxcbiAgc3RhdHVzOiA0OTksXG4gIG1zZzogJ3RoZSBvbGQgcGFzc3dvcmQgaXMgcmVxdWlyZWQuJyxcbn07XG5cbnNjLk5FV19QQVNTV09SRF9GSUVMRF9SRVFVSVJFRCA9IHtcbiAgaWQ6IDQwMCxcbiAgc3RhdHVzOiA0OTksXG4gIG1zZzogJ3RoZSBuZXcgcGFzc3dvcmQgZmllbGQgaXMgcmVxdWlyZWQuJyxcbn07XG5cbnNjLlVTRVJOQU1FX0FMUkVBRFlfRVhJU1RTID0ge1xuICBpZDogNDAwLFxuICBzdGF0dXM6IDQ5OCxcbiAgbXNnOiAndGhhdCB1c2VybmFtZSBhbHJlYWR5IGV4aXN0cy4nLFxufTtcblxuc2MuQUNDT1VOVF9OT1dfTE9DS0VEID0ge1xuICBpZDogNDAwLFxuICBzdGF0dXM6IDQyMCxcbiAgbXNnOiAneW91IGhhdmUgcmVhY2hlZCB0aGUgbWF4aW11bSBsb2dpbiBhdHRlbXB0cy4nICtcbiAgICBgeW91ciBhY2NvdW50IGlzIGxvY2tlZCBmb3IgJHtjLkxPQ0tfVElNRSAvIDYwfSBtaW51dGVzLmAsXG59O1xuXG5zYy5BQ0NPVU5UX0lTX0xPQ0tFRCA9IHtcbiAgaWQ6IDQwMCxcbiAgc3RhdHVzOiA0MjAsXG4gIG1zZzogJ3RoaXMgdXNlciBpcyBsb2NrZWQuIFNlZSB5b3VyIGVtYWlsIGZvciB0aGUgdGltZSBpdCB3aWxsIGJlIHVubG9ja2VkLicsXG59O1xuXG5zYy5ESVNBQkxFRF9BQ0NPVU5UID0ge1xuICBpZDogNDAwLFxuICBzdGF0dXM6IDQyMCxcbiAgbXNnOiAndGhpcyBhY2NvdW50IGlzIGRpc2FibGVkLiBjb250YWN0IHN1cHBvcnQuJyxcbn07XG5cbnNjLkFDQ09VTlRfTk9UX0FDQ0VTU0lCTEUgPSB7XG4gIGlkOiA0MDAsXG4gIHN0YXR1czogNDIwLFxuICBtc2c6ICd0aGlzIGFjY291bnQgaXMgbm90IGFjY2Vzc2FibGUuIGNvbnRhY3Qgc3VwcG9ydC4nLFxufTtcblxuc2MuSU5WQUxJRF9BUFBfQUNDT1VOVCA9IHtcbiAgaWQ6IDQwMCxcbiAgc3RhdHVzOiA0OTksXG4gIG1zZzogJ2ludmFsaWQgYXBwIGFjY291bnQuJyxcbn07XG5cbnNjLlBST0ZBTklUWV9SRUpFQ1RfTkFNRSA9IHtcbiAgaWQ6IDQwMCxcbiAgc3RhdHVzOiA0NTAsXG4gIG1zZzogJ3lvdXIgbmFtZSBhbmQgdXNlcm5hbWUgY2Fubm90IGNvbnRhaW4gcHJvZmFuaXR5LicsXG59O1xuXG5zYy5JTlZBTElEX0lOUFVUID0ge1xuICBpZDogNDAwLFxuICBzdGF0dXM6IDQ1MCxcbiAgbXNnOiAneW91ciBuYW1lIGFuZCB1c2VybmFtZSBjYW5ub3QgY29udGFpbiBwcm9mYW5pdHkuJyxcbn07XG5cbnNjLlRFU1RJTkdfUk9VVEUgPSB7XG4gIGlkOiAyMDAsXG4gIHN0YXR1czogMjk4LFxuICBtc2c6ICd0ZXN0aW5nIHJvdXRlLicsXG59O1xuXG5zYy5JTlZBTElEX0FDQ09VTlRfSUQgPSB7XG4gIGlkOiA0MDAsXG4gIHN0YXR1czogNDIxLFxuICBtc2c6ICdpbnZhbGlkIGFjY291bnQgaWQuJyxcbn07XG5cbk9iamVjdC5mcmVlemUoc2MpO1xuXG5leHBvcnQgZGVmYXVsdCBzYztcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImxvZGFzaFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJtb25nb29zZVwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJleHByZXNzXCIpOyIsIi8qXG4gIGVzbGludCBuby11c2VsZXNzLWVzY2FwZTowLCBuby11c2VsZXNzLWNvbmNhdDowLFxuICBuby1zaGFkb3c6MCwgbm8tcmVzdHJpY3RlZC1zeW50YXg6MCwgbm8tYXdhaXQtaW4tbG9vcDowXG4qL1xuXG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHUgZnJvbSAndXRpbCc7XG5pbXBvcnQgdXVpZCBmcm9tICd1dWlkL3Y0JztcblxuaW1wb3J0IGMgZnJvbSAnLi4vY29uZmlnL2NvbnN0cyc7XG5pbXBvcnQgc2MgZnJvbSAnLi4vY29uZmlnL3N0YXR1c0NvZGVzJztcbmltcG9ydCBlYyBmcm9tICcuLi9jb25maWcvZXJyb3JDb2Rlcyc7XG5pbXBvcnQgZW52IGZyb20gJy4uL2NvbmZpZy9lbnYnO1xuXG5jb25zdCBtYXBUb0FycmF5ID0gKG1hcCkgPT4ge1xuICBjb25zdCBvdXRwdXQgPSBbXTtcblxuICBtYXAuZm9yRWFjaCgodmFsdWUsIGtleSwgbWFwKSA9PiB7XG4gICAgb3V0cHV0LnB1c2godmFsdWUpO1xuICB9KTtcblxuICByZXR1cm4gb3V0cHV0O1xufTtcblxuXG5jb25zdCB3cmFwQXN5bmMgPSBhc3luYyBmbiA9PlxuICAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBQcm9taXNlLnJlc29sdmUoZm4ocmVxLCByZXMsIG5leHQpKVxuICAgICAgLmNhdGNoKG5leHQpO1xuICB9O1xuXG5jb25zdCBzdGF0dXNPYmplY3QgPSAoc2MsIG91dHB1dCA9IHt9KSA9PiB7XG4gIGNvbnN0IHsgaWQsIHN0YXR1cywgbXNnIH0gPSBzYztcbiAgcmV0dXJuIHtcbiAgICBpZCxcbiAgICBzdGF0dXMsIC8vIFRPRE86IG5lZWQgdG8gY29uc29saWRhdGUgc2MgdG8gc3RhdHVzIG5vdCBjb2RlLlxuICAgIG1zZyxcbiAgICBkYXRhOiBvdXRwdXQsXG4gIH07XG59O1xuXG5jb25zdCBoYXNPbmx5T25lID0gKG9iaiA9IHt9LCBmaWVsZHMgPSBbXSkgPT4ge1xuICBjb25zdCBvdXQgPSBmaWVsZHMuZmlsdGVyKGYgPT4gZiBpbiBvYmopLm1hcChrID0+ICh7IGZpZWxkOiBrLCB2YWx1ZTogb2JqW2tdIH0pKTtcbiAgcmV0dXJuIChvdXQubGVuZ3RoID09PSAxKSA/IG91dCA6IFtdO1xufTtcblxuY29uc3Qgd3JhcEVycm9yQ29kZSA9IGVycm9yID0+IChbeyBlcnJvciB9XSk7XG5cbmNvbnN0IGVycm9yT2JqZWN0ID0gKGVycm9yKSA9PiB7XG4gIGNvbnN0IG91dHB1dCA9IHt9O1xuXG4gIGlmICghZXJyb3IpIHtcbiAgICByZXR1cm4gb3V0cHV0O1xuICB9XG5cbiAgY29uc3QgeyBpZCA9IDAsIHN0YXR1cyA9IDUwMCwgbXNnID0gJ2ludGVybmFsIGVycm9yJyB9ID0gZXJyb3I7XG5cbiAgb3V0cHV0LmlkID0gaWQ7XG4gIG91dHB1dC5zdGF0dXMgPSBzdGF0dXM7XG4gIG91dHB1dC5tc2cgPSBtc2c7XG5cbiAgaWYgKF8uZ2V0KGVycm9yLCAnZXJyb3JzJykpIHtcbiAgICBvdXRwdXQuZXJyb3JzID0gZXJyb3IuZXJyb3JzO1xuICB9IGVsc2Uge1xuICAgIG91dHB1dC5lcnJvcnMgPSBbXTtcbiAgICBjb25zdCBlID0ge1xuICAgICAgZXJyb3I6IHtcbiAgICAgICAgaWQsXG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgbXNnLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgaWYgKGVycm9yLmV4dHJhKSBlLmV4dHJhID0gZXJyb3IuZXh0cmE7XG4gICAgb3V0cHV0LmVycm9ycy5wdXNoKGUpO1xuICB9XG5cbiAgcmV0dXJuIG91dHB1dDtcbn07XG5cbi8qXG4gIGxvZyBhbiB1bmhhbmRsZWQgZXJyb3IgYW5kIG91dHB1dCBlcnJvck9iamVjdCBkZXBlbmRpbmcgb24gZGVidWcgb3B0aW9uc1xuXG4qL1xuXG5jb25zdCB1bmhhbmRsZWRFcnJvck9iamVjdCA9IChlKSA9PiB7XG4gIGlmIChlbnYuZW52aXJvbm1lbnQgPT09ICdwcm9kdWN0aW9uJyAmJiAhZW52LnN0YWNrVHJhY2VVbmhhbmRsZWRFcnJvcnMpIHtcbiAgICBjb25zb2xlLmxvZyhgJHtlLm1lc3NhZ2V9ICR7ZS5leHRyYX1gKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmxvZyhlLnN0YWNrKTtcbiAgfVxuICBpZiAoZW52LmVudmlyb25tZW50ICE9PSAncHJvZHVjdGlvbicgfHwgZW52LmRlYnVnKSByZXR1cm4gZXJyb3JPYmplY3QoZSk7XG4gIHJldHVybiBlcnJvck9iamVjdChzYy5JTlRFUk5BTF9FUlJPUik7XG59O1xuXG5jb25zdCBwcm9jZXNzUmVzdWx0cyA9IChwYXlsb2FkLCByZXMsIG5leHQpID0+IHtcbiAgY29uc3Qgb3V0cHV0ID0gT2JqZWN0LmFzc2lnbih7fSwgcGF5bG9hZCk7XG5cbiAgaWYgKG91dHB1dCkge1xuICAgIGlmIChvdXRwdXQuZXJyb3IpIHtcbiAgICAgIGlmIChvdXRwdXQuZXJyb3JzKSB7XG4gICAgICAgIG91dHB1dC5lcnJvcnMucHVzaCh7IG1zZzogb3V0cHV0LmVycm9yLm1zZywgc3RhY2s6IG91dHB1dC5lcnJvci5zdGFjayB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dHB1dC5lcnJvcnMgPSBbeyBlcnJvcjogb3V0cHV0LmVycm9yIH1dO1xuICAgICAgfVxuICAgICAgZGVsZXRlIG91dHB1dC5lcnJvcjtcbiAgICAgIGlmICghXy5oYXMob3V0cHV0LCAnc3RhdHVzJykpIHtcbiAgICAgICAgb3V0cHV0LnN0YXR1cyA9IG91dHB1dC5lcnJvcnNbMF0uc3RhdHVzIHx8IDUwMDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXMudHlwZSgnanNvbicpO1xuICAgIHJlcy5zdGF0dXMob3V0cHV0LnN0YXR1cyB8fCA1MDApLnNlbmQob3V0cHV0KTtcbiAgfVxuXG4gIGlmICghcmVzLmhlYWRlcnNTZW50KSB7XG4gICAgbmV4dCgpO1xuICB9XG5cbiAgcmV0dXJuIG91dHB1dDtcbn07XG5cbmNvbnN0IGFzeW5jZWQgPSBhc3luYyAoaW5zdCwgZm4sIHBhcmFtcykgPT4ge1xuICBjb25zdCBbcmVxLCByZXMsIG5leHRdID0gcGFyYW1zO1xuICBjb25zdCBvdXQgPSBhd2FpdCBpbnN0W2ZuXShyZXEpO1xuICBwcm9jZXNzUmVzdWx0cyhvdXQsIHJlcywgbmV4dCk7XG5cbiAgcmV0dXJuIG91dDtcbn07XG5cbmNvbnN0IGFzeW5jRm9yRWFjaExpbmVhciA9IGFzeW5jIChhciwgZm4pID0+IHtcbiAgZm9yIChjb25zdCB0IG9mIGFyKSB7IGF3YWl0IGZuKHQpOyB9XG59O1xuXG5jb25zdCBhc3luY0ZvckVhY2ggPSBhc3luYyAoYXIsIGZuKSA9PiB7XG4gIGF3YWl0IFByb21pc2UuYWxsKGFyLm1hcChmbikpO1xufTtcblxuY29uc3QgZm9ybWF0VGltZUxlZnQgPSAodGltZSkgPT4ge1xuICBjb25zdCBtaW51dGVzID0gKHRpbWUpIC8gNjAgPiAxID8gKHRpbWUpIC8gNjAgOiAxO1xuICByZXR1cm4gYCR7bWludXRlc30gbWludXRlJHsobWludXRlcyAhPT0gMSkgPyAncycgOiAnJ31gO1xufTtcblxuLy8gVE9ETzogbm90IHVzZWQgYXQgdGhlIG1vbWVudC5cbmNvbnN0IGVzY2FwZVJlZ0V4cCA9IHN0ciA9PiBzdHIucmVwbGFjZSgvWy1cXC9cXFxcXiQqKz8uKCl8W1xcXXt9XS9nLCAnXFxcXCQmJyk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBtYXBUb0FycmF5LFxuICB3cmFwRXJyb3JDb2RlLFxuICBoYXNPbmx5T25lLFxuICBwcm9jZXNzUmVzdWx0cyxcbiAgc3RhdHVzT2JqZWN0LFxuICBlcnJvck9iamVjdCxcbiAgdW5oYW5kbGVkRXJyb3JPYmplY3QsXG4gIGZvcm1hdFRpbWVMZWZ0LFxuICBhc3luY2VkLFxuICBhc3luY0ZvckVhY2hMaW5lYXIsXG4gIGFzeW5jRm9yRWFjaCxcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJtb21lbnRcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwidXVpZC92NFwiKTsiLCJcbmV4cG9ydCBkZWZhdWx0IHtcbiAgdXNlcjogJ3VzZXInLFxufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInBhdGhcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZG90ZW52LXNhZmVcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiaHR0cFwiKTsiLCJpbXBvcnQgVXNlciBmcm9tICcuL1VzZXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb2RlbHMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLm1vZGVscyA9IE1vZGVscy5hbGw7XG4gIH1cblxuICBzdGF0aWMgZ2V0IGFsbCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdXNlcjogbmV3IFVzZXIoKSxcbiAgICB9O1xuICB9XG5cbiAgZ2V0IGFsbCgpIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5tb2RlbHMpO1xuICB9XG59XG4iLCIvKiBlc2xpbnQgbm8tdm9pZDogMCAqL1xuaW1wb3J0IHsgU2NoZW1hIH0gZnJvbSAnbW9uZ29vc2UnO1xuaW1wb3J0IG1vZGVscyBmcm9tICcuLi9jb25zdHMvbW9kZWxzJztcbmltcG9ydCBjIGZyb20gJy4uLy4uL2NvbmZpZy9jb25zdHMnO1xuXG5jb25zdCBtb25nb29zZUhpZGRlbiA9IHJlcXVpcmUoJ21vbmdvb3NlLWhpZGRlbicpKCk7XG5cbmNvbnN0IFVzZXJTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgLy8gaGFzaGlkXG4gIHVzZXJJZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIHVzZXJuYW1lOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIG1pbmxlbmd0aDogMixcbiAgICBtYXhsZW5ndGg6IDE2LFxuICB9LFxuICBhY2NvdW50SWQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICBwYXNzd29yZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlLCBoaWRlSlNPTjogdHJ1ZSB9LFxuICAvLyBwYXNzd29yZENoYW5nZVRva2VuIGlzIGp3dCB0b2tlbiB3aXRoIGEgdHRsIHRpbWUgYW5kIHVzZXJuYW1lIGluIGl0LlxuICBtdXN0Q2hhbmdlUGFzc3dvcmQ6IHsgdHlwZTogQm9vbGVhbiwgaGlkZUpTT046IHRydWUgfSwgLy8gPC0tIHdhdGNoIHRoaXMgaGlkZSB0aGluZy4gVE9ET1xuICBmb3JjZWRMb2dvdXQ6IHsgdHlwZTogQm9vbGVhbiwgaGlkZUpTT046IHRydWUgfSwgLy8gPC0tIHdhdGNoIHRoaXMgaGlkZSB0aGluZy4gVE9ET1xuICBtdXN0VmVyaWZ5UGFzc3dvcmQ6IHsgdHlwZTogQm9vbGVhbiwgaGlkZUpTT046IHRydWUgfSxcbiAgaW1hZ2U6IHsgdHlwZTogU3RyaW5nIH0sIC8vIHByb2ZpbGUgaW1hZ2VcbiAgZ3JhdmF0YXJJZDogeyB0eXBlOiBTdHJpbmcgfSxcbiAgLy8gdGhlIHZlcnNpb24gb2YgYWdyZWVtZW50IGFncmVlZCB0by4gZm9yY2UgdXBkYXRlIHdoZW4gbmV3IHZlcnNpb24uXG4gIGFncmVlbWVudFZlcnNpb246IHsgdHlwZTogTnVtYmVyLCBoaWRlSlNPTjogdHJ1ZSB9LFxuICBvZmZsaW5lOiB7IHR5cGU6IEJvb2xlYW4gfSxcbiAgZGlzYWJsZWQ6IHsgdHlwZTogQm9vbGVhbiB9LFxuICBzb2Z0RGVsZXRlOiB7IHR5cGU6IEJvb2xlYW4gfSxcbiAgLy8gYWNjb3VudCBtYW5hZ2VycyBjYW4gYXJjaGl2ZSBhIHVzZXI7IHNob3VsZCBiZSBhdXRvbWF0aWNhbGx5IGFyY2hpdmVkIGJlZm9yZSBkZWxldGVkLlxuICBhcmNoaXZlOiB7IHR5cGU6IEJvb2xlYW4gfSxcbn0sIHsgYXV0b0luZGV4OiBmYWxzZSwgdGltZXN0YW1wczogdHJ1ZSwgY29sbGVjdGlvbjogbW9kZWxzLnVzZXIgfSk7XG5cblVzZXJTY2hlbWEuaW5kZXgoeyBhY2NvdW50SWQ6IDEsIHVzZXJuYW1lOiAxIH0sIHsgdW5pcXVlOiB0cnVlIH0pO1xuVXNlclNjaGVtYS5pbmRleCh7IGFjY291bnRJZDogMSwgdXNlcklkOiAxLCAncHJvZmlsZXMubmFtZSc6IDEgfSwgeyB1bmlxdWU6IHRydWUgfSk7XG5Vc2VyU2NoZW1hLmluZGV4KHsgYWNjb3VudElkOiAxLCAncHJvZmlsZXMucHJvZmlsZUlkJzogMSB9LCB7IHVuaXF1ZTogdHJ1ZSB9KTtcblVzZXJTY2hlbWEuaW5kZXgoeyBhY2NvdW50SWQ6IDEsICdjb250YWN0cy5lbWFpbCc6IDEgfSwgeyB1bmlxdWU6IHRydWUgfSk7XG5Vc2VyU2NoZW1hLmluZGV4KFxuICB7IGFjY291bnRJZDogMSwgJ2NvbnRhY3RzLmFsdEVtYWlsJzogMSB9LFxuICB7IHVuaXF1ZTogdHJ1ZSwgcGFydGlhbEZpbHRlckV4cHJlc3Npb246IHsgJ2NvbnRhY3RzLmFsdEVtYWlsJzogeyAkdHlwZTogJ3N0cmluZycgfSB9IH0sXG4pO1xuVXNlclNjaGVtYS5pbmRleChcbiAgeyBhY2NvdW50SWQ6IDEsICdkZXZpY2VzLmRldmljZUlkJzogMSB9LFxuICB7IHVuaXF1ZTogdHJ1ZSwgcGFydGlhbEZpbHRlckV4cHJlc3Npb246IHsgJ2NvbnRhY3RzLmRldmljZUlkJzogeyAkdHlwZTogJ3N0cmluZycgfSB9IH0sXG4pO1xuXG5Vc2VyU2NoZW1hLmluZGV4KFxuICB7IHBheW1lbnRJZDogMSB9LFxuICB7IHVuaXF1ZTogdHJ1ZSwgcGFydGlhbEZpbHRlckV4cHJlc3Npb246IHsgJ3BheW1lbnRNZXRob2RzLnBheW1lbnRJZCc6IHsgJHR5cGU6ICdzdHJpbmcnIH0gfSB9LFxuKTtcblxuVXNlclNjaGVtYS5wcmUoJ3NhdmUnLCAobmV4dCkgPT4ge1xuICAvLyBkbyBzdHVmZlxuICBuZXh0KCk7XG59KTtcblxuLyogZXNsaW50IGZ1bmMtbmFtZXM6IDAgKi9cblVzZXJTY2hlbWEuc3RhdGljcy5maW5kVmFsaWRVc2VyID0gYXN5bmMgZnVuY3Rpb24gKHF1ZXJ5ID0ge30sIGxlYW4gPSBmYWxzZSwgcHJvamVjdGlvbiA9IHt9KSB7XG4gIGxldCB1c2VyID0gbnVsbDtcblxuICB0cnkge1xuICAgIHVzZXIgPSBhd2FpdCB0aGlzLmZpbmRPbmUocXVlcnksIHByb2plY3Rpb24pLmxlYW4obGVhbik7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmxvZygnRXJyb3I6ICcsIGUuc3RhY2spO1xuICB9XG5cbiAgcmV0dXJuICghdXNlciB8fFxuICAgIHVzZXIuc29mdERlbGV0ZSB8fFxuICAgIHVzZXIuYXJjaGl2ZSkgPyBudWxsIDogdXNlcjtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFVzZXJTY2hlbWE7XG4iLCIvLyBhIGxpc3Qgb2YgbWVzc2FnZXMgdXNlZCB0aHJvdWdob3V0IHRoZSBhcHAgZm9yIGludGVybmFsIGFuZCBleHRlcm5hbCAocm91dGVzLCBldGMpO1xuXG5jbGFzcyBtIHt9XG5cbm0uT0sgPSAnT0snO1xuXG5leHBvcnQgZGVmYXVsdCBtO1xuIiwiLyogZXNsaW50IGltcG9ydC9maXJzdDowLCBnbG9iYWwtcmVxdWlyZTowICovXG5pbXBvcnQgc291cmNlTWFwU3VwcG9ydCBmcm9tICdzb3VyY2UtbWFwLXN1cHBvcnQnO1xuXG5pbXBvcnQgZW52IGZyb20gJy4vY29uZmlnL2Vudic7XG5pbXBvcnQgYyBmcm9tICcuL2NvbmZpZy9jb25zdHMnO1xuXG4vLyBpbnN0YWxsIHRoZSBzb3VyY2VtYXAgaWYgaW4gZGVidWcgbW9kZSwgY2FuIGV4cGFuZCBvbiB3ZWJwYWNrIHNvdXJjZW1hcCB0eXBlcy5cbmlmIChlbnYuZGVidWcpIHtcbiAgc291cmNlTWFwU3VwcG9ydC5pbnN0YWxsKHtcbiAgICBlbnZpcm9ubWVudDogYy5OT0RFLFxuICB9KTtcbn1cblxuLy8gb25seSB1c2UgdGhlIHVuaGFuZGxlZCBwcm9taXNlIGVycm9yIG91dHB1dCBmb3IgZGVidWdnaW5nIGFuZCB0ZXN0aW5nLlxuaWYgKGVudi5kZWJ1Zykge1xuICByZXF1aXJlKCcuL3V0aWxzL3Byb2Nlc3NFdmVudHMnKTtcbn1cblxuaW1wb3J0IHsgYXBwLCBzZXJ2ZXIsIHN0YXJ0dXAsIHNodXRkb3duIH0gZnJvbSAnLi9leHByZXNzJztcblxuLy8gbGlzdGVuIGZvciBURVJNIHNpZ25hbCAuZS5nLiBraWxsXG5wcm9jZXNzLm9uKCdTSUdURVJNJywgKCkgPT4geyBjb25zb2xlLmxvZygnU0lHVEVSTScpOyBzaHV0ZG93bigpOyB9KTtcbi8vIGxpc3RlbiBmb3IgSU5UIHNpZ25hbCBlLmcuIEN0cmwtQ1xucHJvY2Vzcy5vbignU0lHSU5UJywgKCkgPT4geyBjb25zb2xlLmxvZygnU0lHSU5UJyk7IHNodXRkb3duKCk7IH0pO1xuXG4vLyBzdGFydHVwIHRoZSBodHRwIHNlcnZlciwgbW9uZ29vc2UsIHJlZGlzLCBldGMuXG5zdGFydHVwKCk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBhcHAsXG4gIHNlcnZlcixcbiAgc3RhcnR1cCxcbiAgc2h1dGRvd24sXG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwic291cmNlLW1hcC1zdXBwb3J0XCIpOyIsIi8qIGVzbGludCBpbXBvcnQvZmlyc3Q6MCwgZXNsaW50LWRpc2FibGUsIGVzbGludCBnbG9iYWwtcmVxdWlyZTowLCBuby1zaGFkb3c6MCAqL1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCBodHRwIGZyb20gJ2h0dHAnO1xuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInO1xuaW1wb3J0IGNvb2tpZVBhcnNlciBmcm9tICdjb29raWUtcGFyc2VyJztcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xuaW1wb3J0IGNzcmYgZnJvbSAnY3N1cmYnOyAvLyBodHRwczovL2dpdGh1Yi5jb20vZXhwcmVzc2pzL2NzdXJmXG5pbXBvcnQgaGVsbWV0IGZyb20gJ2hlbG1ldCc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCBmcyBmcm9tICdmcyc7XG5pbXBvcnQgY29tcHJlc3Npb24gZnJvbSAnY29tcHJlc3Npb24nO1xuaW1wb3J0IHJlc3BvbnNlVGltZSBmcm9tICdyZXNwb25zZS10aW1lJztcbmltcG9ydCBtZXRob2RPdmVycmlkZSBmcm9tICdtZXRob2Qtb3ZlcnJpZGUnO1xuXG5pbXBvcnQgYyBmcm9tICcuL2NvbmZpZy9jb25zdHMnO1xuaW1wb3J0IG1vbmdvIGZyb20gJy4vY29uZmlnL21vbmdvb3NlJztcbmltcG9ydCBlbnYgZnJvbSAnLi9jb25maWcvZW52JztcbmltcG9ydCBjb250cm9sbGVycyBmcm9tICcuL2NvbnRyb2xsZXJzJztcblxucmVxdWlyZSgnZG90ZW52LXNhZmUnKS5jb25maWcoKTtcblxuLy8gZ2xvYmFsIHZhcmlhYmxlcyBmb3IgdGhpcyBmaWxlOlxubGV0IGh0dHBTZXJ2ZXIgPSBudWxsO1xuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuXG4vLyBzdGFydHVwIHNlcnZpY2VzOiBodHRwIHNlcnZlciwgbW9uZ29vc2UsIHJlZGlzLCBldGMuXG5jb25zdCBzdGFydHVwID0gYXN5bmMgKG92ZXJyaWRlUG9ydCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHBvcnQgPSBvdmVycmlkZVBvcnQgfHwgYXBwLmdldChjLlBPUlQpO1xuXG4gICAgLy8gY29ubmVjdCB0byBtb25nbyB0aHJvdWdoIG1vbmdvb3NlLlxuICAgIG1vbmdvLnNldERlYnVnKGVudi5kZWJ1Zyk7XG4gICAgYXdhaXQgbW9uZ28uY29ubmVjdCgpO1xuXG4gICAgLy8gY3JlYXRlIGh0dHAgc2VydmVyIHdyYXBwZXIgYXJvdW5kIGV4cHJlc3MgYXBwLlxuICAgIGh0dHBTZXJ2ZXIgPSBodHRwLmNyZWF0ZVNlcnZlcihhcHApO1xuICAgIGh0dHBTZXJ2ZXIubGlzdGVuKHBvcnQpO1xuXG4gICAgY29uc29sZS5sb2coJ2xpc3RlbmluZyBhdCBodHRwOi8vJXM6JWQnLCBlbnYuaG9zdCwgcG9ydCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmxvZygnRXJyb3I6ICcsIGUuc3RhY2spO1xuICB9XG5cbiAgcmV0dXJuIGh0dHBTZXJ2ZXI7XG59O1xuXG4vLyBncmFjZWZ1bGx5IHNodXRkb3duIHNlcnZpY2VzOiBodHRwIHNlcnZlciwgcmVkaXMsIG1vbmdvb3NlLCBldGMuXG5jb25zdCBzaHV0ZG93biA9IGFzeW5jIChjYW5FeGl0ID0gdHJ1ZSkgPT4ge1xuICBjb25zb2xlLmxvZyhgYXBwICcke2Vudi5hcHBOYW1lfScgdGVybWluYXRpbmcuYCk7XG4gIGNvbnNvbGUubG9nKCdjbG9zaW5nIHNlcnZlci4uLicpO1xuXG4gIHRyeSB7XG4gICAgYXdhaXQgaHR0cFNlcnZlci5jbG9zZSgpO1xuICAgIGNvbnNvbGUubG9nKCdleHByZXNzIHNlcnZlciBjbG9zZS4nKTtcblxuICAgIGF3YWl0IG1vbmdvb3NlLmNvbm5lY3Rpb24uY2xvc2UoKTtcbiAgICBjb25zb2xlLmxvZygnTW9uZ29vc2UgZGVmYXVsdCBjb25uZWN0aW9uIGRpc2Nvbm5lY3RlZC4nKTtcblxuICAgIC8vIGltcGVyYXRpdmUgdG8gcmVtb3ZlIGFsbCBldmVudCBsaXN0ZW5lcnMuXG4gICAgbW9uZ29vc2UuY29ubmVjdGlvbi5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUubG9nKCdVbmNhdWdodCBTaHV0ZG93biBFcnJvcjonLCBlLnN0YWNrKTtcbiAgfVxuXG4gIGNvbnNvbGUubG9nKCdGaW5hbGx5IGV4aXRpbmcuJyk7XG4gIGlmIChjYW5FeGl0KSB7XG4gICAgcHJvY2Vzcy5leGl0KDEpO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59O1xuXG5cbmFwcC51c2UoaGVsbWV0KCkpO1xuXG5hcHAuZGlzYWJsZSgneC1wb3dlcmVkLWJ5Jyk7XG5cblxuYXBwLnVzZShyZXNwb25zZVRpbWUoKSk7XG5hcHAudXNlKGNvbXByZXNzaW9uKCkpO1xuYXBwLnVzZShjb3JzKHtcbiAgb3JpZ2luOiAnKicsXG4gIGNyZWRlbnRpYWxzOiB0cnVlLFxuICBvcHRpb25zU3VjY2Vzc1N0YXR1czogMjAwLFxuICBhbGxvd2VkSGVhZGVyczogWydDb250ZW50LVR5cGUnLCAnQXV0aG9yaXphdGlvbicsICdBY2NlcHQnLCAnQWNjZXB0LUVuY29kaW5nJ10sXG59KSk7XG5hcHAudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiBmYWxzZSB9KSk7XG5cbmFwcC51c2UoKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGJvZHlQYXJzZXIuanNvbih7XG4gICAgdmVyaWZ5KHJlcSwgcmVzLCBidWYsIGVuY29kaW5nKSB7XG4gICAgICByZXEucmF3Qm9keSA9IGJ1Zi50b1N0cmluZygpO1xuICAgIH0sXG4gIH0pKHJlcSwgcmVzLCAoZXJyKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgY29uc3QgbXNnID0gZXJyLm1lc3NhZ2UuaW5kZXhPZignSlNPTicpICE9PSAtMSA/IGVyci5tZXNzYWdlIDogJ2ludGVybmFsIGVycm9yJztcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICBzdGF0dXM6IDUwMCxcbiAgICAgICAgICBtc2csXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc29sZS5sb2coYy5FUlJPUiwge1xuICAgICAgICBzdGF0dXM6IGVyci5zdGF0dXMgfHwgNTAwLFxuICAgICAgICBtZXNzYWdlOiBlcnIubXNnLFxuICAgICAgICBlcnJvcjogZXJyLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5leHQoKTtcbiAgICB9XG4gIH0pO1xufSk7XG5cbmFwcC51c2UoY29va2llUGFyc2VyKCkpO1xuXG5hcHAuc2V0KCd0cnVzdCBwcm94eScsIHRydWUpO1xuYXBwLnNldChjLlBPUlQsIGVudi5wb3J0KTtcblxuLy8gVE9ETzogbmVlZCB0byByZXZpZXcgYmVzdCBwcmFjdGljZSBmb3IgbW9yZ2FuIGFuZCBmaXggbG9nZXIuc3RyZWFtIGNvbnNvbGUgaXNzdWUuXG5pZiAoZW52LmRlYnVnICYmIGVudi5kZWJ1Z0V4cHJlc3MpIHtcbiAgY29uc29sZS5sb2coXCJPdmVycmlkaW5nICdFeHByZXNzJyBsb2dnZXJcIik7XG59XG5cbmFwcC51c2UoY29udHJvbGxlcnMpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgYXBwLFxuICBodHRwU2VydmVyLFxuICBzdGFydHVwLFxuICBzaHV0ZG93bixcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJib2R5LXBhcnNlclwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjb29raWUtcGFyc2VyXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNvcnNcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY3N1cmZcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiaGVsbWV0XCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImZzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNvbXByZXNzaW9uXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlc3BvbnNlLXRpbWVcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibWV0aG9kLW92ZXJyaWRlXCIpOyIsImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5cbmltcG9ydCBNb2RlbHMgZnJvbSAnLi4vbW9kZWxzL01vZGVscyc7XG5pbXBvcnQgZW52IGZyb20gJy4vZW52JztcbmltcG9ydCBjIGZyb20gJy4uL2NvbmZpZy9jb25zdHMnO1xuaW1wb3J0IGggZnJvbSAnLi4vdXRpbHMvaGVscGVyJztcblxuY29uc3Qgc3RhdGUgPSB7XG4gIGRiOiBudWxsLFxuICB0ZXN0OiBmYWxzZSxcbn07XG5cbmNvbnN0IGdldCA9ICgpID0+IHN0YXRlLmRiO1xuXG5jb25zdCBzZXRBc1Rlc3QgPSAoKSA9PiB7XG4gIHN0YXRlLnRlc3QgPSB0cnVlO1xufTtcblxuY29uc3QgY3JlYXRlSW5kZXhlcyA9IGFzeW5jICgpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBtb2RlbHMgPSBNb2RlbHMuYWxsO1xuICAgIGF3YWl0IGguYXN5bmNGb3JFYWNoKE9iamVjdC5rZXlzKG1vZGVscyksIGFzeW5jIChtb2RlbCkgPT4ge1xuICAgICAgaWYgKG1vZGVsc1ttb2RlbF0gJiYgbW9kZWxzW21vZGVsXS5Nb2RlbCkge1xuICAgICAgICBpZiAobW9kZWxzW21vZGVsXS5Nb2RlbC5jb2xsZWN0aW9uKSB7XG4gICAgICAgICAgYXdhaXQgbW9kZWxzW21vZGVsXS5Nb2RlbC5jb2xsZWN0aW9uLmdldEluZGV4ZXMoKTtcbiAgICAgICAgICBhd2FpdCBtb2RlbHNbbW9kZWxdLk1vZGVsLmNvbGxlY3Rpb24uZHJvcEluZGV4ZXMoKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBtb2RlbHNbbW9kZWxdLk1vZGVsLmNyZWF0ZUluZGV4ZXMoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUubG9nKGUpO1xuICAgIHJldHVybiBoLnVuaGFuZGxlZEVycm9yT2JqZWN0KGUpO1xuICB9XG59O1xuXG5cbi8vIHByaW50IG1vbmdvb3NlIGxvZ3MgaW4gZGV2IGVudlxuY29uc3Qgc2V0RGVidWcgPSAoZGVidWcpID0+IHtcbiAgaWYgKGVudi5kZWJ1Z0RiKSB7XG4gICAgLy8gVE9ETyBtYWtlIHRoaXMgYW4gZW52aXJvbm1lbnQgdmFyaWFibGUuXG4gICAgbW9uZ29vc2UuY29ubmVjdGlvbi5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICBtb25nb29zZS5zZXQoYy5ERUJVRywgdHJ1ZSk7XG4gICAgaWYgKGVudi5kZWJ1Zykge1xuICAgICAgY29uc29sZS5sb2coYHN0YXJ0aW5nIGluIGRlYnVnIG1vZGU7IGVudj0ke2Vudi5lbnZpcm9ubWVudH1gKTtcbiAgICB9W1xuICAgICAgYy5DT05ORUNUSU5HLFxuICAgICAgYy5DT05ORUNURUQsXG4gICAgICBjLk9QRU4sXG4gICAgICBjLkRJU0NPTk5FQ1RJTkcsXG4gICAgICBjLkRJU0NPTk5FQ1RFRCxcbiAgICAgIGMuQ0xPU0UsXG4gICAgICBjLlJFQ09OTkVDVEVELFxuICAgICAgYy5FUlJPUixcbiAgICAgIGMuQUxMLFxuICAgICAgYy5JTkRFWCxcbiAgICBdLmZvckVhY2goKGV2ZW50KSA9PiB7XG4gICAgICBtb25nb29zZS5jb25uZWN0aW9uLm9uKGV2ZW50LCAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBNb25nb29zZSBldmVudCAke2V2ZW50fWApO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn07XG5cbi8qKlxuICogQ29ubmVjdCB0byBtb25nbyBkYlxuICpcbiAqIEByZXR1cm5zIHtvYmplY3R9IE1vbmdvb3NlIGNvbm5lY3Rpb25cbiAqIEBwdWJsaWNcbiAqL1xuY29uc3QgY29ubmVjdCA9IGFzeW5jICh1cmksIGRiKSA9PiB7XG4gIGNvbnN0IG1vbmdvVXJpID0gdXJpIHx8IGAke2Vudi5tb25nby51cml9YDtcbiAgY29uc3QgZGJOYW1lID0gZGIgfHwgYCR7ZW52Lm1vbmdvLmRiTmFtZX1gO1xuXG4gIGNvbnN0IG9wdHMgPSB7XG4gICAgZGJOYW1lOiBkYk5hbWUgfHwgZW52Lm1vbmdvLmRiTmFtZSxcbiAgICByZWNvbm5lY3RUcmllczogNSxcbiAgICByZWNvbm5lY3RJbnRlcnZhbDogNTAwLCAvLyBSZWNvbm5lY3QgZXZlcnkgNTAwbXNcbiAgICBrZWVwQWxpdmU6IHRydWUsXG4gICAgY29uZmlnOiB7XG4gICAgICBhdXRvSW5kZXg6IGZhbHNlLFxuICAgICAgYmFja2dyb3VuZDogZmFsc2UsXG4gICAgfSxcbiAgfTtcblxuICBpZiAoZW52LmRlYnVnKSB7XG4gICAgY29uc29sZS5sb2coYG1vbmdvIFVyaTogJHttb25nb1VyaX1gKTtcbiAgICBjb25zb2xlLmxvZyhgbW9uZ28gRGI6ICR7ZGJOYW1lfWApO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBjb25uID0gYXdhaXQgbW9uZ29vc2UuY29ubmVjdChtb25nb1VyaSwgb3B0cyk7XG4gICAgc3RhdGUuZGIgPSBjb25uO1xuICAgIHJldHVybiBzdGF0ZS5kYjtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUubG9nKCdFcnJvcjogJywgZS5zdGFjayk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgZ2V0LFxuICBzZXRBc1Rlc3QsXG4gIHNldERlYnVnLFxuICBjb25uZWN0LFxuICBjcmVhdGVJbmRleGVzLFxufTtcbiIsIi8qIGVzbGludCBjbGFzcy1tZXRob2RzLXVzZS10aGlzOiAwLCBtYXgtbGVuOiAwLCB2YWxpZC10eXBlb2Y6MCwgbm8tZW1wdHktZnVuY3Rpb246MCAqL1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgdXVpZHY0IGZyb20gJ3V1aWQvdjQnO1xuXG5pbXBvcnQgVXNlclNjaGVtYSBmcm9tICcuL3NjaGVtYXMvVXNlclNjaGVtYSc7XG5pbXBvcnQgVXNlckJhc2UgZnJvbSAnLi9iYXNlL1VzZXJCYXNlJztcbmltcG9ydCBjIGZyb20gJy4uL2NvbmZpZy9jb25zdHMnO1xuaW1wb3J0IHNjIGZyb20gJy4uL2NvbmZpZy9zdGF0dXNDb2Rlcyc7XG5pbXBvcnQgbW9kZWxzIGZyb20gJy4vY29uc3RzL21vZGVscyc7XG5pbXBvcnQgaCwgeyBzdGF0dXNPYmplY3QsIGVycm9yT2JqZWN0IH0gZnJvbSAnLi4vdXRpbHMvaGVscGVyJztcbmltcG9ydCBlbnYgZnJvbSAnLi4vY29uZmlnL2Vudic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXIgZXh0ZW5kcyBVc2VyQmFzZSB7XG4gIHN0YXRpYyBnZXQgTW9kZWwoKSB7XG4gICAgcmV0dXJuIG1vbmdvb3NlLm1vZGVsKG1vZGVscy51c2VyLCBVc2VyU2NoZW1hKTtcbiAgICAvLyBuZWVkIHRvIGRvIHNvbWUgYXV0b21hdGVkIHRlc3Rpbmcgb24gdGhpcyBtZXRob2QgZm9yIGFsbCBtb2RlbHMuXG4gIH1cblxuICBnZXQgTW9kZWwoKSB7XG4gICAgcmV0dXJuIFVzZXIuTW9kZWw7XG4gICAgLy8gbmVlZCB0byBkbyBzb21lIGF1dG9tYXRlZCB0ZXN0aW5nIG9uIHRoaXMgbWV0aG9kIGZvciBhbGwgbW9kZWxzLlxuICB9XG5cbiAgYXN5bmMgcGluZyhyZXEgPSB7fSkge1xuICAgIHRyeSB7XG4gICAgICAvLyBUT0RPOiBnZXQgcmlkIG9mIHJldHVybmluZyBhY3R1YWwgZGF0YSBsYXRlciwgdXNlIGZvciBub3cuXG4gICAgICAvLyBUT0RPOiBsaW1pdCB0byAxMCwgYW5kIG90aGVyIGxpbWl0cy5cblxuICAgICAgY29uc3QgdSA9IGF3YWl0IFVzZXIuTW9kZWwuZmluZCh7fSwgeyB1c2VybmFtZTogMSwgX2lkOiAwIH0pLmxpbWl0KDMwKS5sZWFuKCk7XG5cbiAgICAgIHJldHVybiB7IHN0YXR1czogc2MuU1VDQ0VTUy5zdGF0dXMsIGRhdGE6IHsgbWVzc2FnZTogdSB9IH07XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIGgudW5oYW5kbGVkRXJyb3JPYmplY3QoZSk7XG4gICAgfVxuICB9XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJtb25nb29zZS1oaWRkZW5cIik7IiwiLyogZXNsaW50IGNsYXNzLW1ldGhvZHMtdXNlLXRoaXM6IDAsIG1heC1sZW46IDAsIHZhbGlkLXR5cGVvZjowLCBuby1lbXB0eS1mdW5jdGlvbjowICovXG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCB1dWlkdjQgZnJvbSAndXVpZC92NCc7XG5cbmltcG9ydCBVc2VyU2NoZW1hIGZyb20gJy4uL3NjaGVtYXMvVXNlclNjaGVtYSc7XG5pbXBvcnQgQmFzZSBmcm9tICcuL0Jhc2UnO1xuaW1wb3J0IGMgZnJvbSAnLi4vLi4vY29uZmlnL2NvbnN0cyc7XG5pbXBvcnQgc2MgZnJvbSAnLi4vLi4vY29uZmlnL3N0YXR1c0NvZGVzJztcbmltcG9ydCBtb2RlbHMgZnJvbSAnLi4vY29uc3RzL21vZGVscyc7XG5pbXBvcnQgaCwgeyBzdGF0dXNPYmplY3QsIGVycm9yT2JqZWN0IH0gZnJvbSAnLi4vLi4vdXRpbHMvaGVscGVyJztcbmltcG9ydCBlbnYgZnJvbSAnLi4vLi4vY29uZmlnL2Vudic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJCYXNlIHtcbiAgc3RhdGljIGdldCBNb2RlbCgpIHtcbiAgICBjb25zdCBtb2RlbCA9IG1vbmdvb3NlLm1vZGVsKG1vZGVscy51c2VyLCBVc2VyU2NoZW1hKTtcblxuICAgIHJldHVybiBtb2RlbDtcbiAgICAvLyBuZWVkIHRvIGRvIHNvbWUgYXV0b21hdGVkIHRlc3Rpbmcgb24gdGhpcyBtZXRob2QgZm9yIGFsbCBtb2RlbHMuXG4gIH1cblxuICBnZXQgTW9kZWwoKSB7XG4gICAgY29uc3QgbW9kZWwgPSBtb25nb29zZS5tb2RlbChtb2RlbHMudXNlciwgVXNlclNjaGVtYSk7XG5cbiAgICByZXR1cm4gbW9kZWw7XG4gICAgLy8gbmVlZCB0byBkbyBzb21lIGF1dG9tYXRlZCB0ZXN0aW5nIG9uIHRoaXMgbWV0aG9kIGZvciBhbGwgbW9kZWxzLlxuICB9XG5cbiAgaXNBdXRoTihyZXEpIHtcbiAgICByZXR1cm4gKF8uaXNPYmplY3QocmVxKSAmJiAnYXV0aCcgaW4gcmVxICYmXG4gICAgICByZXEuYXV0aC5leHBpcmVkID09PSBmYWxzZSAmJlxuICAgICAgcmVxLmF1dGgudmVyaWZpZWQgPT09IHRydWUpO1xuICB9XG5cbiAgaXNBdXRoWihyZXEsIHJvbGUpIHtcbiAgICBpZiAodGhpcy5pc0F1dGhOKHJlcSkpIHtcbiAgICAgIGlmIChyb2xlID09PSAndXNlcicpIHsgLy8gbmVlZCB0byBjaGFuZ2UgdGhpcyB1c2VyIHRvIGFub3RoZXIgcm9sZSB3aGVuIGRvbmUuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNjLk5PVF9BVVRIT1JJWkVEO1xuICAgIH1cbiAgICByZXR1cm4gc2MuTk9UX0FVVEhFTlRJQ0FURUQ7XG4gIH1cblxuICBzZWN1cmVQYXlsb2FkKHUpIHtcbiAgICBjb25zdCB1c2VyID0gT2JqZWN0LmFzc2lnbih7fSwgdSk7XG4gICAgZGVsZXRlIHVzZXIucGFzc3dvcmQ7XG5cbiAgICByZXR1cm4gdXNlcjtcbiAgfVxuXG4gIGFzeW5jIHNldFByb3BlcnR5KCkge1xuICAgIC8vXG4gIH1cblxuICBhc3luYyBnZXRQcm9wZXJ0eSgpIHtcbiAgfVxuXG4gIGFzeW5jIGZpbmRWYWxpZFVzZXIocXVlcnkgPSB7fSwgdXNlTGVhbiA9IGZhbHNlLCBwcm9qID0ge30pIHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgdGhpcy5Nb2RlbC5maW5kVmFsaWRVc2VyKHF1ZXJ5LCB1c2VMZWFuLCBwcm9qKTtcbiAgICByZXR1cm4gdXNlcjtcbiAgfVxuXG4gIGFzeW5jIGdldEZyZXNoQXV0aGVkVXNlckRldGFpbHMocmVxLCB1c2VMZWFuID0gZmFsc2UpIHtcbiAgICBjb25zdCByZXN1bHRzID0gdGhpcy5nZXRBdXRoZWRVc2VyRGV0YWlscyhyZXEsIGMuUkVGUkVTSF9GUk9NX0RCLCB1c2VMZWFuKTtcbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfVxuXG4gIGFzeW5jIGdldEF1dGhlZFVzZXJEZXRhaWxzKHJlcSwgdXNlREIgPSBmYWxzZSwgdXNlTGVhbiA9IGZhbHNlKSB7XG4gICAgaWYgKCF0aGlzLmlzQXV0aE4ocmVxKSkgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBlcnJvcjogc2MuTk9UX0FVVEhFTlRJQ0FURUQgfTtcblxuICAgIGNvbnN0IHZlcmlmeSA9IHsgdmFsaWQ6IHRydWUsIGF1dGg6IHJlcS5hdXRoIH07XG5cbiAgICBpZiAodXNlREIpIHtcbiAgICAgIGNvbnN0IHsgYWNjb3VudElkLCBzdWI6IHVzZXJJZCB9ID0gcmVxLmF1dGgucGF5bG9hZDtcbiAgICAgIGNvbnN0IHUgPSBhd2FpdCB0aGlzLmZpbmRWYWxpZFVzZXIoeyBhY2NvdW50SWQsIHVzZXJJZCB9LCB1c2VMZWFuKTtcbiAgICAgIGlmICghdSkgcmV0dXJuIE9iamVjdC5hc3NpZ24odmVyaWZ5LCB7IHZhbGlkOiBmYWxzZSwgZXJyb3I6IHNjLklOVkFMSURfVVNFUiB9KTtcblxuICAgICAgdmVyaWZ5LnVzZXIgPSB1O1xuICAgIH1cblxuICAgIHJldHVybiB2ZXJpZnk7XG4gIH1cblxuICBhc3luYyBjaGVja0NvbnRhY3RJbmZvKHJlcSwgY29udGFjdCA9IHt9KSB7XG4gICAgY29uc3QgdmVyaWZ5ID0ge1xuICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgIH07XG5cbiAgICBpZiAoIXRoaXMuaGFzUmVxdWlyZWQoY29udGFjdCwgWydlbWFpbCcsICdmaXJzdE5hbWUnLCAnbGFzdE5hbWUnXSkpIHtcbiAgICAgIHZlcmlmeS5lcnJvcnMgPSBlcnJvck9iamVjdChzYy5ORUVEX0FMTF9SRVFVSVJFRF9GSUVMRFMpO1xuICAgICAgcmV0dXJuIHZlcmlmeTtcbiAgICB9XG5cbiAgICBjb25zdCB2YWxpZEZpZWxkcyA9IFsnZW1haWwnLCAnYWx0RW1haWwnLCAnZmlyc3ROYW1lJywgJ21pZGRsZU5hbWUnLCAnbGFzdE5hbWUnLCAnZGlzcGxheU5hbWUnLCAndGl0bGUnLFxuICAgICAgJ3Bob25lJywgJ3RpbWV6b25lJywgJ2JpcnRoZGF0ZScsICdnZW5kZXInXTtcblxuICAgIGNvbnN0IGV4dHJhID0gT2JqZWN0LmtleXMoY29udGFjdCkuZmlsdGVyKGZpZWxkID0+ICF2YWxpZEZpZWxkcy5pbmNsdWRlcyhmaWVsZCkpO1xuXG4gICAgaWYgKGV4dHJhLmxlbmd0aCA+IDApIHtcbiAgICAgIHZlcmlmeS5lcnJvcnMgPSBlcnJvck9iamVjdChzYy5OT19FWFRSQV9GSUVMRFMpO1xuICAgICAgcmV0dXJuIHZlcmlmeTtcbiAgICB9XG5cbiAgICB2ZXJpZnkudmFsaWQgPSB0cnVlO1xuICAgIHJldHVybiB2ZXJpZnk7XG4gIH1cblxuICBhc3luYyB1cGRhdGVVc2VyRGV2aWNlRG9jdW1lbnQoYWNjb3VudElkLCB1c2VySWQsIGRldiwgY2xlYXJSZWZyZXNoVG9rZW4gPSBmYWxzZSkge1xuICAgIGNvbnN0IGRldmljZSA9IE9iamVjdC5hc3NpZ24oe30sIGRldik7XG5cbiAgICBpZiAoY2xlYXJSZWZyZXNoVG9rZW4pIHtcbiAgICAgIGRldmljZS5yZWZyZXNoVG9rZW4gPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJCYXNlLk1vZGVsLmZpbmRPbmUoeyBhY2NvdW50SWQsIHVzZXJJZCB9KTtcbiAgICBjb25zdCBpZHggPSB1c2VyLmRldmljZXMuZmluZEluZGV4KGQgPT4gZC5kZXZpY2VJZCA9PT0gZGV2aWNlLmRldmljZUlkKTtcbiAgICBpZiAoaWR4IDwgMCkgcmV0dXJuIG51bGw7XG4gICAgZGVsZXRlIGRldmljZS5kZXZpY2VJZDtcblxuICAgIE9iamVjdC5rZXlzKGRldmljZSkuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgdXNlci5kZXZpY2VzW2lkeF1baXRlbV0gPSBkZXZpY2VbaXRlbV07XG4gICAgfSk7XG5cbiAgICBjb25zdCB1cGRhdGVkID0gYXdhaXQgdXNlci5zYXZlKCk7XG4gIH1cblxuICB2ZXJpZnlQcm9maWxlKHJlcSwgZmllbGRzLCByZXN1bHRzKSB7XG4gICAgY29uc3QgdmVyaWZ5ID0ge1xuICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgZmllbGRzOiBbXSxcbiAgICAgIGVycm9yczogW10sXG4gICAgfTtcblxuICAgIGNvbnN0IHZhbGlkYXRvciA9IFtdO1xuXG5cbiAgICB2ZXJpZnkudmFsaWQgPSB0cnVlO1xuICAgIHJldHVybiB2ZXJpZnk7XG4gIH1cblxuXG4gIHZhbGlkYXRlUmVxdWlyZWRGaWVsZHMoZmllbGRzKSB7XG4gICAgY29uc3QgZXJyb3JzID0gW107XG5cbiAgICBpZiAoIWZpZWxkcykge1xuICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIHR5cGU6ICdlbXB0eSBmaWVsZHMgb2JqZWN0JyxcbiAgICAgICAgICBtc2c6ICdlbXB0eSBmaWVsZHMgb2JqZWN0JyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBlcnJvcnMsXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgYXN5bmMgY2hlY2tGb3JSZXF1aXJlZEZpZWxkc05vdEluVXNlKGFjY291bnRJZCwgZmllbGRzKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGxpc3QgPSBmaWVsZHM7XG5cbiAgICAgIGlmICghZmllbGRzIHx8ICFmaWVsZHMuZW1haWwgfHwgIWZpZWxkcy51c2VybmFtZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcXVlcnkgPSB7XG4gICAgICAgIGFjY291bnRJZCxcbiAgICAgICAgJGFuZDogW1xuICAgICAgICAgIHsgJG9yOiBbXSB9LFxuICAgICAgICBdLFxuICAgICAgfTtcblxuICAgICAgaWYgKGxpc3QuZW1haWwpIHtcbiAgICAgIC8vIGxpc3Qgb2YgZmllbGRzIHRoYXQgbmVlZCB0byBiZSBjYXNlLXNlbnNpdGl2ZSBpbiBkYi4uLlxuICAgICAgICBsaXN0LmVtYWlsID0gbGlzdC5lbWFpbC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBxdWVyeS4kYW5kWzBdLiRvci5wdXNoKHtcbiAgICAgICAgICAnY29udGFjdHMuZW1haWwnOiBsaXN0LmVtYWlsLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGxpc3QudXNlcm5hbWUpIHtcbiAgICAgICAgcXVlcnkuJGFuZFswXS4kb3IucHVzaCh7XG4gICAgICAgICAgdXNlcm5hbWU6IGxpc3QudXNlcm5hbWUsXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBwcm9qZWN0ID0ge1xuICAgICAgICAnY29udGFjdHMuZW1haWwnOiAxLFxuICAgICAgICB1c2VybmFtZTogMSxcbiAgICAgICAgX2lkOiAwLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHRoaXMuTW9kZWwuZmluZChxdWVyeSwgcHJvamVjdCkubGVhbigpO1xuXG4gICAgICBpZiAocmVzdWx0cyAmJiByZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgaW5Vc2UgPSB7XG4gICAgICAgICAgc3RhdHVzOiA0MDAsXG4gICAgICAgICAgZXJyb3JzOiBbXSxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCByb3dzID0gXy5mbGF0dGVuKHJlc3VsdHMubWFwKHVzZXIgPT4gXy5mbGF0dGVuKHVzZXIuY29udGFjdHMpLm1hcChjb24gPT4gKHsgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWUsIGVtYWlsOiBjb24uZW1haWwgfSkpKSk7XG5cbiAgICAgICAgT2JqZWN0LmtleXMobGlzdCkuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgIHJvd3MuZm9yRWFjaCgocm93KSA9PiB7XG4gICAgICAgICAgICBpZiAobGlzdFtpdGVtXSA9PT0gcm93W2l0ZW1dKSB7XG4gICAgICAgICAgICAgIGluVXNlLmVycm9ycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgICAgICAgbXNnOiBgdGhhdCAke2l0ZW19ICcke3Jvd1tpdGVtXX0nIGlzIGFscmVhZHkgdGFrZW4uYCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGluVXNlLmVycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIGluVXNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBoLnVuaGFuZGxlZEVycm9yT2JqZWN0KGUpO1xuICAgIH1cbiAgfVxuXG4gIC8qXG4gICAgY29tcGFyZSBwcm9maWxlIGluZm8gcmVjZWl2ZWQgdG8gcHJvZmlsZSBzY2hlbWEuIG5vIGV4dHJhIHN0dWZmP1xuICAgIGNhbiBhbHNvIGZsYWcgaXQgc28gSSBjYW4gdHVybiB0aGlzIG9uIG9yIG9mZiBmb3IgZGlmZmVyZW50IGFjY291bnRzLlxuICAqL1xuXG4gIGNoZWNrUHJvZmlsZUluZm8ocHJvZmlsZSkge1xuICAgIGNvbnN0IG91dHB1dCA9IHtcbiAgICAgIHZhbGlkOiBmYWxzZSxcbiAgICAgIGVycm9yczogbnVsbCxcbiAgICB9O1xuXG4gICAgLy8gY29tcGFyZSB0aGUgc291cmNlIHByb2ZpbGUgdG8gdGhlIHNjaGVtYSBwcm9maWxlLi4uIGhvdy4uLlxuXG4gICAgcmV0dXJuIG91dHB1dDtcbiAgfVxuXG4gIGlzVXNlckxvY2tlZChkZXZpY2UpIHtcbiAgICByZXR1cm4gXy5nZXQoZGV2aWNlLCAnbG9ja2VkVW50aWwnLCAwKSA+IERhdGUubm93KCk7XG4gIH1cblxuICBhc3luYyBnZXRTZWN1cmVVc2VyRGF0YSh1c2VyKSB7XG4gICAgbGV0IHU7XG5cbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIHUgPSBhd2FpdCB0aGlzLk1vZGVsLmZpbmRWYWxpZFVzZXIoeyBhY2NvdW50SWQ6IHVzZXIuYWNjb3VudElkLCB1c2VySWQ6IHVzZXIudXNlcklkIH0sIGMuTEVBTik7XG4gICAgICBpZiAoIXUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHUgPSB1c2VyO1xuICAgIH1cblxuICAgIC8vIGRlbGV0ZSBpbmZvIGkgZG9uJ3Qgd2FudCB0byByZXR1cm4uIGhvdyB0byBzdGFuZGFyZGl6ZSB0aGF0P1xuICAgIHUucGFzc3dvcmQgPSB1bmRlZmluZWQ7XG4gICAgdS5kZXZpY2VzLmZvckVhY2goKGRldmljZSwgZGkpID0+IHtcbiAgICAgIHUuZGV2aWNlc1tkaV0ucmVmcmVzaFRva2VuID0gdW5kZWZpbmVkO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHU7XG4gIH1cblxuICAvLyBnZXQgYSB1bmlxdWUgaWQgYmFzZWQgb24gdGhlIG1vbmdvb3NlIHNjaGVtYSBhbmQgZmllbGQgcHJlc2VudGVkLlxuICAvKiBlc2xpbnQgbm8tYXdhaXQtaW4tbG9vcDowICovXG4gIC8vIFRPRE86IG1ha2UgYW4gYXN5bmMgaGVscGVyIGZ1bmN0aW9uLlxuXG4gIGFzeW5jIGdldFVuaXF1ZUlkKG0sIG8sIHBhdGgpIHtcbiAgICB0cnkge1xuICAgICAgLy8gVE9ETzogcmVtb3ZlIGxpbWl0IHdoZW4gSSBrbm93IHRoaXMgd29ya3MuXG4gICAgICBsZXQgdW5pcXVlID0geyBpZDogbnVsbCwgY250OiAwIH07XG4gICAgICBkbyB7XG4gICAgICAgIHVuaXF1ZS5pZCA9IHV1aWR2NCgpLnRvU3RyaW5nKCkucmVwbGFjZSgvLS9nLCAnJyk7XG5cbiAgICAgICAgaWYgKGF3YWl0IG0uTW9kZWwuZmluZE9uZShcbiAgICAgICAgICB7IHVzZXJJZDogby51c2VySWQsIGFjY291bnRJZDogby5hY2NvdW50SWQsIFtwYXRoXTogdW5pcXVlLmlkIH0sXG4gICAgICAgICAgT2JqZWN0LmFzc2lnbih7IF9pZDogMCB9LCB7IFtwYXRoXTogMSB9KSxcbiAgICAgICAgKSAmJiB1bmlxdWUuY250IDwgMTApIHtcbiAgICAgICAgICB1bmlxdWUgPSB7IGlkOiBudWxsLCBjb3VudDogdW5pcXVlLmNudCArIDEgfTtcbiAgICAgICAgfVxuICAgICAgfSB3aGlsZSAoIXVuaXF1ZS5pZCk7XG5cbiAgICAgIHJldHVybiB1bmlxdWUuaWQ7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgfVxuICB9XG59XG4iLCIvKiBlc2xpbnQgY2xhc3MtbWV0aG9kcy11c2UtdGhpczogMCAqL1xuXG5pbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5cbmltcG9ydCBjIGZyb20gJy4uLy4uL2NvbmZpZy9jb25zdHMnO1xuaW1wb3J0IHNjIGZyb20gJy4uLy4uL2NvbmZpZy9zdGF0dXNDb2Rlcyc7XG5pbXBvcnQgZGIgZnJvbSAnLi4vLi4vY29uZmlnL2RiJztcbmltcG9ydCBlbnYgZnJvbSAnLi4vLi4vY29uZmlnL2Vudic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLk0gPSBudWxsO1xuICAgIHRoaXMucXVlcnkgPSBudWxsO1xuICAgIHRoaXMuc2VhY2hMb2cgPSAnc2VhcmNoX2xvZyc7XG5cbiAgICB0aGlzLnByb2plY3QgPSB7XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIGNyZWRpdHM6IDAsXG4gICAgICAgIGNvbWJpbmVkX2NyZWRpdHM6IDAsXG4gICAgICAgIG1vdmllX2NyZWRpdHM6IDAsXG4gICAgICAgIHR2X2NyZWRpdHM6IDAsXG4gICAgICAgIGV4dGVybmFsX2lkczogMCxcbiAgICAgICAgcHJvZHVjdGlvbl9jb21wYW5pZXM6IDAsXG4gICAgICAgIGltYWdlczogMCxcbiAgICAgICAgdGFnZ2VkX2ltYWdlZDogMCxcbiAgICAgICAgcHJvZHVjdGlvbl9jb3VudHJpZXM6IDAsXG4gICAgICAgIHJldmlld3M6IDAsXG4gICAgICAgIHZpZGVvczogMCxcbiAgICAgICAgcmVjb21tZW5kYXRpb25zOiAwLFxuICAgICAgICBzaW1pbGFyOiAwLFxuICAgICAgICBuZXR3b3JrczogMCxcbiAgICAgICAgYWR1bHQ6IDAsXG4gICAgICAgIGJlbG9uZ3NfdG9fY29sbGVjdGlvbjogMCxcbiAgICAgICAgc3Bva2VuX2xhbmd1YWdlczogMCxcbiAgICAgICAgX2lkOiAwLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG59XG4iLCIvLyBUSElTIElTIFRIRSBNT05HT0RCIE5BVElWRSBDT05ORUNUSU9OIENBTiBERUxFVEUgTEFURVJcblxuaW1wb3J0IGVudiBmcm9tICcuL2Vudic7XG5cbmNvbnN0IE1DID0gcmVxdWlyZSgnbW9uZ29kYicpLk1vbmdvQ2xpZW50O1xuXG5jb25zdCBzdGF0ZSA9IHtcbiAgZGI6IG51bGwsXG59O1xuXG5jb25zdCBjb25uZWN0ID0gYXN5bmMgKHVybCkgPT4ge1xuICBpZiAoc3RhdGUuZGIpIHtcbiAgICByZXR1cm4gc3RhdGUuZGI7XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IGRiID0gYXdhaXQgTUMuY29ubmVjdCh1cmwpO1xuICAgIHN0YXRlLmRiID0gZGI7XG4gICAgY29uc29sZS5sb2coZGIpO1xuICAgIHJldHVybiBkYjtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUubG9nKCdFcnJvcjogJywgZS5zdGFjayk7XG4gICAgcmV0dXJuIGU7XG4gIH1cbn07XG5cbmNvbnN0IGdldCA9ICgpID0+IHN0YXRlLmRiO1xuXG5jb25zdCBjb2xsZWN0aW9uID0gbmFtZSA9PiBnZXQoKS5jb2xsZWN0aW9uKG5hbWUpO1xuXG5jb25zdCBjbG9zZSA9IGFzeW5jICgpID0+IHtcbiAgdHJ5IHtcbiAgICBpZiAoc3RhdGUuZGIpIHtcbiAgICAgIGF3YWl0IHN0YXRlLmRiLmNsb3NlKCk7XG4gICAgICBzdGF0ZS5kYiA9IG51bGw7XG4gICAgICBzdGF0ZS5tb2RlID0gbnVsbDtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmxvZygnRXJyb3I6ICcsIGUuc3RhY2spO1xuICAgIHJldHVybiBlO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGNsb3NlLFxuICBjb2xsZWN0aW9uLFxuICBjb25uZWN0LFxuICBnZXQsXG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibW9uZ29kYlwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJ1dGlsXCIpOyIsImltcG9ydCBtIGZyb20gJy4vbWVzc2FnZXMnO1xuaW1wb3J0IGMgZnJvbSAnLi9jb25zdHMnO1xuXG5jbGFzcyBlYyB7fVxuXG4vLyBUT0RPOiBtYWtlIGFsbCBpZHMgdW5pcXVlIGFuZCBpbiByYW5nZXMuXG4vLyBUT0RPOiBwZXJoYXBzIGFkZCBhIGNhdGVnb3J5PyBJIHRoaW5rIGNvZCAgICAgIGV4cGVjdChyZXMpLmUgaXMgY2F0ZWdvcnkuXG4vLyBUT0RPOiBJIHdhbnQgdGhlc2UgY29kZXMgbG9nZ2VkLCBzbyBJIGNhbiByZXZpZXcgd2hpY2ggb25lcyBhcmUgY2FsbGVkIG1vc3Qgb2Z0ZW4uXG5cbmVjLklOVEVSTkFMX0VSUk9SID0ge1xuICBpZDogNTAwLFxuICBzdGF0dXM6IDUwMCxcbiAgbXNnOiAnaW50ZXJuYWwgZXJyb3IuJyxcbn07XG5cbmVjLkVOVU1fUFJPUF9OT1RfRk9VTkQgPSB7XG4gIGlkOiAxMDAwMSxcbiAgc3RhdHVzOiA0MDAsXG4gIG1zZzogJ2VudW0gcHJvcGVydHkgZG9lcyBub3QgZXhpc3QuJyxcbn07XG5cbmVjLklOVkFMSURfRklFTERfU09VUkNFX1RZUEUgPSB7XG4gIGlkOiAxMDAwMSxcbiAgc3RhdHVzOiA0MDAsXG4gIG1zZzogJ2ludmFsaWQgc291cmNlIGZpZWxkIHR5cGUsIHVzZTogcGFyYW1zIG9yIGJvZHkuJyxcbn07XG5cbmVjLklOVkFMSURfVkFMSURBVElPTl9GSUVMRCA9IHtcbiAgaWQ6IDEwMDAyLFxuICBzdGF0dXM6IDQwMCxcbiAgbXNnOiAndGhhdCB2YWxpZGF0aW9uIGZpZWxkIGlzIG5vdCBpbiB0aGUgdmFsaWRhdGlvbiBtYXAuJyxcbn07XG5cbmVjLlRFU1QgPSB7XG4gIGlkOiAxLFxuICBzdGF0dXM6IDEsXG4gIG1zZzogJ3Rlc3QnLFxufTtcblxuT2JqZWN0LmZyZWV6ZShlYyk7XG5cbmV4cG9ydCBkZWZhdWx0IGVjO1xuIiwiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgaHR0cCBmcm9tICdodHRwJztcblxuaW1wb3J0IGMgZnJvbSAnLi4vY29uZmlnL2NvbnN0cyc7XG5pbXBvcnQgc2MgZnJvbSAnLi4vY29uZmlnL3N0YXR1c0NvZGVzJztcblxuaW1wb3J0IFVzZXIgZnJvbSAnLi9Vc2VyJztcbmltcG9ydCBNb2RlbHMgZnJvbSAnLi4vbW9kZWxzL01vZGVscyc7XG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5jb25zdCBiYXNlID0gJy9hcGkvdjEvZW4nOyAvLyBoYXJkIGNvZGUgbGFuZyBmb3Igbm93LiBtYWtlIGR5bmFtaWMgd2hlbiBuZWVkZWQuXG5jb25zdCBtb2RlbHMgPSBNb2RlbHMuYWxsO1xuXG5yb3V0ZXIuZ2V0KGAke2Jhc2V9L3BpbmdgLCAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgcmVzLnN0YXR1cygyMDApLnNlbmQoJ3BpbmdlZCcpO1xufSk7XG5cbnJvdXRlci51c2UoYCR7YmFzZX0vdXNlcmAsIFVzZXIucm91dGVzKG1vZGVscy51c2VyKSk7XG5cbi8vIGNhdGNoIDQwNCBhbmQgZm9yd2FyZCB0byBlcnJvciBoYW5kbGVyXG5yb3V0ZXIudXNlKChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoJ05vdCBGb3VuZCcpO1xuICBlcnIuc3RhdHVzID0gNDA0O1xuICBuZXh0KGVycik7XG59KTtcblxuLy8gZXJyb3IgaGFuZGxlclxucm91dGVyLnVzZSgoZXJyLCByZXEsIHJlcywgbmV4dCkgPT4ge1xuICBjb25zdCBzdGF0dXMgPSBlcnIuc3RhdHVzID8gZXJyLnN0YXR1cyA6IDUwMDtcbiAgbGV0IG1zZyA9IGAke3N0YXR1c306ICR7ZXJyLm1lc3NhZ2V9YDtcblxuICBpZiAoIUFycmF5LmlzQXJyYXkobXNnKSkge1xuICAgIG1zZyA9IFttc2ddO1xuICB9XG5cbiAgY29uc3QgcmVzcG9uc2UgPSB7IGVycm9yczogbXNnIH07XG4gIGlmIChlcnIuZGF0YSkge1xuICAgIHJlc3BvbnNlLmVycm9ycyA9IGVyci5kYXRhO1xuICB9XG5cbiAgcmVzLnN0YXR1cyhzdGF0dXMpLnNlbmQocmVzcG9uc2UpO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiIsImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuXG5pbXBvcnQgYyBmcm9tICcuLi9jb25maWcvY29uc3RzJztcbmltcG9ydCBzYyBmcm9tICcuLi9jb25maWcvc3RhdHVzQ29kZXMnO1xuaW1wb3J0IGgsIHsgYXN5bmNlZCB9IGZyb20gJy4uL3V0aWxzL2hlbHBlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXIge1xuICBzdGF0aWMgcm91dGVzKHUpIHtcbiAgICBjb25zdCByID0gZXhwcmVzcy5Sb3V0ZXIoKTtcbiAgICAvLyBwaW5nIHdpdGggZGF0YWJhc2UgYWN0aXZpdHkuXG4gICAgci5nZXQoJy9waW5nJywgYXN5bmMgKC4uLnApID0+IHsgYXdhaXQgYXN5bmNlZCh1LCAncGluZycsIHApOyB9KTtcblxuICAgIC8vIHVzZXIgcm91dGVzXG4gICAgLypcbiAgICByLnBvc3QoJy9sb2dpbicsIGFzeW5jICguLi5wKSA9PiB7IGF3YWl0IGFzeW5jZWQodSwgJ2xvZ2luJywgcCk7IH0pO1xuICAgIHIuZ2V0KCcvbG9nb3V0JywgYXN5bmMgKC4uLnApID0+IHsgYXdhaXQgYXN5bmNlZCh1LCAnbG9nb3V0JywgcCk7IH0pO1xuICAgIHIuZ2V0KCcvYWNjb3VudCcsIGFzeW5jICguLi5wKSA9PiB7IGF3YWl0IGFzeW5jZWQodSwgJ215QWNjb3VudCcsIHApOyB9KTtcbiAgICByLmdldCgnL2FjY291bnQvOmlkJywgYXN5bmMgKC4uLnApID0+IHsgYXdhaXQgYXN5bmNlZCh1LCAnYWNjb3VudCcsIHApOyB9KTtcbiAgICByLnBvc3QoJy9zaWdudXAnLCBhc3luYyAoLi4ucCkgPT4geyBhd2FpdCBhc3luY2VkKHUsICdzaWdudXAnLCBwKTsgfSk7XG4gICAgci5nZXQoJy9tZScsIGFzeW5jICguLi5wKSA9PiB7IGF3YWl0IGFzeW5jZWQodSwgJ2dldFRoaXNVc2VyJywgcCk7IH0pO1xuICAgIHIuZ2V0KCcvZ2V0LzppZCcsIGFzeW5jICguLi5wKSA9PiB7IGF3YWl0IGFzeW5jZWQodSwgJ2dldFVzZXInLCBwKTsgfSk7XG4gICAgci5nZXQoJy9saXN0JywgYXN5bmMgKC4uLnApID0+IHsgY29uc3Qgb3V0ID0gYXdhaXQgYXN5bmNlZCh1LCAnZ2V0VXNlcnMnLCBwKTsgfSk7XG4gICAgci5wYXRjaCgnL29mZmxpbmUnLCBhc3luYyAoLi4ucCkgPT4geyBhd2FpdCBhc3luY2VkKHUsICdzZXRPZmZsaW5lJywgcCk7IH0pO1xuICAgIHIucGF0Y2goJy9kZWxldGUnLCBhc3luYyAoLi4ucCkgPT4geyBhd2FpdCBhc3luY2VkKHUsICdzZXRTb2Z0RGVsZXRlJywgcCk7IH0pO1xuICAgIHIucGF0Y2goJy91c2VybmFtZScsIGFzeW5jICguLi5wKSA9PiB7IGF3YWl0IGFzeW5jZWQodSwgJ3VwZGF0ZVVzZXJuYW1lJywgcCk7IH0pO1xuICAgIHIucG9zdCgnL3Jlc2VuZC91c2VybmFtZScsIGFzeW5jICguLi5wKSA9PiB7IGF3YWl0IGFzeW5jZWQodSwgJ3Jlc2VuZFVzZXJuYW1lJywgcCk7IH0pO1xuICAgICovXG5cbiAgICByZXR1cm4gcjtcbiAgfVxufVxuIiwiaW1wb3J0IGVudiBmcm9tICcuLi9jb25maWcvZW52JztcbmltcG9ydCBjIGZyb20gJy4uL2NvbmZpZy9jb25zdHMnO1xuXG4vLyBvbmx5IHVzZSB0aGlzIGZvciBkZWJ1Z2dpbmcgYW5kIHRlc3Rpbmc7IG5ldmVyIG5vbi1kZWJ1ZyBwcm9kdWN0aW9uLlxuLy8gc29tZXRpbWVzIHByb21pc2UgZXJyb3JzIHNsaXAgdGhyb3VnaCBkdXJpbmcgZGVidWdnaW5nLlxuaWYgKGVudi5kZWJ1Zykge1xuICBwcm9jZXNzLm9uKCd1bmhhbmRsZWRSZWplY3Rpb24nLCAocmVhc29uLCBwKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ3VuaGFuZGxlZFJlamVjdGlvbi4uLicpO1xuICAgIGxldCBwcm9tID0gJyc7XG4gICAgaWYgKHApIHtcbiAgICAgIHByb20gPSBgVW5oYW5kbGVkIFJlamVjdGlvbiBhdDogUHJvbWlzZSR7cH1gO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZygncmVhc29uOicsIHByb20sIHJlYXNvbik7XG4gICAgLy8gYXBwbGljYXRpb24gc3BlY2lmaWMgbG9nZ2luZywgdGhyb3dpbmcgYW4gZXJyb3IsIG9yIG90aGVyIGxvZ2ljIGhlcmVcbiAgfSk7XG5cbiAgcHJvY2Vzcy5vbigndW5jYXVnaHRFeGNlcHRpb24nLCAoZSkgPT4ge1xuICAgIC8vIGhhbmRsZSB0aGUgZXJyb3Igc2FmZWx5XG4gICAgY29uc29sZS5sb2coJ0Vycm9yOiAnLCBlLnN0YWNrKTtcbiAgfSk7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9