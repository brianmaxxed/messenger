module.exports=function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="./dist/public/",r(r.s=14)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(1);class o{static addProp(e,t){if(e in o){const t=`Constant class c already has property '${e}' assigned`;throw new Error(t)}Object.defineProperty(o,e,{value:t,writable:!1})}}o.addProp("LEAN",!0),o.addProp("TRUE","true"),o.addProp("FALSE","false"),o.addProp("INDEX","index"),o.addProp("UNIQUE","unique"),o.addProp("SPARSE","sparse"),o.addProp("NESTED","NESTED"),o.addProp("PAGE_LIMIT",1e3),o.addProp("PER_PAGE_LIMIT",20),o.addProp("MULTI_PER_PAGE_LIMIT",10),o.addProp("SIGINT","SIGINT"),o.addProp("SIGTERM","SIGTERM"),o.addProp("EMPTY_STR",""),o.addProp("OFFLINE","offline"),o.addProp("DISABLED","disabled"),o.addProp("SOFT_DELETE","softDelete"),o.addProp("OPEN","open"),o.addProp("EXIT","exit"),o.addProp("CONNECTING","connecting"),o.addProp("CONNECTED","connected"),o.addProp("DISCONNECTION","disconnecting"),o.addProp("DISCONNECTED","disconnected"),o.addProp("CLOSE","close"),o.addProp("RECONNECT","reconnected"),o.addProp("ERROR","error"),o.addProp("FULLSETUP","fullsetup"),o.addProp("ALL","all"),o.addProp("BOOLEAN","boolean"),o.addProp("OBJECT","object"),o.addProp("STRING","string"),o.addProp("FUNCTION","function"),o.addProp("NUMBER","number"),o.addProp("UNDEFINED","undefined"),o.addProp("INSERT","insert"),o.addProp("UPDATE","update"),o.addProp("DELETE","delete"),Object.freeze(o),t.default=o},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(r(8));r(9).load({path:o.default.join(e,"../../.env"),sample:o.default.join(e,"../../.env.example")});const n={user:"brian",appName:"messengerBackend",debug:!0,debugLevel:"debug",debugDb:!1,debugExpress:!0,debugUnitTests:!1,stackTraceUnhandledErrors:!0,unitTestDbSuffix:"TEST_brian",host:"localhost",domain:process.env.DOMAIN,environment:"dev",port:"3100",mongo:{dbName:null,uri:null}};"test"==="dev".toLowerCase()&&process.env.TEST_ENV;n.mongo.dbName="moderation",n.mongo.uri="mongodb+srv://admin:admin123@cluster0-mozly.mongodb.net/moderation",t.default=n}).call(this,"src/config")},function(e,t){e.exports=require("mongoose")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(13));n(r(0));function n(e){return e&&e.__esModule?e:{default:e}}class a{}a.INTERNAL_ERROR={id:500,status:500,msg:"internal error."},a.SUCCESS={id:1,status:200,msg:o.default.OK},a.SUCCESSFUL_UPDATE={id:22,status:201,msg:"successful update."},a.INVALID_MODERATION_FIELDS={id:400,status:422,msg:"imageId, user, and approved (true/false) are required."},a.INVALID_LIST_FILTER={id:400,status:422,msg:"filter must be 'all', 'pending', 'approved', or 'rejected.'"},a.USER_DOESNT_EXIST={id:400,status:422,msg:"That user does not exist."},Object.freeze(a),t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={user:"user",image:"image"}},function(e,t,r){"use strict";var o=s(r(6)),n=(s(r(0)),s(r(3))),a=(s(r(30)),s(r(1)));function s(e){return e&&e.__esModule?e:{default:e}}const u=e=>{const t={};if(!e)return t;const{id:r=0,status:n=500,msg:a="internal error"}=e;if(t.id=r,t.status=n,t.msg=a,o.default.get(e,"errors"))t.errors=e.errors;else{t.errors=[];const o={error:{id:r,status:n,msg:a}};e.extra&&(o.extra=e.extra),t.errors.push(o)}return t},d=(e,t,r)=>{const n=Object.assign({},e);return n&&(n.error&&(n.errors?n.errors.push({msg:n.error.msg,stack:n.error.stack}):n.errors=[{error:n.error}],delete n.error,o.default.has(n,"status")||(n.status=n.errors[0].status||500)),t.type("json"),t.status(n.status||500).send(n)),t.headersSent||r(),n};e.exports={mapToArray:e=>{const t=[];return e.forEach((e,r,o)=>{t.push(e)}),t},wrapErrorCode:e=>[{error:e}],hasOnlyOne:(e={},t=[])=>{const r=t.filter(t=>t in e).map(t=>({field:t,value:e[t]}));return 1===r.length?r:[]},processResults:d,statusObject:(e,t={})=>{const{id:r,status:o,msg:n}=e;return{id:r,status:o,msg:n,data:t}},errorObject:u,unhandledErrorObject:e=>("production"!==a.default.environment||a.default.stackTraceUnhandledErrors?console.log(e.stack):console.log(`${e.message} ${e.extra}`),"production"!==a.default.environment||a.default.debug?u(e):u(n.default.INTERNAL_ERROR)),formatTimeLeft:e=>{const t=e/60>1?e/60:1;return`${t} minute${1!==t?"s":""}`},asynced:async(e,t,r)=>{const[o,n,a]=r,s=await e[t](o);return d(s,n,a),s},asyncForEachLinear:async(e,t)=>{for(const r of e)await t(r)},asyncForEach:async(e,t)=>{await Promise.all(e.map(t))}}},function(e,t){e.exports=require("lodash")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("dotenv-safe")},function(e,t){e.exports=require("http")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(r(12)),n=a(r(31));function a(e){return e&&e.__esModule?e:{default:e}}class s{constructor(){this.models=s.all}static get all(){return{user:new o.default,image:new n.default}}get all(){return Object.assign({},this.models)}}t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});s(r(6));var o=s(r(2)),n=(s(r(27)),s(r(28)),s(r(29))),a=(s(r(0)),s(r(3)),s(r(4)));s(r(5)),s(r(1));function s(e){return e&&e.__esModule?e:{default:e}}class u{static get Model(){return o.default.model(a.default.user,n.default)}get Model(){return u.Model}}t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class o{}o.OK="OK",t.default=o},function(e,t,r){"use strict";var o=u(r(15)),n=u(r(1)),a=u(r(0)),s=r(16);function u(e){return e&&e.__esModule?e:{default:e}}n.default.debug&&o.default.install({environment:a.default.NODE}),n.default.debug&&r(35),process.on("SIGTERM",()=>{console.log("SIGTERM"),(0,s.shutdown)()}),process.on("SIGINT",()=>{console.log("SIGINT"),(0,s.shutdown)()}),(0,s.startup)(),e.exports={app:s.app,server:s.server,startup:s.startup,shutdown:s.shutdown}},function(e,t){e.exports=require("source-map-support")},function(e,t,r){"use strict";E(r(6));var o=E(r(7)),n=E(r(2)),a=E(r(10)),s=E(r(17)),u=E(r(18)),d=E(r(19)),l=(E(r(20)),E(r(21))),c=(E(r(8)),E(r(22)),E(r(23))),i=E(r(24)),f=(E(r(25)),E(r(0))),p=E(r(26)),g=E(r(1)),m=E(r(33));function E(e){return e&&e.__esModule?e:{default:e}}r(9).config();let _=null;const I=(0,o.default)();I.use((0,l.default)()),I.disable("x-powered-by"),I.use((0,i.default)()),I.use((0,c.default)()),I.use((0,d.default)({origin:"*",credentials:!0,optionsSuccessStatus:200,allowedHeaders:["Content-Type","Authorization","Accept","Accept-Encoding"]})),I.use(s.default.urlencoded({extended:!1})),I.use((e,t,r)=>{s.default.json({verify(e,t,r,o){e.rawBody=r.toString()}})(e,t,e=>{if(e){const r=-1!==e.message.indexOf("JSON")?e.message:"internal error";t.status(500).send({error:{status:500,msg:r}}),console.log(f.default.ERROR,{status:e.status||500,message:e.msg,error:e})}else r()})}),I.use((0,u.default)()),I.set("trust proxy",!0),I.set(f.default.PORT,g.default.port),g.default.debug&&g.default.debugExpress&&console.log("Overriding 'Express' logger"),I.use(m.default),e.exports={app:I,httpServer:_,startup:async e=>{try{const t=e||I.get(f.default.PORT);p.default.setDebug(g.default.debug),await p.default.connect(),(_=a.default.createServer(I)).listen(t),console.log("listening at http://%s:%d",g.default.host,t)}catch(e){console.log("Error: ",e.stack)}return _},shutdown:async(e=!0)=>{console.log(`app '${g.default.appName}' terminating.`),console.log("closing server...");try{await _.close(),console.log("express server close."),await n.default.connection.close(),console.log("Mongoose default connection disconnected."),n.default.connection.removeAllListeners()}catch(e){console.log("Uncaught Shutdown Error:",e.stack)}return console.log("Finally exiting."),e&&process.exit(1),null}}},function(e,t){e.exports=require("body-parser")},function(e,t){e.exports=require("cookie-parser")},function(e,t){e.exports=require("cors")},function(e,t){e.exports=require("csurf")},function(e,t){e.exports=require("helmet")},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("compression")},function(e,t){e.exports=require("response-time")},function(e,t){e.exports=require("method-override")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=d(r(2)),n=d(r(11)),a=d(r(1)),s=d(r(0)),u=d(r(5));function d(e){return e&&e.__esModule?e:{default:e}}const l={db:null,test:!1};t.default={get:()=>l.db,setAsTest:()=>{l.test=!0},setDebug:e=>{a.default.debugDb&&(o.default.connection.removeAllListeners(),o.default.set(s.default.DEBUG,!0),a.default.debug&&console.log(`starting in debug mode; env=${a.default.environment}`),[s.default.CONNECTING,s.default.CONNECTED,s.default.OPEN,s.default.DISCONNECTING,s.default.DISCONNECTED,s.default.CLOSE,s.default.RECONNECTED,s.default.ERROR,s.default.ALL,s.default.INDEX].forEach(e=>{o.default.connection.on(e,()=>{console.log(`Mongoose event ${e}`)})}))},connect:async(e,t)=>{const r=e||`${a.default.mongo.uri}`,n=t||`${a.default.mongo.dbName}`,s={dbName:n||a.default.mongo.dbName,reconnectTries:5,reconnectInterval:500,keepAlive:!0,config:{autoIndex:!1,background:!1}};a.default.debug&&(console.log(`mongo Uri: ${r}`),console.log(`mongo Db: ${n}`));try{const e=await o.default.connect(r,s);return l.db=e,l.db}catch(e){return console.log("Error: ",e.stack),null}},createIndexes:async()=>{try{const e=n.default.all;await u.default.asyncForEach(Object.keys(e),async t=>{e[t]&&e[t].Model&&(e[t].Model.collection&&(await e[t].Model.collection.getIndexes(),await e[t].Model.collection.dropIndexes()),await e[t].Model.createIndexes())})}catch(e){return console.log(e),u.default.unhandledErrorObject(e)}}}},function(e,t){e.exports=require("moment")},function(e,t){e.exports=require("uuid/v4")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),n=a(r(4));a(r(0));function a(e){return e&&e.__esModule?e:{default:e}}const s=new o.Schema({userId:{type:String,required:!0},user:{type:String,minlength:2,maxlength:16}},{autoIndex:!0,timestamps:!0,collection:n.default.user});s.index({accountId:1,user:1},{unique:!0}),s.index({accountId:1,userId:1},{unique:!0}),t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});o(r(13)),o(r(0));function o(e){return e&&e.__esModule?e:{default:e}}class n{}n.INTERNAL_ERROR={id:500,status:500,msg:"internal error."},n.ENUM_PROP_NOT_FOUND={id:10001,status:400,msg:"enum property does not exist."},n.INVALID_FIELD_SOURCE_TYPE={id:10001,status:400,msg:"invalid source field type, use: params or body."},n.INVALID_VALIDATION_FIELD={id:10002,status:400,msg:"that validation field is not in the validation map."},n.TEST={id:1,status:1,msg:"test"},Object.freeze(n),t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=l(r(2)),n=l(r(32)),a=l(r(12)),s=(l(r(0)),l(r(3))),u=l(r(4)),d=l(r(5));function l(e){return e&&e.__esModule?e:{default:e}}class c{static get Model(){return o.default.model(u.default.Image,n.default)}get Model(){return c.Model}async list(e={}){const{filter:t="all"}=e.params;if(!["all","pending","approved","rejected"].includes(t))return s.default.INVALID_LIST_FILTER;let r={};switch(t){case"pending":r={approved:{$exists:!1},moderatorId:{$exists:!1}};break;case"approved":r={approved:!0};break;case"rejected":r={approved:!1};break;default:r={}}try{const e=await c.Model.find(r).sort({ts:1}).lean();return{status:s.default.SUCCESS.status,data:{message:e}}}catch(e){return d.default.unhandledErrorObject(e)}}async nextUnmoderated(e={}){console.log("!!!");const{user:t}=e.query;if(!t)return s.default.USER_DOESNT_EXIST;const r=await a.default.Model.find({user:t}).lean();if(r.length<1)return s.default.USER_DOESNT_EXIST;try{const e=await c.Model.find({$and:[{approved:{$exists:!1}},{$or:[{moderatorId:{$exists:!1}},{moderatorId:r[0].userId}]}]}).sort({moderatorId:-1,ts:1}).limit(2).lean();let t;return console.log(e),r[0].moderatorId||(t=await c.Model.updateOne({_id:e[0]._id},{$set:{moderatorId:r[0].userId}}),console.log(t)),{status:s.default.SUCCESS.status,data:{message:e}}}catch(e){return d.default.unhandledErrorObject(e)}}async moderate(e={}){const{imageId:t,user:r,approved:n}=e.body;if(console.log(t,r,n),!t||!r||"boolean"!=typeof n)return s.default.INVALID_MODERATION_FIELDS;const u=await a.default.Model.find({user:r}).lean();if(u.length<1)return s.default.USER_DOESNT_EXIST;const{ObjectId:l}=o.default.Types;try{const e=await c.Model.updateOne({_id:new l(t)},{$set:{moderatorId:u[0].userId,approved:n}});return{status:s.default.SUCCESS.status,data:{message:1===e.nModified}}}catch(e){return d.default.unhandledErrorObject(e)}}async moderated(e={}){try{const{user:t}=e.query;if(!t)return s.default.USER_DOESNT_EXIST;const r=await a.default.Model.find({user:t}).lean();if(r.length<1)return s.default.USER_DOESNT_EXIST;const o=await c.Model.find({moderatorId:r[0].userId,approved:{$exists:!0}}).sort({updatedAt:-1}).limit(5).skip(0).lean();return{status:s.default.SUCCESS.status,data:{message:o}}}catch(e){return d.default.unhandledErrorObject(e)}}async clear(e={}){try{const e=await c.Model.updateMany({},{$unset:{moderatorId:null,approved:null}});return{status:s.default.SUCCESS.status,data:{message:e}}}catch(e){return d.default.unhandledErrorObject(e)}}}t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),n=a(r(4));a(r(0));function a(e){return e&&e.__esModule?e:{default:e}}const s=new o.Schema({ts:{type:Number,required:!0},url:{type:String,required:!0},moderatorId:{type:Number,default:void 0},approved:{type:Boolean,default:void 0}},{autoIndex:!0,timestamps:!0,collection:n.default.image});s.index({ts:1}),s.index({url:1},{unique:!0}),t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(r(7)),n=(s(r(10)),s(r(0)),s(r(3)),s(r(34))),a=s(r(11));function s(e){return e&&e.__esModule?e:{default:e}}const u=o.default.Router(),d=a.default.all;u.use("/api/v1/image",n.default.routes(d.image)),u.use((e,t,r)=>{const o=new Error("Not Found");o.status=404,r(o)}),u.use((e,t,r,o)=>{const n=e.status?e.status:500;let a=`${n}: ${e.message}`;Array.isArray(a)||(a=[a]);const s={errors:a};e.data&&(s.errors=e.data),r.status(n).send(s)}),t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(r(7)),n=(a(r(0)),a(r(3)),r(5));a(n);function a(e){return e&&e.__esModule?e:{default:e}}t.default=class{static routes(e){const t=o.default.Router();return t.get("/clear",async(...t)=>{await(0,n.asynced)(e,"clear",t)}),t.get("/list",async(...t)=>{await(0,n.asynced)(e,"list",t)}),t.get("/list/:filter",async(...t)=>{await(0,n.asynced)(e,"list",t)}),t.get("/next",async(...t)=>{await(0,n.asynced)(e,"nextUnmoderated",t)}),t.put("/moderate",async(...t)=>{await(0,n.asynced)(e,"moderate",t)}),t.get("/moderated",async(...t)=>{await(0,n.asynced)(e,"moderated",t)}),console.log("####"),t}}},function(e,t,r){"use strict";var o=n(r(1));n(r(0));function n(e){return e&&e.__esModule?e:{default:e}}o.default.debug&&(process.on("unhandledRejection",(e,t)=>{console.log("unhandledRejection...");let r="";t&&(r=`Unhandled Rejection at: Promise${t}`),console.log("reason:",r,e)}),process.on("uncaughtException",e=>{console.log("Error: ",e.stack)}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbmZpZy9jb25zdHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbmZpZy9lbnYuanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwibW9uZ29vc2VcIiIsIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL3N0YXR1c0NvZGVzLmpzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvY29uc3RzL21vZGVscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvaGVscGVyLmpzIiwid2VicGFjazovLy9leHRlcm5hbCBcImxvZGFzaFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcImV4cHJlc3NcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJwYXRoXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiZG90ZW52LXNhZmVcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJodHRwXCIiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9Nb2RlbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9Vc2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9jb25maWcvbWVzc2FnZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZlci5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJzb3VyY2UtbWFwLXN1cHBvcnRcIiIsIndlYnBhY2s6Ly8vLi9zcmMvZXhwcmVzcy5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJib2R5LXBhcnNlclwiIiwid2VicGFjazovLy9leHRlcm5hbCBcImNvb2tpZS1wYXJzZXJcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJjb3JzXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiY3N1cmZcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJoZWxtZXRcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJmc1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcImNvbXByZXNzaW9uXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwicmVzcG9uc2UtdGltZVwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIm1ldGhvZC1vdmVycmlkZVwiIiwid2VicGFjazovLy8uL3NyYy9jb25maWcvbW9uZ29vc2UuanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwibW9tZW50XCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwidXVpZC92NFwiIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvc2NoZW1hcy9Vc2VyU2NoZW1hLmpzIiwid2VicGFjazovLy8uL3NyYy9jb25maWcvZXJyb3JDb2Rlcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL0ltYWdlLmpzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvc2NoZW1hcy9JbWFnZVNjaGVtYS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXJzL0ltYWdlLmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9wcm9jZXNzRXZlbnRzLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiW29iamVjdCBPYmplY3RdIiwicHJvcCIsIm1zZyIsIkVycm9yIiwid3JpdGFibGUiLCJhZGRQcm9wIiwiZnJlZXplIiwibG9hZCIsInBhdGgiLCJqb2luIiwiX19kaXJuYW1lIiwic2FtcGxlIiwiZW52IiwidXNlciIsImFwcE5hbWUiLCJkZWJ1ZyIsImRlYnVnTGV2ZWwiLCJkZWJ1Z0RiIiwiZGVidWdFeHByZXNzIiwiZGVidWdVbml0VGVzdHMiLCJzdGFja1RyYWNlVW5oYW5kbGVkRXJyb3JzIiwidW5pdFRlc3REYlN1ZmZpeCIsImhvc3QiLCJkb21haW4iLCJwcm9jZXNzIiwiRE9NQUlOIiwiZW52aXJvbm1lbnQiLCJwb3J0IiwibW9uZ28iLCJkYk5hbWUiLCJ1cmkiLCJ0b0xvd2VyQ2FzZSIsIlRFU1RfRU5WIiwicmVxdWlyZSIsInNjIiwiSU5URVJOQUxfRVJST1IiLCJpZCIsInN0YXR1cyIsIlNVQ0NFU1MiLCJPSyIsIlNVQ0NFU1NGVUxfVVBEQVRFIiwiSU5WQUxJRF9NT0RFUkFUSU9OX0ZJRUxEUyIsIklOVkFMSURfTElTVF9GSUxURVIiLCJVU0VSX0RPRVNOVF9FWElTVCIsImltYWdlIiwiZXJyb3JPYmplY3QiLCJlcnJvciIsIm91dHB1dCIsIl8iLCJlcnJvcnMiLCJlIiwiZXh0cmEiLCJwdXNoIiwicHJvY2Vzc1Jlc3VsdHMiLCJwYXlsb2FkIiwicmVzIiwibmV4dCIsImFzc2lnbiIsInN0YWNrIiwiaGFzIiwidHlwZSIsInNlbmQiLCJoZWFkZXJzU2VudCIsIm1hcFRvQXJyYXkiLCJtYXAiLCJmb3JFYWNoIiwid3JhcEVycm9yQ29kZSIsImhhc09ubHlPbmUiLCJvYmoiLCJmaWVsZHMiLCJvdXQiLCJmaWx0ZXIiLCJmIiwiayIsImZpZWxkIiwibGVuZ3RoIiwic3RhdHVzT2JqZWN0IiwiZGF0YSIsInVuaGFuZGxlZEVycm9yT2JqZWN0IiwiY29uc29sZSIsImxvZyIsIm1lc3NhZ2UiLCJmb3JtYXRUaW1lTGVmdCIsInRpbWUiLCJtaW51dGVzIiwiYXN5bmNlZCIsImFzeW5jIiwiaW5zdCIsImZuIiwicGFyYW1zIiwicmVxIiwiYXN5bmNGb3JFYWNoTGluZWFyIiwiYXIiLCJhc3luY0ZvckVhY2giLCJQcm9taXNlIiwiYWxsIiwiTW9kZWxzIiwiY29uc3RydWN0b3IiLCJ0aGlzIiwibW9kZWxzIiwiVXNlciIsIkltYWdlIiwiTW9kZWwiLCJtb25nb29zZSIsIm1vZGVsIiwiVXNlclNjaGVtYSIsIl9leHByZXNzIiwic291cmNlTWFwU3VwcG9ydCIsImluc3RhbGwiLCJOT0RFIiwib24iLCJzaHV0ZG93biIsInN0YXJ0dXAiLCJhcHAiLCJzZXJ2ZXIiLCJjb25maWciLCJodHRwU2VydmVyIiwiX2V4cHJlc3MyIiwiZGVmYXVsdCIsInVzZSIsIl9oZWxtZXQyIiwiZGlzYWJsZSIsIl9yZXNwb25zZVRpbWUyIiwiX2NvbXByZXNzaW9uMiIsIl9jb3JzMiIsIm9yaWdpbiIsImNyZWRlbnRpYWxzIiwib3B0aW9uc1N1Y2Nlc3NTdGF0dXMiLCJhbGxvd2VkSGVhZGVycyIsImJvZHlQYXJzZXIiLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJqc29uIiwidmVyaWZ5IiwiYnVmIiwiZW5jb2RpbmciLCJyYXdCb2R5IiwidG9TdHJpbmciLCJlcnIiLCJpbmRleE9mIiwiRVJST1IiLCJfY29va2llUGFyc2VyMiIsInNldCIsIlBPUlQiLCJjb250cm9sbGVycyIsIm92ZXJyaWRlUG9ydCIsInNldERlYnVnIiwiY29ubmVjdCIsImh0dHAiLCJjcmVhdGVTZXJ2ZXIiLCJsaXN0ZW4iLCJjYW5FeGl0IiwiY2xvc2UiLCJjb25uZWN0aW9uIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZXhpdCIsInN0YXRlIiwiZGIiLCJ0ZXN0Iiwic2V0QXNUZXN0IiwiREVCVUciLCJDT05ORUNUSU5HIiwiQ09OTkVDVEVEIiwiT1BFTiIsIkRJU0NPTk5FQ1RJTkciLCJESVNDT05ORUNURUQiLCJDTE9TRSIsIlJFQ09OTkVDVEVEIiwiQUxMIiwiSU5ERVgiLCJldmVudCIsIm1vbmdvVXJpIiwib3B0cyIsInJlY29ubmVjdFRyaWVzIiwicmVjb25uZWN0SW50ZXJ2YWwiLCJrZWVwQWxpdmUiLCJhdXRvSW5kZXgiLCJiYWNrZ3JvdW5kIiwiY29ubiIsImNyZWF0ZUluZGV4ZXMiLCJoIiwia2V5cyIsImNvbGxlY3Rpb24iLCJnZXRJbmRleGVzIiwiZHJvcEluZGV4ZXMiLCJfbW9uZ29vc2UiLCJTY2hlbWEiLCJ1c2VySWQiLCJTdHJpbmciLCJyZXF1aXJlZCIsIm1pbmxlbmd0aCIsIm1heGxlbmd0aCIsInRpbWVzdGFtcHMiLCJpbmRleCIsImFjY291bnRJZCIsInVuaXF1ZSIsImVjIiwiRU5VTV9QUk9QX05PVF9GT1VORCIsIklOVkFMSURfRklFTERfU09VUkNFX1RZUEUiLCJJTlZBTElEX1ZBTElEQVRJT05fRklFTEQiLCJURVNUIiwiSW1hZ2VTY2hlbWEiLCJpbmNsdWRlcyIsImZpbmQiLCJhcHByb3ZlZCIsIiRleGlzdHMiLCJtb2RlcmF0b3JJZCIsInNvcnQiLCJ0cyIsImxlYW4iLCJxdWVyeSIsInUiLCIkYW5kIiwiJG9yIiwibGltaXQiLCJ1cGRhdGVkIiwidXBkYXRlT25lIiwiX2lkIiwiJHNldCIsImltYWdlSWQiLCJib2R5IiwiT2JqZWN0SWQiLCJUeXBlcyIsIm5Nb2RpZmllZCIsInVwZGF0ZWRBdCIsInNraXAiLCJ1cGRhdGVNYW55IiwiJHVuc2V0IiwiTnVtYmVyIiwidXJsIiwiQm9vbGVhbiIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJyb3V0ZXMiLCJBcnJheSIsImlzQXJyYXkiLCJyZXNwb25zZSIsIl9oZWxwZXIiLCJwdXQiLCJyZWFzb24iLCJwcm9tIl0sIm1hcHBpbmdzIjoiMkJBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQTBEQSxPQXJEQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixF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RyxTQUFVeEYsV0FBYyxFQUFBZ1AsRUFBQXpKLFNBQVFqSCxFQUFHLFlBQWEwQixLQUVwRWlGLFFBQVFDLElBQUksUUFDTGxHLGtDQzVCWCxRQUFBbEIsRUFBQSxNQUNBQSxFQUFBLHVEQUlJZ0QsVUFBSUcsUUFDTlMsUUFBUXNGLEdBQUcscUJBQXNCLENBQUNrSSxFQUFRbFAsS0FDeENpRixRQUFRQyxJQUFJLHlCQUNaLElBQUlpSyxFQUFPLEdBQ1BuUCxJQUNGbVAsb0NBQXlDblAsS0FFM0NpRixRQUFRQyxJQUFJLFVBQVdpSyxFQUFNRCxLQUkvQnhOLFFBQVFzRixHQUFHLG9CQUFzQjVELElBRS9CNkIsUUFBUUMsSUFBSSxVQUFXOUIsRUFBRVEiLCJmaWxlIjoic2VydmVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIuL2Rpc3QvcHVibGljL1wiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTQpO1xuIiwiaW1wb3J0IHsgZW52aXJvbm1lbnQsIGRvbWFpbiB9IGZyb20gJy4uL2NvbmZpZy9lbnYnO1xuXG5jbGFzcyBjIHtcbiAgc3RhdGljIGFkZFByb3AocHJvcCwgdmFsdWUpIHtcbiAgICBpZiAoIShwcm9wIGluIGMpKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYywgcHJvcCwgeyB2YWx1ZSwgd3JpdGFibGU6IGZhbHNlIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBtc2cgPSBgQ29uc3RhbnQgY2xhc3MgYyBhbHJlYWR5IGhhcyBwcm9wZXJ0eSAnJHtwcm9wfScgYXNzaWduZWRgO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgfVxuICB9XG59XG5cbmMuYWRkUHJvcCgnTEVBTicsIHRydWUpOyAvLyBtb2RlbCBsZWFuIG9yIGZ1bGwgbW9uZ29vc2Ugb2JqZWN0LlxuXG5jLmFkZFByb3AoJ1RSVUUnLCAndHJ1ZScpO1xuYy5hZGRQcm9wKCdGQUxTRScsICdmYWxzZScpO1xuXG5jLmFkZFByb3AoJ0lOREVYJywgJ2luZGV4Jyk7XG5jLmFkZFByb3AoJ1VOSVFVRScsICd1bmlxdWUnKTtcbmMuYWRkUHJvcCgnU1BBUlNFJywgJ3NwYXJzZScpO1xuXG5jLmFkZFByb3AoJ05FU1RFRCcsICdORVNURUQnKTtcblxuYy5hZGRQcm9wKCdQQUdFX0xJTUlUJywgMTAwMCk7XG5jLmFkZFByb3AoJ1BFUl9QQUdFX0xJTUlUJywgMjApO1xuYy5hZGRQcm9wKCdNVUxUSV9QRVJfUEFHRV9MSU1JVCcsIDEwKTtcblxuYy5hZGRQcm9wKCdTSUdJTlQnLCAnU0lHSU5UJyk7XG5jLmFkZFByb3AoJ1NJR1RFUk0nLCAnU0lHVEVSTScpO1xuXG4vLyB1c2VmdWwgc3RyaW5ncyAobW9uZ29vc2UgZXZlbnRzJywgc3RyaW5ncycsIGV0YylcbmMuYWRkUHJvcCgnRU1QVFlfU1RSJywgJycpO1xuXG5jLmFkZFByb3AoJ09GRkxJTkUnLCAnb2ZmbGluZScpO1xuYy5hZGRQcm9wKCdESVNBQkxFRCcsICdkaXNhYmxlZCcpO1xuYy5hZGRQcm9wKCdTT0ZUX0RFTEVURScsICdzb2Z0RGVsZXRlJyk7XG5cbmMuYWRkUHJvcCgnT1BFTicsICdvcGVuJyk7XG5jLmFkZFByb3AoJ0VYSVQnLCAnZXhpdCcpO1xuYy5hZGRQcm9wKCdDT05ORUNUSU5HJywgJ2Nvbm5lY3RpbmcnKTtcbmMuYWRkUHJvcCgnQ09OTkVDVEVEJywgJ2Nvbm5lY3RlZCcpO1xuYy5hZGRQcm9wKCdESVNDT05ORUNUSU9OJywgJ2Rpc2Nvbm5lY3RpbmcnKTtcbmMuYWRkUHJvcCgnRElTQ09OTkVDVEVEJywgJ2Rpc2Nvbm5lY3RlZCcpO1xuYy5hZGRQcm9wKCdDTE9TRScsICdjbG9zZScpO1xuYy5hZGRQcm9wKCdSRUNPTk5FQ1QnLCAncmVjb25uZWN0ZWQnKTtcbmMuYWRkUHJvcCgnRVJST1InLCAnZXJyb3InKTtcbmMuYWRkUHJvcCgnRlVMTFNFVFVQJywgJ2Z1bGxzZXR1cCcpO1xuYy5hZGRQcm9wKCdBTEwnLCAnYWxsJyk7XG5cbmMuYWRkUHJvcCgnQk9PTEVBTicsICdib29sZWFuJyk7XG5jLmFkZFByb3AoJ09CSkVDVCcsICdvYmplY3QnKTtcbmMuYWRkUHJvcCgnU1RSSU5HJywgJ3N0cmluZycpO1xuYy5hZGRQcm9wKCdGVU5DVElPTicsICdmdW5jdGlvbicpO1xuYy5hZGRQcm9wKCdOVU1CRVInLCAnbnVtYmVyJyk7XG5jLmFkZFByb3AoJ1VOREVGSU5FRCcsICd1bmRlZmluZWQnKTtcblxuYy5hZGRQcm9wKCdJTlNFUlQnLCAnaW5zZXJ0Jyk7XG5jLmFkZFByb3AoJ1VQREFURScsICd1cGRhdGUnKTtcbmMuYWRkUHJvcCgnREVMRVRFJywgJ2RlbGV0ZScpO1xuXG5PYmplY3QuZnJlZXplKGMpO1xuXG5leHBvcnQgZGVmYXVsdCBjO1xuIiwiaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5cbi8vIGltcG9ydCAuZW52IHZhcmlhYmxlc1xucmVxdWlyZSgnZG90ZW52LXNhZmUnKS5sb2FkKHtcbiAgcGF0aDogcGF0aC5qb2luKF9fZGlybmFtZSwgJy4uLy4uLy5lbnYnKSxcbiAgc2FtcGxlOiBwYXRoLmpvaW4oX19kaXJuYW1lLCAnLi4vLi4vLmVudi5leGFtcGxlJyksXG59KTtcblxuY29uc3QgZW52ID0ge1xuICB1c2VyOiBwcm9jZXNzLmVudi5VU0VSLFxuICBhcHBOYW1lOiBwcm9jZXNzLmVudi5BUFBfTkFNRSxcbiAgZGVidWc6IHByb2Nlc3MuZW52LkRFQlVHID09PSAndHJ1ZScsXG4gIGRlYnVnTGV2ZWw6IHByb2Nlc3MuZW52LkRFQlVHX0xFVkVMLFxuICBkZWJ1Z0RiOiBwcm9jZXNzLmVudi5ERUJVR19EQiA9PT0gJ3RydWUnLFxuICBkZWJ1Z0V4cHJlc3M6IHByb2Nlc3MuZW52LkRFQlVHX0VYUFJFU1MgPT09ICd0cnVlJyxcbiAgZGVidWdVbml0VGVzdHM6IHByb2Nlc3MuZW52LkRFQlVHX1VOSVRfVEVTVFMgPT09ICd0cnVlJyxcbiAgc3RhY2tUcmFjZVVuaGFuZGxlZEVycm9yczogcHJvY2Vzcy5lbnYuU1RBQ0tUUkFDRV9VTkhBTkRMRURfRVJST1JTID09PSAndHJ1ZScsXG4gIHVuaXRUZXN0RGJTdWZmaXg6IGAke3Byb2Nlc3MuZW52LlVOSVRfVEVTVF9EQl9TVUZGSVh9XyR7cHJvY2Vzcy5lbnYuVVNFUn1gLFxuICBob3N0OiBwcm9jZXNzLmVudi5IT1NULFxuICBkb21haW46IHByb2Nlc3MuZW52LkRPTUFJTixcbiAgZW52aXJvbm1lbnQ6IHByb2Nlc3MuZW52Lk5PREVfRU5WLFxuICBwb3J0OiBwcm9jZXNzLmVudi5QT1JULFxuICBtb25nbzoge1xuICAgIGRiTmFtZTogbnVsbCxcbiAgICB1cmk6IG51bGwsXG4gIH0sXG59O1xuXG5jb25zdCBlbnZpcm9ubWVudCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WLnRvTG93ZXJDYXNlKCkgPT09ICd0ZXN0J1xuICA/IHByb2Nlc3MuZW52LlRFU1RfRU5WIDogcHJvY2Vzcy5lbnYuTk9ERV9FTlY7XG5cbmVudi5tb25nby5kYk5hbWUgPSBwcm9jZXNzLmVudi5NT05HT19ERVZfREI7XG5lbnYubW9uZ28udXJpID0gcHJvY2Vzcy5lbnYuTU9OR09fREVWX1VSSTtcblxuZXhwb3J0IGRlZmF1bHQgZW52O1xuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibW9uZ29vc2VcIik7IiwiaW1wb3J0IG0gZnJvbSAnLi9tZXNzYWdlcyc7XG5pbXBvcnQgYyBmcm9tICcuL2NvbnN0cyc7XG5cbmNsYXNzIHNjIHt9XG5cbnNjLklOVEVSTkFMX0VSUk9SID0ge1xuICBpZDogNTAwLFxuICBzdGF0dXM6IDUwMCxcbiAgbXNnOiAnaW50ZXJuYWwgZXJyb3IuJyxcbn07XG5cbnNjLlNVQ0NFU1MgPSB7XG4gIGlkOiAxLFxuICBzdGF0dXM6IDIwMCxcbiAgbXNnOiBtLk9LLFxufTtcblxuc2MuU1VDQ0VTU0ZVTF9VUERBVEUgPSB7IGlkOiAyMiwgc3RhdHVzOiAyMDEsIG1zZzogJ3N1Y2Nlc3NmdWwgdXBkYXRlLicgfTtcblxuc2MuSU5WQUxJRF9NT0RFUkFUSU9OX0ZJRUxEUyA9IHtcbiAgaWQ6IDQwMCxcbiAgc3RhdHVzOiA0MjIsXG4gIG1zZzogJ2ltYWdlSWQsIHVzZXIsIGFuZCBhcHByb3ZlZCAodHJ1ZS9mYWxzZSkgYXJlIHJlcXVpcmVkLicsXG59O1xuXG5zYy5JTlZBTElEX0xJU1RfRklMVEVSID0ge1xuICBpZDogNDAwLFxuICBzdGF0dXM6IDQyMixcbiAgbXNnOiAnZmlsdGVyIG11c3QgYmUgXFwnYWxsXFwnLCBcXCdwZW5kaW5nXFwnLCBcXCdhcHByb3ZlZFxcJywgb3IgXFwncmVqZWN0ZWQuXFwnJyxcbn07XG5cbnNjLlVTRVJfRE9FU05UX0VYSVNUID0ge1xuICBpZDogNDAwLFxuICBzdGF0dXM6IDQyMixcbiAgbXNnOiAnVGhhdCB1c2VyIGRvZXMgbm90IGV4aXN0LicsXG59O1xuXG5PYmplY3QuZnJlZXplKHNjKTtcblxuZXhwb3J0IGRlZmF1bHQgc2M7XG4iLCJcbmV4cG9ydCBkZWZhdWx0IHtcbiAgdXNlcjogJ3VzZXInLFxuICBpbWFnZTogJ2ltYWdlJyxcbn07XG4iLCIvKlxuICBlc2xpbnQgbm8tdXNlbGVzcy1lc2NhcGU6MCwgbm8tdXNlbGVzcy1jb25jYXQ6MCxcbiAgbm8tc2hhZG93OjAsIG5vLXJlc3RyaWN0ZWQtc3ludGF4OjAsIG5vLWF3YWl0LWluLWxvb3A6MFxuKi9cblxuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcblxuaW1wb3J0IGMgZnJvbSAnLi4vY29uZmlnL2NvbnN0cyc7XG5pbXBvcnQgc2MgZnJvbSAnLi4vY29uZmlnL3N0YXR1c0NvZGVzJztcbmltcG9ydCBlYyBmcm9tICcuLi9jb25maWcvZXJyb3JDb2Rlcyc7XG5pbXBvcnQgZW52IGZyb20gJy4uL2NvbmZpZy9lbnYnO1xuXG5jb25zdCBtYXBUb0FycmF5ID0gKG1hcCkgPT4ge1xuICBjb25zdCBvdXRwdXQgPSBbXTtcblxuICBtYXAuZm9yRWFjaCgodmFsdWUsIGtleSwgbWFwKSA9PiB7XG4gICAgb3V0cHV0LnB1c2godmFsdWUpO1xuICB9KTtcblxuICByZXR1cm4gb3V0cHV0O1xufTtcblxuXG5jb25zdCB3cmFwQXN5bmMgPSBhc3luYyBmbiA9PlxuICAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBQcm9taXNlLnJlc29sdmUoZm4ocmVxLCByZXMsIG5leHQpKVxuICAgICAgLmNhdGNoKG5leHQpO1xuICB9O1xuXG5jb25zdCBzdGF0dXNPYmplY3QgPSAoc2MsIG91dHB1dCA9IHt9KSA9PiB7XG4gIGNvbnN0IHsgaWQsIHN0YXR1cywgbXNnIH0gPSBzYztcbiAgcmV0dXJuIHtcbiAgICBpZCxcbiAgICBzdGF0dXMsIC8vIFRPRE86IG5lZWQgdG8gY29uc29saWRhdGUgc2MgdG8gc3RhdHVzIG5vdCBjb2RlLlxuICAgIG1zZyxcbiAgICBkYXRhOiBvdXRwdXQsXG4gIH07XG59O1xuXG5jb25zdCBoYXNPbmx5T25lID0gKG9iaiA9IHt9LCBmaWVsZHMgPSBbXSkgPT4ge1xuICBjb25zdCBvdXQgPSBmaWVsZHMuZmlsdGVyKGYgPT4gZiBpbiBvYmopLm1hcChrID0+ICh7IGZpZWxkOiBrLCB2YWx1ZTogb2JqW2tdIH0pKTtcbiAgcmV0dXJuIChvdXQubGVuZ3RoID09PSAxKSA/IG91dCA6IFtdO1xufTtcblxuY29uc3Qgd3JhcEVycm9yQ29kZSA9IGVycm9yID0+IChbeyBlcnJvciB9XSk7XG5cbmNvbnN0IGVycm9yT2JqZWN0ID0gKGVycm9yKSA9PiB7XG4gIGNvbnN0IG91dHB1dCA9IHt9O1xuXG4gIGlmICghZXJyb3IpIHtcbiAgICByZXR1cm4gb3V0cHV0O1xuICB9XG5cbiAgY29uc3QgeyBpZCA9IDAsIHN0YXR1cyA9IDUwMCwgbXNnID0gJ2ludGVybmFsIGVycm9yJyB9ID0gZXJyb3I7XG5cbiAgb3V0cHV0LmlkID0gaWQ7XG4gIG91dHB1dC5zdGF0dXMgPSBzdGF0dXM7XG4gIG91dHB1dC5tc2cgPSBtc2c7XG5cbiAgaWYgKF8uZ2V0KGVycm9yLCAnZXJyb3JzJykpIHtcbiAgICBvdXRwdXQuZXJyb3JzID0gZXJyb3IuZXJyb3JzO1xuICB9IGVsc2Uge1xuICAgIG91dHB1dC5lcnJvcnMgPSBbXTtcbiAgICBjb25zdCBlID0ge1xuICAgICAgZXJyb3I6IHtcbiAgICAgICAgaWQsXG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgbXNnLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgaWYgKGVycm9yLmV4dHJhKSBlLmV4dHJhID0gZXJyb3IuZXh0cmE7XG4gICAgb3V0cHV0LmVycm9ycy5wdXNoKGUpO1xuICB9XG5cbiAgcmV0dXJuIG91dHB1dDtcbn07XG5cbi8qXG4gIGxvZyBhbiB1bmhhbmRsZWQgZXJyb3IgYW5kIG91dHB1dCBlcnJvck9iamVjdCBkZXBlbmRpbmcgb24gZGVidWcgb3B0aW9uc1xuXG4qL1xuXG5jb25zdCB1bmhhbmRsZWRFcnJvck9iamVjdCA9IChlKSA9PiB7XG4gIGlmIChlbnYuZW52aXJvbm1lbnQgPT09ICdwcm9kdWN0aW9uJyAmJiAhZW52LnN0YWNrVHJhY2VVbmhhbmRsZWRFcnJvcnMpIHtcbiAgICBjb25zb2xlLmxvZyhgJHtlLm1lc3NhZ2V9ICR7ZS5leHRyYX1gKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmxvZyhlLnN0YWNrKTtcbiAgfVxuICBpZiAoZW52LmVudmlyb25tZW50ICE9PSAncHJvZHVjdGlvbicgfHwgZW52LmRlYnVnKSByZXR1cm4gZXJyb3JPYmplY3QoZSk7XG4gIHJldHVybiBlcnJvck9iamVjdChzYy5JTlRFUk5BTF9FUlJPUik7XG59O1xuXG5jb25zdCBwcm9jZXNzUmVzdWx0cyA9IChwYXlsb2FkLCByZXMsIG5leHQpID0+IHtcbiAgY29uc3Qgb3V0cHV0ID0gT2JqZWN0LmFzc2lnbih7fSwgcGF5bG9hZCk7XG5cbiAgaWYgKG91dHB1dCkge1xuICAgIGlmIChvdXRwdXQuZXJyb3IpIHtcbiAgICAgIGlmIChvdXRwdXQuZXJyb3JzKSB7XG4gICAgICAgIG91dHB1dC5lcnJvcnMucHVzaCh7IG1zZzogb3V0cHV0LmVycm9yLm1zZywgc3RhY2s6IG91dHB1dC5lcnJvci5zdGFjayB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dHB1dC5lcnJvcnMgPSBbeyBlcnJvcjogb3V0cHV0LmVycm9yIH1dO1xuICAgICAgfVxuICAgICAgZGVsZXRlIG91dHB1dC5lcnJvcjtcbiAgICAgIGlmICghXy5oYXMob3V0cHV0LCAnc3RhdHVzJykpIHtcbiAgICAgICAgb3V0cHV0LnN0YXR1cyA9IG91dHB1dC5lcnJvcnNbMF0uc3RhdHVzIHx8IDUwMDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXMudHlwZSgnanNvbicpO1xuICAgIHJlcy5zdGF0dXMob3V0cHV0LnN0YXR1cyB8fCA1MDApLnNlbmQob3V0cHV0KTtcbiAgfVxuXG4gIGlmICghcmVzLmhlYWRlcnNTZW50KSB7XG4gICAgbmV4dCgpO1xuICB9XG5cbiAgcmV0dXJuIG91dHB1dDtcbn07XG5cbmNvbnN0IGFzeW5jZWQgPSBhc3luYyAoaW5zdCwgZm4sIHBhcmFtcykgPT4ge1xuICBjb25zdCBbcmVxLCByZXMsIG5leHRdID0gcGFyYW1zO1xuICBjb25zdCBvdXQgPSBhd2FpdCBpbnN0W2ZuXShyZXEpO1xuICBwcm9jZXNzUmVzdWx0cyhvdXQsIHJlcywgbmV4dCk7XG5cbiAgcmV0dXJuIG91dDtcbn07XG5cbmNvbnN0IGFzeW5jRm9yRWFjaExpbmVhciA9IGFzeW5jIChhciwgZm4pID0+IHtcbiAgZm9yIChjb25zdCB0IG9mIGFyKSB7IGF3YWl0IGZuKHQpOyB9XG59O1xuXG5jb25zdCBhc3luY0ZvckVhY2ggPSBhc3luYyAoYXIsIGZuKSA9PiB7XG4gIGF3YWl0IFByb21pc2UuYWxsKGFyLm1hcChmbikpO1xufTtcblxuY29uc3QgZm9ybWF0VGltZUxlZnQgPSAodGltZSkgPT4ge1xuICBjb25zdCBtaW51dGVzID0gKHRpbWUpIC8gNjAgPiAxID8gKHRpbWUpIC8gNjAgOiAxO1xuICByZXR1cm4gYCR7bWludXRlc30gbWludXRlJHsobWludXRlcyAhPT0gMSkgPyAncycgOiAnJ31gO1xufTtcblxuLy8gVE9ETzogbm90IHVzZWQgYXQgdGhlIG1vbWVudC5cbmNvbnN0IGVzY2FwZVJlZ0V4cCA9IHN0ciA9PiBzdHIucmVwbGFjZSgvWy1cXC9cXFxcXiQqKz8uKCl8W1xcXXt9XS9nLCAnXFxcXCQmJyk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBtYXBUb0FycmF5LFxuICB3cmFwRXJyb3JDb2RlLFxuICBoYXNPbmx5T25lLFxuICBwcm9jZXNzUmVzdWx0cyxcbiAgc3RhdHVzT2JqZWN0LFxuICBlcnJvck9iamVjdCxcbiAgdW5oYW5kbGVkRXJyb3JPYmplY3QsXG4gIGZvcm1hdFRpbWVMZWZ0LFxuICBhc3luY2VkLFxuICBhc3luY0ZvckVhY2hMaW5lYXIsXG4gIGFzeW5jRm9yRWFjaCxcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJsb2Rhc2hcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJwYXRoXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImRvdGVudi1zYWZlXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImh0dHBcIik7IiwiaW1wb3J0IFVzZXIgZnJvbSAnLi9Vc2VyJztcbmltcG9ydCBJbWFnZSBmcm9tICcuL0ltYWdlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kZWxzIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5tb2RlbHMgPSBNb2RlbHMuYWxsO1xuICB9XG5cbiAgc3RhdGljIGdldCBhbGwoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVzZXI6IG5ldyBVc2VyKCksXG4gICAgICBpbWFnZTogbmV3IEltYWdlKCksXG4gICAgfTtcbiAgfVxuXG4gIGdldCBhbGwoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHRoaXMubW9kZWxzKTtcbiAgfVxufVxuIiwiLyogZXNsaW50IGNsYXNzLW1ldGhvZHMtdXNlLXRoaXM6IDAsIG1heC1sZW46IDAsIHZhbGlkLXR5cGVvZjowLCBuby1lbXB0eS1mdW5jdGlvbjowICovXG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCB1dWlkdjQgZnJvbSAndXVpZC92NCc7XG5cbmltcG9ydCBVc2VyU2NoZW1hIGZyb20gJy4vc2NoZW1hcy9Vc2VyU2NoZW1hJztcbmltcG9ydCBjIGZyb20gJy4uL2NvbmZpZy9jb25zdHMnO1xuaW1wb3J0IHNjIGZyb20gJy4uL2NvbmZpZy9zdGF0dXNDb2Rlcyc7XG5pbXBvcnQgbW9kZWxzIGZyb20gJy4vY29uc3RzL21vZGVscyc7XG5pbXBvcnQgaCwgeyBzdGF0dXNPYmplY3QsIGVycm9yT2JqZWN0IH0gZnJvbSAnLi4vdXRpbHMvaGVscGVyJztcbmltcG9ydCBlbnYgZnJvbSAnLi4vY29uZmlnL2Vudic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXIge1xuICBzdGF0aWMgZ2V0IE1vZGVsKCkge1xuICAgIHJldHVybiBtb25nb29zZS5tb2RlbChtb2RlbHMudXNlciwgVXNlclNjaGVtYSk7XG4gIH1cblxuICBnZXQgTW9kZWwoKSB7XG4gICAgcmV0dXJuIFVzZXIuTW9kZWw7XG4gIH1cbn1cbiIsIi8vIGEgbGlzdCBvZiBtZXNzYWdlcyB1c2VkIHRocm91Z2hvdXQgdGhlIGFwcCBmb3IgaW50ZXJuYWwgYW5kIGV4dGVybmFsIChyb3V0ZXMsIGV0Yyk7XG5cbmNsYXNzIG0ge31cblxubS5PSyA9ICdPSyc7XG5cbmV4cG9ydCBkZWZhdWx0IG07XG4iLCIvKiBlc2xpbnQgaW1wb3J0L2ZpcnN0OjAsIGdsb2JhbC1yZXF1aXJlOjAgKi9cbmltcG9ydCBzb3VyY2VNYXBTdXBwb3J0IGZyb20gJ3NvdXJjZS1tYXAtc3VwcG9ydCc7XG5cbmltcG9ydCBlbnYgZnJvbSAnLi9jb25maWcvZW52JztcbmltcG9ydCBjIGZyb20gJy4vY29uZmlnL2NvbnN0cyc7XG5cbi8vIGluc3RhbGwgdGhlIHNvdXJjZW1hcCBpZiBpbiBkZWJ1ZyBtb2RlLCBjYW4gZXhwYW5kIG9uIHdlYnBhY2sgc291cmNlbWFwIHR5cGVzLlxuaWYgKGVudi5kZWJ1Zykge1xuICBzb3VyY2VNYXBTdXBwb3J0Lmluc3RhbGwoe1xuICAgIGVudmlyb25tZW50OiBjLk5PREUsXG4gIH0pO1xufVxuXG4vLyBvbmx5IHVzZSB0aGUgdW5oYW5kbGVkIHByb21pc2UgZXJyb3Igb3V0cHV0IGZvciBkZWJ1Z2dpbmcgYW5kIHRlc3RpbmcuXG5pZiAoZW52LmRlYnVnKSB7XG4gIHJlcXVpcmUoJy4vdXRpbHMvcHJvY2Vzc0V2ZW50cycpO1xufVxuXG5pbXBvcnQgeyBhcHAsIHNlcnZlciwgc3RhcnR1cCwgc2h1dGRvd24gfSBmcm9tICcuL2V4cHJlc3MnO1xuXG4vLyBsaXN0ZW4gZm9yIFRFUk0gc2lnbmFsIC5lLmcuIGtpbGxcbnByb2Nlc3Mub24oJ1NJR1RFUk0nLCAoKSA9PiB7IGNvbnNvbGUubG9nKCdTSUdURVJNJyk7IHNodXRkb3duKCk7IH0pO1xuLy8gbGlzdGVuIGZvciBJTlQgc2lnbmFsIGUuZy4gQ3RybC1DXG5wcm9jZXNzLm9uKCdTSUdJTlQnLCAoKSA9PiB7IGNvbnNvbGUubG9nKCdTSUdJTlQnKTsgc2h1dGRvd24oKTsgfSk7XG5cbi8vIHN0YXJ0dXAgdGhlIGh0dHAgc2VydmVyLCBtb25nb29zZSwgcmVkaXMsIGV0Yy5cbnN0YXJ0dXAoKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGFwcCxcbiAgc2VydmVyLFxuICBzdGFydHVwLFxuICBzaHV0ZG93bixcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJzb3VyY2UtbWFwLXN1cHBvcnRcIik7IiwiLyogZXNsaW50IGltcG9ydC9maXJzdDowLCBlc2xpbnQtZGlzYWJsZSwgZXNsaW50IGdsb2JhbC1yZXF1aXJlOjAsIG5vLXNoYWRvdzowICovXG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuaW1wb3J0IGh0dHAgZnJvbSAnaHR0cCc7XG5pbXBvcnQgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcic7XG5pbXBvcnQgY29va2llUGFyc2VyIGZyb20gJ2Nvb2tpZS1wYXJzZXInO1xuaW1wb3J0IGNvcnMgZnJvbSAnY29ycyc7XG5pbXBvcnQgY3NyZiBmcm9tICdjc3VyZic7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9leHByZXNzanMvY3N1cmZcbmltcG9ydCBoZWxtZXQgZnJvbSAnaGVsbWV0JztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IGZzIGZyb20gJ2ZzJztcbmltcG9ydCBjb21wcmVzc2lvbiBmcm9tICdjb21wcmVzc2lvbic7XG5pbXBvcnQgcmVzcG9uc2VUaW1lIGZyb20gJ3Jlc3BvbnNlLXRpbWUnO1xuaW1wb3J0IG1ldGhvZE92ZXJyaWRlIGZyb20gJ21ldGhvZC1vdmVycmlkZSc7XG5cbmltcG9ydCBjIGZyb20gJy4vY29uZmlnL2NvbnN0cyc7XG5pbXBvcnQgbW9uZ28gZnJvbSAnLi9jb25maWcvbW9uZ29vc2UnO1xuaW1wb3J0IGVudiBmcm9tICcuL2NvbmZpZy9lbnYnO1xuaW1wb3J0IGNvbnRyb2xsZXJzIGZyb20gJy4vY29udHJvbGxlcnMnO1xuXG5yZXF1aXJlKCdkb3RlbnYtc2FmZScpLmNvbmZpZygpO1xuXG4vLyBnbG9iYWwgdmFyaWFibGVzIGZvciB0aGlzIGZpbGU6XG5sZXQgaHR0cFNlcnZlciA9IG51bGw7XG5jb25zdCBhcHAgPSBleHByZXNzKCk7XG5cbi8vIHN0YXJ0dXAgc2VydmljZXM6IGh0dHAgc2VydmVyLCBtb25nb29zZSwgcmVkaXMsIGV0Yy5cbmNvbnN0IHN0YXJ0dXAgPSBhc3luYyAob3ZlcnJpZGVQb3J0KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcG9ydCA9IG92ZXJyaWRlUG9ydCB8fCBhcHAuZ2V0KGMuUE9SVCk7XG5cbiAgICAvLyBjb25uZWN0IHRvIG1vbmdvIHRocm91Z2ggbW9uZ29vc2UuXG4gICAgbW9uZ28uc2V0RGVidWcoZW52LmRlYnVnKTtcbiAgICBhd2FpdCBtb25nby5jb25uZWN0KCk7XG5cbiAgICAvLyBjcmVhdGUgaHR0cCBzZXJ2ZXIgd3JhcHBlciBhcm91bmQgZXhwcmVzcyBhcHAuXG4gICAgaHR0cFNlcnZlciA9IGh0dHAuY3JlYXRlU2VydmVyKGFwcCk7XG4gICAgaHR0cFNlcnZlci5saXN0ZW4ocG9ydCk7XG5cbiAgICBjb25zb2xlLmxvZygnbGlzdGVuaW5nIGF0IGh0dHA6Ly8lczolZCcsIGVudi5ob3N0LCBwb3J0KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUubG9nKCdFcnJvcjogJywgZS5zdGFjayk7XG4gIH1cblxuICByZXR1cm4gaHR0cFNlcnZlcjtcbn07XG5cbi8vIGdyYWNlZnVsbHkgc2h1dGRvd24gc2VydmljZXM6IGh0dHAgc2VydmVyLCByZWRpcywgbW9uZ29vc2UsIGV0Yy5cbmNvbnN0IHNodXRkb3duID0gYXN5bmMgKGNhbkV4aXQgPSB0cnVlKSA9PiB7XG4gIGNvbnNvbGUubG9nKGBhcHAgJyR7ZW52LmFwcE5hbWV9JyB0ZXJtaW5hdGluZy5gKTtcbiAgY29uc29sZS5sb2coJ2Nsb3Npbmcgc2VydmVyLi4uJyk7XG5cbiAgdHJ5IHtcbiAgICBhd2FpdCBodHRwU2VydmVyLmNsb3NlKCk7XG4gICAgY29uc29sZS5sb2coJ2V4cHJlc3Mgc2VydmVyIGNsb3NlLicpO1xuXG4gICAgYXdhaXQgbW9uZ29vc2UuY29ubmVjdGlvbi5jbG9zZSgpO1xuICAgIGNvbnNvbGUubG9nKCdNb25nb29zZSBkZWZhdWx0IGNvbm5lY3Rpb24gZGlzY29ubmVjdGVkLicpO1xuXG4gICAgLy8gaW1wZXJhdGl2ZSB0byByZW1vdmUgYWxsIGV2ZW50IGxpc3RlbmVycy5cbiAgICBtb25nb29zZS5jb25uZWN0aW9uLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5sb2coJ1VuY2F1Z2h0IFNodXRkb3duIEVycm9yOicsIGUuc3RhY2spO1xuICB9XG5cbiAgY29uc29sZS5sb2coJ0ZpbmFsbHkgZXhpdGluZy4nKTtcbiAgaWYgKGNhbkV4aXQpIHtcbiAgICBwcm9jZXNzLmV4aXQoMSk7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn07XG5cblxuYXBwLnVzZShoZWxtZXQoKSk7XG5cbmFwcC5kaXNhYmxlKCd4LXBvd2VyZWQtYnknKTtcblxuXG5hcHAudXNlKHJlc3BvbnNlVGltZSgpKTtcbmFwcC51c2UoY29tcHJlc3Npb24oKSk7XG5hcHAudXNlKGNvcnMoe1xuICBvcmlnaW46ICcqJyxcbiAgY3JlZGVudGlhbHM6IHRydWUsXG4gIG9wdGlvbnNTdWNjZXNzU3RhdHVzOiAyMDAsXG4gIGFsbG93ZWRIZWFkZXJzOiBbJ0NvbnRlbnQtVHlwZScsICdBdXRob3JpemF0aW9uJywgJ0FjY2VwdCcsICdBY2NlcHQtRW5jb2RpbmcnXSxcbn0pKTtcbmFwcC51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IGZhbHNlIH0pKTtcblxuYXBwLnVzZSgocmVxLCByZXMsIG5leHQpID0+IHtcbiAgYm9keVBhcnNlci5qc29uKHtcbiAgICB2ZXJpZnkocmVxLCByZXMsIGJ1ZiwgZW5jb2RpbmcpIHtcbiAgICAgIHJlcS5yYXdCb2R5ID0gYnVmLnRvU3RyaW5nKCk7XG4gICAgfSxcbiAgfSkocmVxLCByZXMsIChlcnIpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBjb25zdCBtc2cgPSBlcnIubWVzc2FnZS5pbmRleE9mKCdKU09OJykgIT09IC0xID8gZXJyLm1lc3NhZ2UgOiAnaW50ZXJuYWwgZXJyb3InO1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIHN0YXR1czogNTAwLFxuICAgICAgICAgIG1zZyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zb2xlLmxvZyhjLkVSUk9SLCB7XG4gICAgICAgIHN0YXR1czogZXJyLnN0YXR1cyB8fCA1MDAsXG4gICAgICAgIG1lc3NhZ2U6IGVyci5tc2csXG4gICAgICAgIGVycm9yOiBlcnIsXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV4dCgpO1xuICAgIH1cbiAgfSk7XG59KTtcblxuYXBwLnVzZShjb29raWVQYXJzZXIoKSk7XG5cbmFwcC5zZXQoJ3RydXN0IHByb3h5JywgdHJ1ZSk7XG5hcHAuc2V0KGMuUE9SVCwgZW52LnBvcnQpO1xuXG4vLyBUT0RPOiBuZWVkIHRvIHJldmlldyBiZXN0IHByYWN0aWNlIGZvciBtb3JnYW4gYW5kIGZpeCBsb2dlci5zdHJlYW0gY29uc29sZSBpc3N1ZS5cbmlmIChlbnYuZGVidWcgJiYgZW52LmRlYnVnRXhwcmVzcykge1xuICBjb25zb2xlLmxvZyhcIk92ZXJyaWRpbmcgJ0V4cHJlc3MnIGxvZ2dlclwiKTtcbn1cblxuYXBwLnVzZShjb250cm9sbGVycyk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBhcHAsXG4gIGh0dHBTZXJ2ZXIsXG4gIHN0YXJ0dXAsXG4gIHNodXRkb3duLFxufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJvZHktcGFyc2VyXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNvb2tpZS1wYXJzZXJcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY29yc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjc3VyZlwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJoZWxtZXRcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZnNcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY29tcHJlc3Npb25cIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVzcG9uc2UtdGltZVwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJtZXRob2Qtb3ZlcnJpZGVcIik7IiwiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcblxuaW1wb3J0IE1vZGVscyBmcm9tICcuLi9tb2RlbHMvTW9kZWxzJztcbmltcG9ydCBlbnYgZnJvbSAnLi9lbnYnO1xuaW1wb3J0IGMgZnJvbSAnLi4vY29uZmlnL2NvbnN0cyc7XG5pbXBvcnQgaCBmcm9tICcuLi91dGlscy9oZWxwZXInO1xuXG5jb25zdCBzdGF0ZSA9IHtcbiAgZGI6IG51bGwsXG4gIHRlc3Q6IGZhbHNlLFxufTtcblxuY29uc3QgZ2V0ID0gKCkgPT4gc3RhdGUuZGI7XG5cbmNvbnN0IHNldEFzVGVzdCA9ICgpID0+IHtcbiAgc3RhdGUudGVzdCA9IHRydWU7XG59O1xuXG5jb25zdCBjcmVhdGVJbmRleGVzID0gYXN5bmMgKCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IG1vZGVscyA9IE1vZGVscy5hbGw7XG4gICAgYXdhaXQgaC5hc3luY0ZvckVhY2goT2JqZWN0LmtleXMobW9kZWxzKSwgYXN5bmMgKG1vZGVsKSA9PiB7XG4gICAgICBpZiAobW9kZWxzW21vZGVsXSAmJiBtb2RlbHNbbW9kZWxdLk1vZGVsKSB7XG4gICAgICAgIGlmIChtb2RlbHNbbW9kZWxdLk1vZGVsLmNvbGxlY3Rpb24pIHtcbiAgICAgICAgICBhd2FpdCBtb2RlbHNbbW9kZWxdLk1vZGVsLmNvbGxlY3Rpb24uZ2V0SW5kZXhlcygpO1xuICAgICAgICAgIGF3YWl0IG1vZGVsc1ttb2RlbF0uTW9kZWwuY29sbGVjdGlvbi5kcm9wSW5kZXhlcygpO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IG1vZGVsc1ttb2RlbF0uTW9kZWwuY3JlYXRlSW5kZXhlcygpO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5sb2coZSk7XG4gICAgcmV0dXJuIGgudW5oYW5kbGVkRXJyb3JPYmplY3QoZSk7XG4gIH1cbn07XG5cblxuLy8gcHJpbnQgbW9uZ29vc2UgbG9ncyBpbiBkZXYgZW52XG5jb25zdCBzZXREZWJ1ZyA9IChkZWJ1ZykgPT4ge1xuICBpZiAoZW52LmRlYnVnRGIpIHtcbiAgICAvLyBUT0RPIG1ha2UgdGhpcyBhbiBlbnZpcm9ubWVudCB2YXJpYWJsZS5cbiAgICBtb25nb29zZS5jb25uZWN0aW9uLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIG1vbmdvb3NlLnNldChjLkRFQlVHLCB0cnVlKTtcbiAgICBpZiAoZW52LmRlYnVnKSB7XG4gICAgICBjb25zb2xlLmxvZyhgc3RhcnRpbmcgaW4gZGVidWcgbW9kZTsgZW52PSR7ZW52LmVudmlyb25tZW50fWApO1xuICAgIH1bXG4gICAgICBjLkNPTk5FQ1RJTkcsXG4gICAgICBjLkNPTk5FQ1RFRCxcbiAgICAgIGMuT1BFTixcbiAgICAgIGMuRElTQ09OTkVDVElORyxcbiAgICAgIGMuRElTQ09OTkVDVEVELFxuICAgICAgYy5DTE9TRSxcbiAgICAgIGMuUkVDT05ORUNURUQsXG4gICAgICBjLkVSUk9SLFxuICAgICAgYy5BTEwsXG4gICAgICBjLklOREVYLFxuICAgIF0uZm9yRWFjaCgoZXZlbnQpID0+IHtcbiAgICAgIG1vbmdvb3NlLmNvbm5lY3Rpb24ub24oZXZlbnQsICgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coYE1vbmdvb3NlIGV2ZW50ICR7ZXZlbnR9YCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufTtcblxuLyoqXG4gKiBDb25uZWN0IHRvIG1vbmdvIGRiXG4gKlxuICogQHJldHVybnMge29iamVjdH0gTW9uZ29vc2UgY29ubmVjdGlvblxuICogQHB1YmxpY1xuICovXG5jb25zdCBjb25uZWN0ID0gYXN5bmMgKHVyaSwgZGIpID0+IHtcbiAgY29uc3QgbW9uZ29VcmkgPSB1cmkgfHwgYCR7ZW52Lm1vbmdvLnVyaX1gO1xuICBjb25zdCBkYk5hbWUgPSBkYiB8fCBgJHtlbnYubW9uZ28uZGJOYW1lfWA7XG5cbiAgY29uc3Qgb3B0cyA9IHtcbiAgICBkYk5hbWU6IGRiTmFtZSB8fCBlbnYubW9uZ28uZGJOYW1lLFxuICAgIHJlY29ubmVjdFRyaWVzOiA1LFxuICAgIHJlY29ubmVjdEludGVydmFsOiA1MDAsIC8vIFJlY29ubmVjdCBldmVyeSA1MDBtc1xuICAgIGtlZXBBbGl2ZTogdHJ1ZSxcbiAgICBjb25maWc6IHtcbiAgICAgIGF1dG9JbmRleDogZmFsc2UsXG4gICAgICBiYWNrZ3JvdW5kOiBmYWxzZSxcbiAgICB9LFxuICB9O1xuXG4gIGlmIChlbnYuZGVidWcpIHtcbiAgICBjb25zb2xlLmxvZyhgbW9uZ28gVXJpOiAke21vbmdvVXJpfWApO1xuICAgIGNvbnNvbGUubG9nKGBtb25nbyBEYjogJHtkYk5hbWV9YCk7XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IGNvbm4gPSBhd2FpdCBtb25nb29zZS5jb25uZWN0KG1vbmdvVXJpLCBvcHRzKTtcbiAgICBzdGF0ZS5kYiA9IGNvbm47XG4gICAgcmV0dXJuIHN0YXRlLmRiO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5sb2coJ0Vycm9yOiAnLCBlLnN0YWNrKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBnZXQsXG4gIHNldEFzVGVzdCxcbiAgc2V0RGVidWcsXG4gIGNvbm5lY3QsXG4gIGNyZWF0ZUluZGV4ZXMsXG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibW9tZW50XCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInV1aWQvdjRcIik7IiwiLyogZXNsaW50IG5vLXZvaWQ6IDAgKi9cbmltcG9ydCB7IFNjaGVtYSB9IGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCBtb2RlbHMgZnJvbSAnLi4vY29uc3RzL21vZGVscyc7XG5pbXBvcnQgYyBmcm9tICcuLi8uLi9jb25maWcvY29uc3RzJztcblxuY29uc3QgVXNlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICAvLyBoYXNoaWRcbiAgdXNlcklkOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgdXNlcjogeyAvLyB0aGlzIGlzIGFjdHVhbGx5IHVzZXJuYW1lLCBidXQgdGhlIHNwZWNzIGNhbGxlZCBmb3IgdXNlclxuICAgIHR5cGU6IFN0cmluZyxcbiAgICBtaW5sZW5ndGg6IDIsXG4gICAgbWF4bGVuZ3RoOiAxNixcbiAgfSxcbn0sIHsgYXV0b0luZGV4OiB0cnVlLCB0aW1lc3RhbXBzOiB0cnVlLCBjb2xsZWN0aW9uOiBtb2RlbHMudXNlciB9KTtcblxuVXNlclNjaGVtYS5pbmRleCh7IGFjY291bnRJZDogMSwgdXNlcjogMSB9LCB7IHVuaXF1ZTogdHJ1ZSB9KTtcblVzZXJTY2hlbWEuaW5kZXgoeyBhY2NvdW50SWQ6IDEsIHVzZXJJZDogMSB9LCB7IHVuaXF1ZTogdHJ1ZSB9KTtcblxuZXhwb3J0IGRlZmF1bHQgVXNlclNjaGVtYTtcbiIsImltcG9ydCBtIGZyb20gJy4vbWVzc2FnZXMnO1xuaW1wb3J0IGMgZnJvbSAnLi9jb25zdHMnO1xuXG5jbGFzcyBlYyB7fVxuXG5lYy5JTlRFUk5BTF9FUlJPUiA9IHtcbiAgaWQ6IDUwMCxcbiAgc3RhdHVzOiA1MDAsXG4gIG1zZzogJ2ludGVybmFsIGVycm9yLicsXG59O1xuXG5lYy5FTlVNX1BST1BfTk9UX0ZPVU5EID0ge1xuICBpZDogMTAwMDEsXG4gIHN0YXR1czogNDAwLFxuICBtc2c6ICdlbnVtIHByb3BlcnR5IGRvZXMgbm90IGV4aXN0LicsXG59O1xuXG5lYy5JTlZBTElEX0ZJRUxEX1NPVVJDRV9UWVBFID0ge1xuICBpZDogMTAwMDEsXG4gIHN0YXR1czogNDAwLFxuICBtc2c6ICdpbnZhbGlkIHNvdXJjZSBmaWVsZCB0eXBlLCB1c2U6IHBhcmFtcyBvciBib2R5LicsXG59O1xuXG5lYy5JTlZBTElEX1ZBTElEQVRJT05fRklFTEQgPSB7XG4gIGlkOiAxMDAwMixcbiAgc3RhdHVzOiA0MDAsXG4gIG1zZzogJ3RoYXQgdmFsaWRhdGlvbiBmaWVsZCBpcyBub3QgaW4gdGhlIHZhbGlkYXRpb24gbWFwLicsXG59O1xuXG5lYy5URVNUID0ge1xuICBpZDogMSxcbiAgc3RhdHVzOiAxLFxuICBtc2c6ICd0ZXN0Jyxcbn07XG5cbk9iamVjdC5mcmVlemUoZWMpO1xuXG5leHBvcnQgZGVmYXVsdCBlYztcbiIsIi8qIGVzbGludCBjbGFzcy1tZXRob2RzLXVzZS10aGlzOiAwLCBtYXgtbGVuOiAwLCB2YWxpZC10eXBlb2Y6MCwgbm8tZW1wdHktZnVuY3Rpb246MCAqL1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcblxuaW1wb3J0IEltYWdlU2NoZW1hIGZyb20gJy4vc2NoZW1hcy9JbWFnZVNjaGVtYSc7XG5pbXBvcnQgVXNlciBmcm9tICcuL1VzZXInO1xuXG5pbXBvcnQgYyBmcm9tICcuLi9jb25maWcvY29uc3RzJztcbmltcG9ydCBzYyBmcm9tICcuLi9jb25maWcvc3RhdHVzQ29kZXMnO1xuaW1wb3J0IG1vZGVscyBmcm9tICcuL2NvbnN0cy9tb2RlbHMnO1xuaW1wb3J0IGgsIHsgc3RhdHVzT2JqZWN0IH0gZnJvbSAnLi4vdXRpbHMvaGVscGVyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW1hZ2Uge1xuICBzdGF0aWMgZ2V0IE1vZGVsKCkge1xuICAgIHJldHVybiBtb25nb29zZS5tb2RlbChtb2RlbHMuSW1hZ2UsIEltYWdlU2NoZW1hKTtcbiAgfVxuXG4gIGdldCBNb2RlbCgpIHtcbiAgICByZXR1cm4gSW1hZ2UuTW9kZWw7XG4gIH1cblxuICAvKlxuICAgIHJldHVybnMgYW4gYXJyYXkgb2YgaW1hZ2VzIHdoZXRoZXIgbW9kZXJhdG9yZWQgb3Igbm90LlxuICAgIEdFVCAvYXBpL2ltYWdlL2xpc3Qve2ZpbHRlcn1cblxuICAqL1xuXG4gIGFzeW5jIGxpc3QocmVxID0ge30pIHtcbiAgICBjb25zdCB7IGZpbHRlciA9ICdhbGwnIH0gPSByZXEucGFyYW1zO1xuICAgIGNvbnN0IGZpbHRlcnMgPSBbJ2FsbCcsICdwZW5kaW5nJywgJ2FwcHJvdmVkJywgJ3JlamVjdGVkJ107XG5cbiAgICBpZiAoIWZpbHRlcnMuaW5jbHVkZXMoZmlsdGVyKSkge1xuICAgICAgcmV0dXJuIHNjLklOVkFMSURfTElTVF9GSUxURVI7XG4gICAgfVxuXG4gICAgbGV0IGZpbmQgPSB7fTtcblxuICAgIHN3aXRjaCAoZmlsdGVyKSB7XG4gICAgICBjYXNlICdwZW5kaW5nJzpcbiAgICAgICAgZmluZCA9IHsgYXBwcm92ZWQ6IHsgJGV4aXN0czogZmFsc2UgfSwgbW9kZXJhdG9ySWQ6IHsgJGV4aXN0czogZmFsc2UgfSB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2FwcHJvdmVkJzpcbiAgICAgICAgZmluZCA9IHsgYXBwcm92ZWQ6IHRydWUgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZWplY3RlZCc6XG4gICAgICAgIGZpbmQgPSB7IGFwcHJvdmVkOiBmYWxzZSB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGZpbmQgPSB7fTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IEltYWdlLk1vZGVsLmZpbmQoZmluZCkuc29ydCh7IHRzOiAxIH0pLmxlYW4oKTtcblxuICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzYy5TVUNDRVNTLnN0YXR1cywgZGF0YTogeyBtZXNzYWdlOiBkYXRhIH0gfTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gaC51bmhhbmRsZWRFcnJvck9iamVjdChlKTtcbiAgICB9XG4gIH1cblxuICAvKlxuICAgIHJldHVybnMgYW4gYXJyYXkgb2YgMSBpbWFnZSBvciBlbXB0eSBhcnJheSBmb3IgdGhlIG5leHQgdW5tb2RlcmF0ZWQgaW1hZ2UuXG4gICAgR0VUIC9hcGkvaW1hZ2UvbmV4dFxuXG4gICovXG5cbiAgYXN5bmMgbmV4dFVubW9kZXJhdGVkKHJlcSA9IHt9KSB7XG4gICAgY29uc29sZS5sb2coJyEhIScpO1xuICAgIGNvbnN0IHsgdXNlciB9ID0gcmVxLnF1ZXJ5O1xuXG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICByZXR1cm4gc2MuVVNFUl9ET0VTTlRfRVhJU1Q7XG4gICAgfVxuXG4gICAgLy8gbWFrZSBzdXJlIHRoZSB1c2VyIGV4aXN0c1xuICAgIGNvbnN0IHUgPSBhd2FpdCBVc2VyLk1vZGVsLmZpbmQoeyB1c2VyIH0pLmxlYW4oKTtcbiAgICBpZiAodS5sZW5ndGggPCAxKSB7XG4gICAgICByZXR1cm4gc2MuVVNFUl9ET0VTTlRfRVhJU1Q7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBJbWFnZS5Nb2RlbC5maW5kKHtcbiAgICAgICAgJGFuZDogW1xuICAgICAgICAgIHsgYXBwcm92ZWQ6IHsgJGV4aXN0czogZmFsc2UgfSB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgICRvcjogW1xuICAgICAgICAgICAgICB7IG1vZGVyYXRvcklkOiB7ICRleGlzdHM6IGZhbHNlIH0gfSxcbiAgICAgICAgICAgICAgeyBtb2RlcmF0b3JJZDogdVswXS51c2VySWQgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH0pLnNvcnQoeyBtb2RlcmF0b3JJZDogLTEsIHRzOiAxIH0pLmxpbWl0KDIpLmxlYW4oKTtcblxuICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICBsZXQgdXBkYXRlZDtcblxuICAgICAgaWYgKCF1WzBdLm1vZGVyYXRvcklkKSB7XG4gICAgICAgIHVwZGF0ZWQgPSBhd2FpdCBJbWFnZS5Nb2RlbC51cGRhdGVPbmUoXG4gICAgICAgICAgeyBfaWQ6IGRhdGFbMF0uX2lkIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgICBtb2RlcmF0b3JJZDogdVswXS51c2VySWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgICAgIGNvbnNvbGUubG9nKHVwZGF0ZWQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4geyBzdGF0dXM6IHNjLlNVQ0NFU1Muc3RhdHVzLCBkYXRhOiB7IG1lc3NhZ2U6IGRhdGEgfSB9O1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBoLnVuaGFuZGxlZEVycm9yT2JqZWN0KGUpO1xuICAgIH1cbiAgfVxuXG4gIC8qXG4gICAgdXBkYXRlcyBhbiBpbWFnZSB3aXRoIHRoZSBpZCBvZiB0aGUgaW1hZ2UsIGFwcHJvdmVkIGJvb2xlYW4gKHRydWUvZmFsc2UpIGFuZCBtb2RlcmF0b3JJZCAodXNlcklkKTtcbiAgICBQVVQgL2FwaS9pbWFnZS91cGRhdGVcblxuICAqL1xuXG4gIGFzeW5jIG1vZGVyYXRlKHJlcSA9IHt9KSB7XG4gICAgY29uc3QgeyBpbWFnZUlkLCB1c2VyLCBhcHByb3ZlZCB9ID0gcmVxLmJvZHk7XG5cbiAgICBjb25zb2xlLmxvZyhpbWFnZUlkLCB1c2VyLCBhcHByb3ZlZCk7XG5cbiAgICBpZiAoIWltYWdlSWQgfHwgIXVzZXIgfHwgdHlwZW9mIGFwcHJvdmVkICE9PSAnYm9vbGVhbicpIHtcbiAgICAgIHJldHVybiBzYy5JTlZBTElEX01PREVSQVRJT05fRklFTERTO1xuICAgIH1cblxuICAgIC8vIG1ha2Ugc3VyZSB0aGUgdXNlciBleGlzdHNcbiAgICBjb25zdCB1ID0gYXdhaXQgVXNlci5Nb2RlbC5maW5kKHsgdXNlciB9KS5sZWFuKCk7XG4gICAgaWYgKHUubGVuZ3RoIDwgMSkge1xuICAgICAgcmV0dXJuIHNjLlVTRVJfRE9FU05UX0VYSVNUO1xuICAgIH1cblxuICAgIGNvbnN0IHsgT2JqZWN0SWQgfSA9IG1vbmdvb3NlLlR5cGVzO1xuXG4gICAgLy8gdXBkYXRlIDEgaW1hZ2VcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IEltYWdlLk1vZGVsLnVwZGF0ZU9uZShcbiAgICAgICAgeyBfaWQ6IG5ldyBPYmplY3RJZChpbWFnZUlkKSB9LFxuICAgICAgICB7XG4gICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgbW9kZXJhdG9ySWQ6IHVbMF0udXNlcklkLFxuICAgICAgICAgICAgYXBwcm92ZWQsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICk7XG5cbiAgICAgIC8vIGNoZWNrIHdoYXQgd2FzIHJldHVybiB0byBzZWUgaWYgaW1hZ2Ugd2FzIHVwZGF0ZWQsIG5Nb2RpZmllZCBzaG91bGQgPT09IDE7XG4gICAgICByZXR1cm4geyBzdGF0dXM6IHNjLlNVQ0NFU1Muc3RhdHVzLCBkYXRhOiB7IG1lc3NhZ2U6IHVwZGF0ZWQubk1vZGlmaWVkID09PSAxIH0gfTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gaC51bmhhbmRsZWRFcnJvck9iamVjdChlKTtcbiAgICB9XG4gIH1cblxuICAvKlxuICAgIHJldHVybnMgYW4gYXJyYXkgb2YgdGhlIGxhc3QgNSBpbWFnZXMgdGhhdCBoYXZlIGJlZW4gbW9kZXJhdGVkIGJ5IHRoaXMgdXNlciBvciByZXR1cm4gZW1wdHkgYXJyYXlcbiAgICBHRVQgL2FwaS9pbWFnZS9saXN0XG5cbiAgKi9cblxuICBhc3luYyBtb2RlcmF0ZWQocmVxID0ge30pIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyB1c2VyIH0gPSByZXEucXVlcnk7XG5cbiAgICAgIGlmICghdXNlcikge1xuICAgICAgICByZXR1cm4gc2MuVVNFUl9ET0VTTlRfRVhJU1Q7XG4gICAgICB9XG5cbiAgICAgIC8vIG1ha2Ugc3VyZSB0aGUgdXNlciBleGlzdHNcbiAgICAgIGNvbnN0IHUgPSBhd2FpdCBVc2VyLk1vZGVsLmZpbmQoeyB1c2VyIH0pLmxlYW4oKTtcbiAgICAgIGlmICh1Lmxlbmd0aCA8IDEpIHtcbiAgICAgICAgcmV0dXJuIHNjLlVTRVJfRE9FU05UX0VYSVNUO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgSW1hZ2UuTW9kZWwuZmluZCh7IG1vZGVyYXRvcklkOiB1WzBdLnVzZXJJZCwgYXBwcm92ZWQ6IHsgJGV4aXN0czogdHJ1ZSB9IH0pXG4gICAgICAgIC5zb3J0KHsgdXBkYXRlZEF0OiAtMSB9KS5saW1pdCg1KS5za2lwKDApXG4gICAgICAgIC5sZWFuKCk7XG5cbiAgICAgIHJldHVybiB7IHN0YXR1czogc2MuU1VDQ0VTUy5zdGF0dXMsIGRhdGE6IHsgbWVzc2FnZTogZGF0YSB9IH07XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIGgudW5oYW5kbGVkRXJyb3JPYmplY3QoZSk7XG4gICAgfVxuICB9XG5cbiAgLypcbiAgICB1dGlsaXR5IG1ldGhvZCB0byBjbGVhciB0aGUgZGIgZm9yIHRlc3RpbmcgcHVycG9zZXM7XG4gICAgd2lsbCByZW1vdmUgYXBwcm92ZWQgYW5kIG1vZGVyYXRvcklkIGZpZWxkcyB0byB0ZXN0IHRoaXMgZXhhbXBsZSBvdmVyIGFuZCBvdmVyIGFnYWluLlxuICAgIEdFVCAvYXBpL2ltYWdlL2NsZWFyXG5cbiAgKi9cblxuICBhc3luYyBjbGVhcihyZXEgPSB7fSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cGRhdGVkID0gYXdhaXQgSW1hZ2UuTW9kZWwudXBkYXRlTWFueShcbiAgICAgICAge30sXG4gICAgICAgIHtcbiAgICAgICAgICAkdW5zZXQ6IHtcbiAgICAgICAgICAgIG1vZGVyYXRvcklkOiBudWxsLFxuICAgICAgICAgICAgYXBwcm92ZWQ6IG51bGwsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICk7XG5cbiAgICAgIHJldHVybiB7IHN0YXR1czogc2MuU1VDQ0VTUy5zdGF0dXMsIGRhdGE6IHsgbWVzc2FnZTogdXBkYXRlZCB9IH07XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIGgudW5oYW5kbGVkRXJyb3JPYmplY3QoZSk7XG4gICAgfVxuICB9XG59XG4iLCIvKiBlc2xpbnQgbm8tdm9pZDogMCAqL1xuaW1wb3J0IHsgU2NoZW1hIH0gZnJvbSAnbW9uZ29vc2UnO1xuaW1wb3J0IG1vZGVscyBmcm9tICcuLi9jb25zdHMvbW9kZWxzJztcbmltcG9ydCBjIGZyb20gJy4uLy4uL2NvbmZpZy9jb25zdHMnO1xuXG5jb25zdCBJbWFnZVNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICAvLyBoYXNoaWRcbiAgdHM6IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSB9LFxuICB1cmw6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICBtb2RlcmF0b3JJZDogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IHZvaWQgMCB9LFxuICBhcHByb3ZlZDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiB2b2lkIDAgfSxcbn0sIHsgYXV0b0luZGV4OiB0cnVlLCB0aW1lc3RhbXBzOiB0cnVlLCBjb2xsZWN0aW9uOiBtb2RlbHMuaW1hZ2UgfSk7XG5cbkltYWdlU2NoZW1hLmluZGV4KHsgdHM6IDEgfSk7XG5JbWFnZVNjaGVtYS5pbmRleCh7IHVybDogMSB9LCB7IHVuaXF1ZTogdHJ1ZSB9KTtcblxuZXhwb3J0IGRlZmF1bHQgSW1hZ2VTY2hlbWE7XG4iLCJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBodHRwIGZyb20gJ2h0dHAnO1xuXG5pbXBvcnQgYyBmcm9tICcuLi9jb25maWcvY29uc3RzJztcbmltcG9ydCBzYyBmcm9tICcuLi9jb25maWcvc3RhdHVzQ29kZXMnO1xuXG4vLyBpbXBvcnQgVXNlciBmcm9tICcuL1VzZXInO1xuaW1wb3J0IEltYWdlIGZyb20gJy4vSW1hZ2UnO1xuaW1wb3J0IE1vZGVscyBmcm9tICcuLi9tb2RlbHMvTW9kZWxzJztcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcbmNvbnN0IGJhc2UgPSAnL2FwaS92MSc7IC8vIGhhcmQgY29kZSBsYW5nIGZvciBub3cuIG1ha2UgZHluYW1pYyB3aGVuIG5lZWRlZC5cbmNvbnN0IG1vZGVscyA9IE1vZGVscy5hbGw7XG5cbi8vIHJvdXRlci51c2UoYCR7YmFzZX0vdXNlcmAsIFVzZXIucm91dGVzKG1vZGVscy51c2VyKSk7XG5yb3V0ZXIudXNlKGAke2Jhc2V9L2ltYWdlYCwgSW1hZ2Uucm91dGVzKG1vZGVscy5pbWFnZSkpO1xuXG4vLyBjYXRjaCA0MDQgYW5kIGZvcndhcmQgdG8gZXJyb3IgaGFuZGxlclxucm91dGVyLnVzZSgocmVxLCByZXMsIG5leHQpID0+IHtcbiAgY29uc3QgZXJyID0gbmV3IEVycm9yKCdOb3QgRm91bmQnKTtcbiAgZXJyLnN0YXR1cyA9IDQwNDtcbiAgbmV4dChlcnIpO1xufSk7XG5cbi8vIGVycm9yIGhhbmRsZXJcbnJvdXRlci51c2UoKGVyciwgcmVxLCByZXMsIG5leHQpID0+IHtcbiAgY29uc3Qgc3RhdHVzID0gZXJyLnN0YXR1cyA/IGVyci5zdGF0dXMgOiA1MDA7XG4gIGxldCBtc2cgPSBgJHtzdGF0dXN9OiAke2Vyci5tZXNzYWdlfWA7XG5cbiAgaWYgKCFBcnJheS5pc0FycmF5KG1zZykpIHtcbiAgICBtc2cgPSBbbXNnXTtcbiAgfVxuXG4gIGNvbnN0IHJlc3BvbnNlID0geyBlcnJvcnM6IG1zZyB9O1xuICBpZiAoZXJyLmRhdGEpIHtcbiAgICByZXNwb25zZS5lcnJvcnMgPSBlcnIuZGF0YTtcbiAgfVxuXG4gIHJlcy5zdGF0dXMoc3RhdHVzKS5zZW5kKHJlc3BvbnNlKTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XG4iLCJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcblxuaW1wb3J0IGMgZnJvbSAnLi4vY29uZmlnL2NvbnN0cyc7XG5pbXBvcnQgc2MgZnJvbSAnLi4vY29uZmlnL3N0YXR1c0NvZGVzJztcbmltcG9ydCBoLCB7IGFzeW5jZWQgfSBmcm9tICcuLi91dGlscy9oZWxwZXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbWFnZSB7XG4gIHN0YXRpYyByb3V0ZXMobSkge1xuICAgIGNvbnN0IHIgPSBleHByZXNzLlJvdXRlcigpO1xuXG4gICAgLy8gY2xlYXIgdGhlIGltYWdlIHRhYmxlIHRvIHJlc2V0IHVubW9kZXJhdGVkXG4gICAgci5nZXQoJy9jbGVhcicsIGFzeW5jICguLi5wKSA9PiB7IGF3YWl0IGFzeW5jZWQobSwgJ2NsZWFyJywgcCk7IH0pO1xuXG4gICAgLy8gbGlzdCBpbWFnZXMgaW4gZGI7IHNvcnRlZCBkZXNjZW5kaW5nIGJ5IHRpbWVzdGFtcFxuICAgIHIuZ2V0KCcvbGlzdCcsIGFzeW5jICguLi5wKSA9PiB7IGF3YWl0IGFzeW5jZWQobSwgJ2xpc3QnLCBwKTsgfSk7XG4gICAgLy8gZmlsZXIgY2FuIGJlIGFsbCwgYXBwcm92ZWQsIHBlbmRpbmcsIHJlamVjdGVkXG4gICAgci5nZXQoJy9saXN0LzpmaWx0ZXInLCBhc3luYyAoLi4ucCkgPT4geyBhd2FpdCBhc3luY2VkKG0sICdsaXN0JywgcCk7IH0pO1xuXG4gICAgLy8gcmV0dXJuIHRoZSBuZXh0IDEgdW5tb2RlcmF0ZWQgaW1hZ2UgaW4gcXVldWU7IHNvcnQgYXNjZW5kaW5nIHRpbWVzdGFtcDtcbiAgICByLmdldCgnL25leHQnLCBhc3luYyAoLi4ucCkgPT4geyBhd2FpdCBhc3luY2VkKG0sICduZXh0VW5tb2RlcmF0ZWQnLCBwKTsgfSk7XG5cbiAgICAvLyBtb2RlcmF0ZSBhbiBpbWFnZTsgc2V0IGFwcHJvdmVkID0gdHJ1ZS9mYWxzZTsgc2V0IHVzZXJJZDtcbiAgICByLnB1dCgnL21vZGVyYXRlJywgYXN5bmMgKC4uLnApID0+IHsgYXdhaXQgYXN5bmNlZChtLCAnbW9kZXJhdGUnLCBwKTsgfSk7XG5cbiAgICAvLyBhcGkvdXNlci9sYXN0LW1vZGVyYXRlZC8/dXNlcj11c2VyaWQmbGltaXQ9eCZvZmZzZXQ9eVxuICAgIHIuZ2V0KCcvbW9kZXJhdGVkJywgYXN5bmMgKC4uLnApID0+IHsgYXdhaXQgYXN5bmNlZChtLCAnbW9kZXJhdGVkJywgcCk7IH0pO1xuXG4gICAgY29uc29sZS5sb2coJyMjIyMnKTtcbiAgICByZXR1cm4gcjtcbiAgfVxufVxuIiwiaW1wb3J0IGVudiBmcm9tICcuLi9jb25maWcvZW52JztcbmltcG9ydCBjIGZyb20gJy4uL2NvbmZpZy9jb25zdHMnO1xuXG4vLyBvbmx5IHVzZSB0aGlzIGZvciBkZWJ1Z2dpbmcgYW5kIHRlc3Rpbmc7IG5ldmVyIG5vbi1kZWJ1ZyBwcm9kdWN0aW9uLlxuLy8gc29tZXRpbWVzIHByb21pc2UgZXJyb3JzIHNsaXAgdGhyb3VnaCBkdXJpbmcgZGVidWdnaW5nLlxuaWYgKGVudi5kZWJ1Zykge1xuICBwcm9jZXNzLm9uKCd1bmhhbmRsZWRSZWplY3Rpb24nLCAocmVhc29uLCBwKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ3VuaGFuZGxlZFJlamVjdGlvbi4uLicpO1xuICAgIGxldCBwcm9tID0gJyc7XG4gICAgaWYgKHApIHtcbiAgICAgIHByb20gPSBgVW5oYW5kbGVkIFJlamVjdGlvbiBhdDogUHJvbWlzZSR7cH1gO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZygncmVhc29uOicsIHByb20sIHJlYXNvbik7XG4gICAgLy8gYXBwbGljYXRpb24gc3BlY2lmaWMgbG9nZ2luZywgdGhyb3dpbmcgYW4gZXJyb3IsIG9yIG90aGVyIGxvZ2ljIGhlcmVcbiAgfSk7XG5cbiAgcHJvY2Vzcy5vbigndW5jYXVnaHRFeGNlcHRpb24nLCAoZSkgPT4ge1xuICAgIC8vIGhhbmRsZSB0aGUgZXJyb3Igc2FmZWx5XG4gICAgY29uc29sZS5sb2coJ0Vycm9yOiAnLCBlLnN0YWNrKTtcbiAgfSk7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9